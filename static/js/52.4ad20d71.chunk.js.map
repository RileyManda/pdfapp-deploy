{"version":3,"sources":["../node_modules/react-autowhatever/dist/compareObjects.js","../node_modules/react-autosuggest/dist/index.js","../node_modules/react-autosuggest/dist/Autosuggest.js","../node_modules/shallow-equal/arrays/index.js","../node_modules/react-autowhatever/dist/index.js","../node_modules/react-autowhatever/dist/Autowhatever.js","../node_modules/section-iterator/dist/index.js","../node_modules/react-themeable/dist/index.js","../node_modules/react-themeable/node_modules/object-assign/index.js","../node_modules/react-autowhatever/dist/SectionTitle.js","../node_modules/react-autowhatever/dist/ItemsList.js","../node_modules/react-autowhatever/dist/Item.js","../node_modules/react-autosuggest/dist/theme.js","../node_modules/autosuggest-highlight/match/index.js","../node_modules/diacritic/diacritics.js","../node_modules/autosuggest-highlight/parse/index.js","../../src/index.ts","../node_modules/downshift/dist/downshift.esm.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","default","objA","objB","keys","arguments","length","undefined","aKeys","bKeys","keysMap","i","len","key","aValue","bValue","aValueKeys","bValueKeys","n","aValueKey","module","require","_extends","assign","target","source","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_propTypes2","_arrays2","_reactAutowhatever2","_theme","__esModule","alwaysTrue","Autosuggest","_Component","_ref2","alwaysRenderSuggestions","instance","TypeError","_classCallCheck","this","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","_initialiseProps","state","isFocused","isCollapsed","highlightedSectionIndex","highlightedSuggestionIndex","highlightedSuggestion","valueBeforeUpDown","justPressedUpDown","justMouseEntered","pressedSuggestion","subClass","superClass","create","setPrototypeOf","_inherits","document","addEventListener","onDocumentMouseDown","onDocumentMouseUp","input","autowhatever","suggestionsContainer","itemsContainer","nextProps","suggestions","highlightFirstSuggestion","willRenderSuggestions","justSelectedSuggestion","revealSuggestions","resetHighlightedSuggestion","prevProps","prevState","_props","onSuggestionHighlighted","getHighlightedSuggestion","suggestion","removeEventListener","sectionIndex","suggestionIndex","prevValue","_this2","setState","getSuggestion","shouldResetValueBeforeUpDown","_props2","multiSection","getSectionSuggestions","_state","getSuggestionValue","suggestionElement","getAttribute","parseInt","startNode","node","parentNode","console","error","Error","event","newValue","method","_props$inputProps","inputProps","onChange","shouldRenderSuggestions","trim","_this3","_props3","renderInputComponent","onSuggestionsFetchRequested","renderSuggestion","renderSectionTitle","id","theme","_state2","_onFocus","onFocus","_onKeyDown","onKeyDown","isOpen","items","autowhateverInputProps","justClickedOnSuggestionsContainer","shouldRender","reason","onBlur","focus","blurEvent","onSuggestionsClearRequested","maybeCallOnChange","scrollTop","data","keyCode","newHighlightedSectionIndex","newHighlightedItemIndex","getSuggestionValueByIndex","updateHighlightedSuggestion","preventDefault","setTimeout","closeSuggestions","_newValue","onSuggestionSelected","suggestionValue","willCloseSuggestions","renderSuggestionData","query","getQuery","createElement","renderItemsContainer","renderSuggestionsContainer","renderItem","renderItemData","getSectionItems","highlightedItemIndex","itemProps","mapToAutowhateverTheme","ref","storeAutowhateverRef","Component","propTypes","array","isRequired","propName","func","bool","focusInputOnSuggestionClick","object","string","defaultProps","_ref","containerProps","children","defaultTheme","_this4","detail","onSuggestionMouseEnter","_ref3","itemIndex","onSuggestionMouseDown","_props4","onSuggestionClick","_props5","_getSuggestionIndices","getSuggestionIndices","findSuggestionElement","clickedSuggestion","clickedSuggestionValue","_props6","onSuggestionMouseLeave","onSuggestionTouchStart","onSuggestionTouchMove","_ref4","onMouseEnter","onMouseLeave","onMouseDown","onTouchStart","onTouchMove","onClick","_ref5","arrA","arrB","_slicedToArray","arr","Array","isArray","_arr","_n","_d","_e","_s","_i","next","done","push","err","sliceIterator","_sectionIterator2","_reactThemeable2","_SectionTitle2","_ItemsList2","emptyObject","Autowhatever","storeInputReference","storeItemsContainerReference","onHighlightedItemChange","highlightedItem","getItemId","isInputFocused","_this$props","nextPrev","_this$sectionIterator","sectionIterator","_this$sectionIterator2","setSectionsItems","setSectionIterator","setTheme","ensureHighlightedItemIsVisible","sectionsItems","map","section","sectionsLengths","allSectionsAreEmpty","every","itemsCount","keyPrefix","sectionKeyPrefix","isFirstSection","storeItemsListReference","itemOffsetRelativeToContainer","offsetParent","offsetTop","offsetHeight","renderedItems","renderSections","renderItems","ariaActivedescendant","itemsContainerId","role","inputComponent","type","autoComplete","oneOfType","number","container","containerOpen","inputOpen","inputFocused","itemsContainerOpen","itemsList","item","itemFirst","itemHighlighted","sectionContainer","sectionContainerFirst","sectionTitle","position","_position","nextNonEmptySectionIndex","prev","_position2","prevNonEmptySectionIndex","isLast","_toConsumableArray","arr2","from","_objectAssign","_objectAssign2","truthy","x","classNameDecorator","_len","names","_key","styles","name","filter","className","apply","join","style","concat","propIsEnumerable","propertyIsEnumerable","ToObject","val","ownEnumerableKeys","getOwnPropertyNames","getOwnPropertySymbols","to","s","_compareObjects2","SectionTitle","any","_Item2","ItemsList","_temp","args","storeHighlightedItemReference","sectionPrefix","isItemPropsFunction","isFirst","isHighlighted","itemKey","itemPropsObj","allItemProps","Item","storeItemReference","_this$props2","_this$props3","_this$props4","restProps","indexOf","_objectWithoutProperties","suggestionsContainerOpen","suggestionsList","suggestionFirst","suggestionHighlighted","result","removeDiacritics","clean","specialCharsRegex","wordCharacterRegex","whitespacesRegex","text","split","word","reduce","wordLen","prefix","test","regex","RegExp","replace","index","search","slice","sort","match1","match2","definition","output","reference","refLength","letters","j","letLength","base","letter","define","matches","highlight","forEach","match","startIndex","endIndex","isElement","el","nodeType","canOverflow","overflow","skipOverflowHiddenElements","isScrollable","clientHeight","scrollHeight","clientWidth","scrollWidth","getComputedStyle","overflowY","overflowX","frame","ownerDocument","defaultView","frameElement","e","alignNearest","scrollingEdgeStart","scrollingEdgeEnd","scrollingSize","scrollingBorderStart","scrollingBorderEnd","elementEdgeStart","elementEdgeEnd","elementSize","idCounter","cbToCb","cb","noop","scrollIntoView","menuNode","options","windowWithViewport","window","scrollMode","block","inline","boundary","checkBoundary","scrollingElement","documentElement","frames","cursor","body","viewportWidth","visualViewport","width","innerWidth","viewportHeight","height","innerHeight","viewportX","scrollX","pageXOffset","viewportY","scrollY","pageYOffset","getBoundingClientRect","targetHeight","targetWidth","targetTop","top","targetRight","right","targetBottom","bottom","targetLeft","left","targetBlock","targetInline","computations","frameStyle","borderLeft","borderLeftWidth","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","blockScroll","inlineScroll","scrollbarWidth","offsetWidth","scrollbarHeight","Math","max","scrollLeft","min","computeScrollIntoView","isOrContainsNode","parent","child","contains","debounce","fn","time","timeoutId","cancel","clearTimeout","wrapper","callAllEventHandlers","_len2","fns","_key2","_len3","_key3","some","preventDownshiftDefault","nativeEvent","handleRefs","_len4","refs","_key4","current","getA11yStatusMessage","selectedItem","resultCount","previousResultCount","itemToString","unwrapArray","arg","defaultValue","isDOMElement","element","getElementProps","stateKeys","pickState","k","getState","isControlledProp","normalizeArrowKey","getNextWrappingIndex","moveAmount","baseIndex","itemCount","getItemNodeFromIndex","circular","itemsLastIndex","newIndex","nonDisabledNewIndex","getNextNonDisabledIndex","currentElementNode","hasAttribute","_index","targetWithinDownshift","rootNode","checkActiveElement","contextNode","activeElement","cleanupStatus","getStatusDiv","textContent","setStatus","status","documentProp","div","statusDiv","getElementById","setAttribute","border","clip","margin","padding","appendChild","stateChangeTypes","freeze","unknown","mouseUp","itemMouseEnter","keyDownArrowUp","keyDownArrowDown","keyDownEscape","keyDownEnter","keyDownHome","keyDownEnd","clickItem","blurInput","changeInput","keyDownSpaceButton","clickButton","blurButton","controlledPropUpdatedSelectedItem","touchEnd","Downshift","String","menuId","labelId","inputId","timeoutIds","internalSetTimeout","setItemCount","count","unsetItemCount","setHighlightedIndex","highlightedIndex","otherStateToSet","defaultHighlightedIndex","internalSetState","clearSelection","inputValue","defaultIsOpen","selectItem","selectItemAtIndex","selectHighlightedItem","stateToSet","isItemSelected","onChangeArg","onStateChangeArg","isStateToSetFunction","onInputValueChange","getStateAndHelpers","newStateToSet","stateReducer","nextState","nextFullState","onStateChange","onSelect","onUserAction","rootRef","_rootNode","getRootProps","_temp2","_extends2","_ref$refKey","refKey","rest","_objectWithoutPropertiesLoose","_ref2$suppressRefErro","suppressRefError","called","keyDownHandlers","ArrowDown","amount","shiftKey","moveHighlightedIndex","getItemCount","nextHighlightedIndex","ArrowUp","Enter","_this$getState2","itemNode","Escape","reset","buttonKeyDownHandlers","toggleMenu","inputKeyDownHandlers","Home","newHighlightedIndex","End","_this5","getToggleButtonProps","_temp3","onPress","onKeyUp","enabledEventHandlers","buttonHandleClick","buttonHandleKeyDown","buttonHandleKeyUp","buttonHandleBlur","eventHandlers","disabled","_assertThisInitialized","environment","blurTarget","isMouseDown","getLabelProps","htmlFor","getInputProps","_temp4","onInput","onChangeText","_eventHandlers","_this$getState6","inputHandleChange","inputHandleKeyDown","inputHandleBlur","downshiftButtonIsActive","dataset","toggle","menuRef","_menuNode","getMenuProps","_temp5","_temp6","_extends3","_ref5$refKey","_ref6$suppressRefErro","getItemProps","_temp7","_enabledEventHandlers","_ref7","onMouseMove","_ref7$item","customClickHandler","avoidScrolling","clearItems","_ref8","_ref9","_this$getState7","openMenu","closeMenu","updateStatus","_this$props$initialHi","initialHighlightedIndex","_highlightedIndex","_this$props$initialIs","initialIsOpen","_isOpen","_this$props$initialIn","initialInputValue","_inputValue","_this$props$initialSe","initialSelectedItem","_selectedItem","_inheritsLoose","_proto","internalClearTimeouts","stateToMerge","scrollHighlightedItemIntoView","_this6","_this$getState9","componentDidMount","_this7","onMouseUp","onOuterClick","isTouchMove","onTouchEnd","contextWithinDownshift","cleanup","shouldScroll","currentHighlightedIndex","prevHighlightedIndex","componentDidUpdate","selectedItemChanged","componentWillUnmount","render","cloneElement","process","prevItem","a","changes","selectionParameters","getA11ySelectionMessage","itemToStringLocal","circularNavigation","PropTypes","shape"],"mappings":";sGAEAA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAIC,EAA4B,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAwB,SAAUC,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,oBAAXF,QAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOI,UAAY,gBAAkBF,GAEtQL,EAAQQ,QACR,SAAwBC,EAAMC,GAC5B,IAAIC,EAAOC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,GAE/E,GAAIH,IAASC,EACX,OAAO,EAGT,IAAIK,EAAQjB,OAAOa,KAAKF,GACpBO,EAAQlB,OAAOa,KAAKD,GAExB,GAAIK,EAAMF,SAAWG,EAAMH,OACzB,OAAO,EAGT,IAAII,EAAU,GACVC,OAAI,EACJC,OAAM,EAEV,IAAKD,EAAI,EAAGC,EAAMR,EAAKE,OAAQK,EAAIC,EAAKD,IACtCD,EAAQN,EAAKO,KAAM,EAGrB,IAAKA,EAAI,EAAGC,EAAMJ,EAAMF,OAAQK,EAAIC,EAAKD,IAAK,CAC5C,IAAIE,EAAML,EAAMG,GACZG,EAASZ,EAAKW,GACdE,EAASZ,EAAKU,GAElB,GAAIC,IAAWC,EAAf,CAIA,IAAKL,EAAQG,IAAmB,OAAXC,GAA8B,OAAXC,GAAuF,YAAjD,qBAAXD,EAAyB,YAAcnB,EAAQmB,KAA6F,YAAjD,qBAAXC,EAAyB,YAAcpB,EAAQoB,IAChM,OAAO,EAGT,IAAIC,EAAazB,OAAOa,KAAKU,GACzBG,EAAa1B,OAAOa,KAAKW,GAE7B,GAAIC,EAAWV,SAAWW,EAAWX,OACnC,OAAO,EAGT,IAAK,IAAIY,EAAI,EAAGZ,EAASU,EAAWV,OAAQY,EAAIZ,EAAQY,IAAK,CAC3D,IAAIC,EAAYH,EAAWE,GAE3B,GAAIJ,EAAOK,KAAeJ,EAAOI,GAC/B,OAAO,IAKb,OAAO,I,kCC1DTC,EAAO3B,QAAU4B,EAAQ,MAAiBpB,S,kCCA1CV,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAI4B,EAAW/B,OAAOgC,QAAU,SAAUC,GAAU,IAAK,IAAIb,EAAI,EAAGA,EAAIN,UAAUC,OAAQK,IAAK,CAAE,IAAIc,EAASpB,UAAUM,GAAI,IAAK,IAAIE,KAAOY,EAAclC,OAAOS,UAAU0B,eAAeC,KAAKF,EAAQZ,KAAQW,EAAOX,GAAOY,EAAOZ,IAAY,OAAOW,GAEnPI,EAAe,WAAc,SAASC,EAAiBL,EAAQM,GAAS,IAAK,IAAInB,EAAI,EAAGA,EAAImB,EAAMxB,OAAQK,IAAK,CAAE,IAAIoB,EAAaD,EAAMnB,GAAIoB,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM3C,OAAOC,eAAegC,EAAQO,EAAWlB,IAAKkB,IAAiB,OAAO,SAAUI,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAYnC,UAAWoC,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASjB,EAAQ,GAEjBkB,EAAUC,EAAuBF,GAIjCG,EAAcD,EAFDnB,EAAQ,IAMrBqB,EAAWF,EAFDnB,EAAQ,OAMlBsB,EAAsBH,EAFDnB,EAAQ,OAI7BuB,EAASvB,EAAQ,MAErB,SAASmB,EAAuB1C,GAAO,OAAOA,GAAOA,EAAI+C,WAAa/C,EAAM,CAAEG,QAASH,GAQvF,IAAIgD,EAAa,WACf,OAAO,GAeLC,EAAc,SAAUC,GAG1B,SAASD,EAAYE,GACnB,IAAIC,EAA0BD,EAAMC,yBA1BxC,SAAyBC,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,qCA4B5GC,CAAgBC,KAAMP,GAEtB,IAAIQ,EA5BR,SAAoCC,EAAM7B,GAAQ,IAAK6B,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAO9B,GAAyB,kBAATA,GAAqC,oBAATA,EAA8B6B,EAAP7B,EA4BlN+B,CAA2BJ,MAAOP,EAAYY,WAAapE,OAAOqE,eAAeb,IAAcpB,KAAK2B,OAiBhH,OAfAO,EAAiBlC,KAAK4B,GAEtBA,EAAMO,MAAQ,CACZC,WAAW,EACXC,aAAcd,EACde,wBAAyB,KACzBC,2BAA4B,KAC5BC,sBAAuB,KACvBC,kBAAmB,MAGrBb,EAAMc,mBAAoB,EAC1Bd,EAAMe,kBAAmB,EAEzBf,EAAMgB,kBAAoB,KACnBhB,EA4cT,OAvfF,SAAmBiB,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIrB,UAAU,kEAAoEqB,GAAeD,EAASxE,UAAYT,OAAOmF,OAAOD,GAAcA,EAAWzE,UAAW,CAAED,YAAa,CAAEL,MAAO8E,EAAUxC,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAewC,IAAYlF,OAAOoF,eAAiBpF,OAAOoF,eAAeH,EAAUC,GAAcD,EAASb,UAAYc,GAmB/dG,CAAU7B,EAAaC,GA2BvBpB,EAAamB,EAAa,CAAC,CACzBlC,IAAK,oBACLnB,MAAO,WACLmF,SAASC,iBAAiB,YAAaxB,KAAKyB,qBAC5CF,SAASC,iBAAiB,UAAWxB,KAAK0B,mBAE1C1B,KAAK2B,MAAQ3B,KAAK4B,aAAaD,MAC/B3B,KAAK6B,qBAAuB7B,KAAK4B,aAAaE,iBAE/C,CACDvE,IAAK,4BACLnB,MAAO,SAAmC2F,IACpC,EAAI3C,EAASzC,SAASoF,EAAUC,YAAahC,KAAKxB,MAAMwD,aACtDD,EAAUE,0BAA4BF,EAAUC,YAAYhF,OAAS,IAAgC,IAA3BgD,KAAKe,oBAAyD,IAA1Bf,KAAKgB,kBACrHhB,KAAKiC,2BAGHjC,KAAKkC,sBAAsBH,GACzB/B,KAAKQ,MAAME,cAAgBV,KAAKmC,wBAClCnC,KAAKoC,oBAGPpC,KAAKqC,+BAIV,CACD9E,IAAK,qBACLnB,MAAO,SAA4BkG,EAAWC,GAC5C,IAAIC,EAASxC,KAAKxB,MACdwD,EAAcQ,EAAOR,YACrBS,EAA0BD,EAAOC,wBACjCR,EAA2BO,EAAOP,yBAGtC,KAAK,EAAI7C,EAASzC,SAASqF,EAAaM,EAAUN,cAAgBA,EAAYhF,OAAS,GAAKiF,EAC1FjC,KAAKiC,gCAIP,GAAIQ,EAAyB,CAC3B,IAAI5B,EAAwBb,KAAK0C,2BAG7B7B,GAF4B0B,EAAU1B,uBAGxC4B,EAAwB,CACtBE,WAAY9B,OAKnB,CACDtD,IAAK,uBACLnB,MAAO,WACLmF,SAASqB,oBAAoB,YAAa5C,KAAKyB,qBAC/CF,SAASqB,oBAAoB,UAAW5C,KAAK0B,qBAE9C,CACDnE,IAAK,8BACLnB,MAAO,SAAqCyG,EAAcC,EAAiBC,GACzE,IAAIC,EAAShD,KAEbA,KAAKiD,UAAS,SAAUzC,GACtB,IAAIM,EAAoBN,EAAMM,kBAS9B,OANwB,OAApBgC,EACFhC,EAAoB,KACW,OAAtBA,GAAmD,qBAAdiC,IAC9CjC,EAAoBiC,GAGf,CACLpC,wBAAyBkC,EACzBjC,2BAA4BkC,EAC5BjC,sBAA2C,OAApBiC,EAA2B,KAAOE,EAAOE,cAAcL,EAAcC,GAC5FhC,kBAAmBA,QAIxB,CACDvD,IAAK,6BACLnB,MAAO,WACL,IAAI+G,IAA+BpG,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,KAAmBA,UAAU,GAElGiD,KAAKiD,UAAS,SAAUzC,GACtB,IAAIM,EAAoBN,EAAMM,kBAG9B,MAAO,CACLH,wBAAyB,KACzBC,2BAA4B,KAC5BC,sBAAuB,KACvBC,kBAAmBqC,EAA+B,KAAOrC,QAI9D,CACDvD,IAAK,oBACLnB,MAAO,WACL4D,KAAKiD,SAAS,CACZvC,aAAa,MAGhB,CACDnD,IAAK,mBACLnB,MAAO,WACL4D,KAAKiD,SAAS,CACZtC,wBAAyB,KACzBC,2BAA4B,KAC5BC,sBAAuB,KACvBC,kBAAmB,KACnBJ,aAAa,MAGhB,CACDnD,IAAK,gBACLnB,MAAO,SAAuByG,EAAcC,GAC1C,IAAIM,EAAUpD,KAAKxB,MACfwD,EAAcoB,EAAQpB,YACtBqB,EAAeD,EAAQC,aACvBC,EAAwBF,EAAQE,sBAGpC,OAAID,EACKC,EAAsBtB,EAAYa,IAAeC,GAGnDd,EAAYc,KAEpB,CACDvF,IAAK,2BACLnB,MAAO,WACL,IAAImH,EAASvD,KAAKQ,MACdG,EAA0B4C,EAAO5C,wBACjCC,EAA6B2C,EAAO3C,2BAGxC,OAAmC,OAA/BA,EACK,KAGFZ,KAAKkD,cAAcvC,EAAyBC,KAEpD,CACDrD,IAAK,4BACLnB,MAAO,SAAmCyG,EAAcC,GAItD,OAAOU,EAHkBxD,KAAKxB,MAAMgF,oBAGVxD,KAAKkD,cAAcL,EAAcC,MAE5D,CACDvF,IAAK,uBACLnB,MAAO,SAA8BqH,GACnC,IAAIZ,EAAeY,EAAkBC,aAAa,sBAC9CZ,EAAkBW,EAAkBC,aAAa,yBAErD,MAAO,CACLb,aAAsC,kBAAjBA,EAA4Bc,SAASd,EAAc,IAAM,KAC9EC,gBAAiBa,SAASb,EAAiB,OAG9C,CACDvF,IAAK,wBACLnB,MAAO,SAA+BwH,GACpC,IAAIC,EAAOD,EAEX,EAAG,CACD,GAAmD,OAA/CC,EAAKH,aAAa,yBACpB,OAAOG,EAGTA,EAAOA,EAAKC,iBACI,OAATD,GAGT,MADAE,QAAQC,MAAM,mBAAoBJ,GAC5B,IAAIK,MAAM,sCAEjB,CACD1G,IAAK,oBACLnB,MAAO,SAA2B8H,EAAOC,EAAUC,GACjD,IAAIC,EAAoBrE,KAAKxB,MAAM8F,WAC/BlI,EAAQiI,EAAkBjI,MAC1BmI,EAAWF,EAAkBE,SAG7BJ,IAAa/H,GACfmI,EAASL,EAAO,CAAEC,SAAUA,EAAUC,OAAQA,MAGjD,CACD7G,IAAK,wBACLnB,MAAO,SAA+BoC,GACpC,IAAIwD,EAAcxD,EAAMwD,YACpBsC,EAAa9F,EAAM8F,WACnBE,EAA0BhG,EAAMgG,wBAChCpI,EAAQkI,EAAWlI,MAGvB,OAAO4F,EAAYhF,OAAS,GAAKwH,EAAwBpI,KAE1D,CACDmB,IAAK,WACLnB,MAAO,WACL,IACIA,EADa4D,KAAKxB,MAAM8F,WACLlI,MACnB0E,EAAoBd,KAAKQ,MAAMM,kBAGnC,OAA8B,OAAtBA,EAA6B1E,EAAQ0E,GAAmB2D,SAEjE,CACDlH,IAAK,SACLnB,MAAO,WACL,IAAIsI,EAAS1E,KAET2E,EAAU3E,KAAKxB,MACfwD,EAAc2C,EAAQ3C,YACtB4C,EAAuBD,EAAQC,qBAC/BC,EAA8BF,EAAQE,4BACtCC,EAAmBH,EAAQG,iBAC3BR,EAAaK,EAAQL,WACrBjB,EAAesB,EAAQtB,aACvB0B,EAAqBJ,EAAQI,mBAC7BC,EAAKL,EAAQK,GACb1B,EAAwBqB,EAAQrB,sBAChC2B,EAAQN,EAAQM,MAChBzB,EAAqBmB,EAAQnB,mBAC7B5D,EAA0B+E,EAAQ/E,wBAClCqC,EAA2B0C,EAAQ1C,yBACnCiD,EAAUlF,KAAKQ,MACfC,EAAYyE,EAAQzE,UACpBC,EAAcwE,EAAQxE,YACtBC,EAA0BuE,EAAQvE,wBAClCC,EAA6BsE,EAAQtE,2BACrCE,EAAoBoE,EAAQpE,kBAE5B0D,EAA0B5E,EAA0BJ,EAAaQ,KAAKxB,MAAMgG,wBAC5EpI,EAAQkI,EAAWlI,MACnB+I,EAAWb,EAAWc,QACtBC,EAAaf,EAAWgB,UAExBpD,EAAwBlC,KAAKkC,sBAAsBlC,KAAKxB,OACxD+G,EAAS3F,GAA2Ba,IAAcC,GAAewB,EACjEsD,EAAQD,EAASvD,EAAc,GAC/ByD,EAAyBzH,EAAS,GAAIsG,EAAY,CACpDc,QAAS,SAAiBlB,GACxB,IAAKQ,EAAOvC,yBAA2BuC,EAAOgB,kCAAmC,CAC/E,IAAIC,EAAenB,EAAwBpI,GAE3CsI,EAAOzB,SAAS,CACdxC,WAAW,EACXC,aAAciF,IAGhBR,GAAYA,EAASjB,GAEjByB,GACFd,EAA4B,CAAEzI,MAAOA,EAAOwJ,OAAQ,oBAI1DC,OAAQ,SAAgB3B,GAClBQ,EAAOgB,kCACThB,EAAO/C,MAAMmE,SAIfpB,EAAOqB,UAAY7B,EAEdQ,EAAOvC,yBACVuC,EAAOmB,SACPnB,EAAOsB,iCAGXzB,SAAU,SAAkBL,GAC1B,IAAI9H,EAAQ8H,EAAMhG,OAAO9B,MAErBuJ,EAAenB,EAAwBpI,GAE3CsI,EAAOuB,kBAAkB/B,EAAO9H,EAAO,QAEnCsI,EAAO7C,uBACT6C,EAAO7C,qBAAqBqE,UAAY,GAG1CxB,EAAOzB,SAASjF,EAAS,GAAIiE,EAA2B,GAAK,CAC3DtB,wBAAyB,KACzBC,2BAA4B,KAC5BC,sBAAuB,MACtB,CACDC,kBAAmB,KACnBJ,aAAciF,KAGZA,EACFd,EAA4B,CAAEzI,MAAOA,EAAOwJ,OAAQ,kBAEpDlB,EAAOsB,+BAGXV,UAAW,SAAmBpB,EAAOiC,GACnC,IAAIC,EAAUlC,EAAMkC,QAGpB,OAAQA,GACN,KAAK,GACL,KAAK,GAEH,GAAI1F,EACE8D,EAAwBpI,KAC1ByI,EAA4B,CAC1BzI,MAAOA,EACPwJ,OAAQ,yBAEVlB,EAAOtC,0BAEJ,GAAIJ,EAAYhF,OAAS,EAAG,CACjC,IAAIqJ,EAA6BF,EAAKE,2BAClCC,EAA0BH,EAAKG,wBAG/BnC,OAAW,EAMbA,EAJ8B,OAA5BmC,EAI+B,OAAtBxF,EAA6B1E,EAAQ0E,EAErC4D,EAAO6B,0BAA0BF,EAA4BC,GAG1E5B,EAAO8B,4BAA4BH,EAA4BC,EAAyBlK,GACxFsI,EAAOuB,kBAAkB/B,EAAOC,EAAsB,KAAZiC,EAAiB,OAAS,MAGtElC,EAAMuC,iBAEN/B,EAAO3D,mBAAoB,EAE3B2F,YAAW,WACThC,EAAO3D,mBAAoB,KAG7B,MAGF,KAAK,GAGD,GAAsB,MAAlBmD,EAAMkC,QACR,MAGF,IAAIvF,EAAwB6D,EAAOhC,2BAMnC,GAJI6C,IAAW3F,GACb8E,EAAOiC,mBAGoB,MAAzB9F,EAA+B,CACjC,IAAI+F,EAAYpD,EAAmB3C,GAEnC6D,EAAOuB,kBAAkB/B,EAAO0C,EAAW,SAE3ClC,EAAOmC,qBAAqB3C,EAAO,CACjCvB,WAAY9B,EACZiG,gBAAiBF,EACjB9D,gBAAiBlC,EACjBiC,aAAclC,EACdyD,OAAQ,UAGVM,EAAOvC,wBAAyB,EAEhCuE,YAAW,WACThC,EAAOvC,wBAAyB,KAIpC,MAIJ,KAAK,GAEGoD,GAKFrB,EAAMuC,iBAGR,IAAIM,EAAuBxB,IAAW3F,EAEtC,GAA0B,OAAtBkB,GAEF,IAAKiG,EAAsB,CAGzBrC,EAAOuB,kBAAkB/B,EAFR,GAE2B,UAExCM,EAJa,IAKfK,EAA4B,CAC1BzI,MANa,GAObwJ,OAAQ,mBAGVlB,EAAOsB,oCAKXtB,EAAOuB,kBAAkB/B,EAAOpD,EAAmB,UAGjDiG,GACFrC,EAAOsB,8BACPtB,EAAOiC,oBAEPjC,EAAOrC,6BAOfgD,GAAcA,EAAWnB,MAGzB8C,EAAuB,CACzBC,MAAOjH,KAAKkH,YAGd,OAAOjI,EAAQtC,QAAQwK,cAAc9H,EAAoB1C,QAAS,CAChE0G,aAAcA,EACdmC,MAAOA,EACPZ,qBAAsBA,EACtBwC,qBAAsBpH,KAAKqH,2BAC3BC,WAAYxC,EACZyC,eAAgBP,EAChBjC,mBAAoBA,EACpByC,gBAAiBlE,EACjB3C,wBAAyBA,EACzB8G,qBAAsB7G,EACtB0D,WAAYmB,EACZiC,UAAW1H,KAAK0H,UAChBzC,OAAO,EAAI3F,EAAOqI,wBAAwB1C,GAC1CD,GAAIA,EACJ4C,IAAK5H,KAAK6H,2BAKTpI,EAreS,CAsehBT,EAAO8I,WAETrI,EAAYsI,UAAY,CACtB/F,YAAa7C,EAAYxC,QAAQqL,MAAMC,WACvCpD,4BAA6B,SAAqCrG,EAAO0J,GACvE,IAAIrD,EAA8BrG,EAAM0J,GAExC,GAA2C,oBAAhCrD,EACT,MAAM,IAAIZ,MAAM,0IAGpB+B,4BAA6B,SAAqCxH,EAAO0J,GACvE,IAAIlC,EAA8BxH,EAAM0J,GAExC,IAAsC,IAAlC1J,EAAMoB,yBAA4E,oBAAhCoG,EACpD,MAAM,IAAI/B,MAAM,0IAGpB4C,qBAAsB1H,EAAYxC,QAAQwL,KAC1C1F,wBAAyBtD,EAAYxC,QAAQwL,KAC7CvD,qBAAsBzF,EAAYxC,QAAQwL,KAC1Cd,2BAA4BlI,EAAYxC,QAAQwL,KAChD3E,mBAAoBrE,EAAYxC,QAAQwL,KAAKF,WAC7CnD,iBAAkB3F,EAAYxC,QAAQwL,KAAKF,WAC3C3D,WAAY,SAAoB9F,EAAO0J,GACrC,IAAI5D,EAAa9F,EAAM0J,GAEvB,IAAK5D,EAAWlG,eAAe,SAC7B,MAAM,IAAI6F,MAAM,mCAGlB,IAAKK,EAAWlG,eAAe,YAC7B,MAAM,IAAI6F,MAAM,uCAGpBO,wBAAyBrF,EAAYxC,QAAQwL,KAC7CvI,wBAAyBT,EAAYxC,QAAQyL,KAC7C/E,aAAclE,EAAYxC,QAAQyL,KAClCrD,mBAAoB,SAA4BvG,EAAO0J,GACrD,IAAInD,EAAqBvG,EAAM0J,GAE/B,IAA2B,IAAvB1J,EAAM6E,cAAuD,oBAAvB0B,EACxC,MAAM,IAAId,MAAM,wHAGpBX,sBAAuB,SAA+B9E,EAAO0J,GAC3D,IAAI5E,EAAwB9E,EAAM0J,GAElC,IAA2B,IAAvB1J,EAAM6E,cAA0D,oBAA1BC,EACxC,MAAM,IAAIW,MAAM,8HAGpBoE,4BAA6BlJ,EAAYxC,QAAQyL,KACjDnG,yBAA0B9C,EAAYxC,QAAQyL,KAC9CnD,MAAO9F,EAAYxC,QAAQ2L,OAC3BtD,GAAI7F,EAAYxC,QAAQ4L,QAE1B9I,EAAY+I,aAAe,CACzBnB,2BA1iBsC,SAA2CoB,GACjF,IAAIC,EAAiBD,EAAKC,eACtBC,EAAWF,EAAKE,SACpB,OAAO1J,EAAQtC,QAAQwK,cACrB,MACAuB,EACAC,IAqiBFnE,wBA9iBmC,SAAwCpI,GAC3E,OAAOA,EAAMqI,OAAOzH,OAAS,GA8iB7B4C,yBAAyB,EACzByD,cAAc,EACdgF,6BAA6B,EAC7BpG,0BAA0B,EAC1BgD,MAAO3F,EAAOsJ,aACd5D,GAAI,KAGN,IAAIzE,EAAmB,WACrB,IAAIsI,EAAS7I,KAEbA,KAAKyB,oBAAsB,SAAUyC,GACnC2E,EAAOnD,mCAAoC,EAK3C,IAHA,IAAI7B,EAAOK,EAAM4E,QAAU5E,EAAM4E,OAAO5K,QACxCgG,EAAMhG,OAEU,OAAT2F,GAAiBA,IAAStC,UAAU,CACzC,GAAmD,OAA/CsC,EAAKH,aAAa,yBAEpB,OAGF,GAAIG,IAASgF,EAAOhH,qBAGlB,YADAgH,EAAOnD,mCAAoC,GAI7C7B,EAAOA,EAAKC,aAIhB9D,KAAK6H,qBAAuB,SAAUjG,GACf,OAAjBA,IACFiH,EAAOjH,aAAeA,IAI1B5B,KAAK+I,uBAAyB,SAAU7E,EAAO8E,GAC7C,IAAInG,EAAemG,EAAMnG,aACrBoG,EAAYD,EAAMC,UAEtBJ,EAAOrC,4BAA4B3D,EAAcoG,GAE7C/E,EAAMhG,SAAW2K,EAAO5H,oBAC1B4H,EAAO1G,wBAAyB,GAGlC0G,EAAO7H,kBAAmB,EAE1B0F,YAAW,WACTmC,EAAO7H,kBAAmB,MAI9BhB,KAAKiC,yBAA2B,WAC9B4G,EAAOrC,4BAA4BqC,EAAOrK,MAAM6E,aAAe,EAAI,KAAM,IAG3ErD,KAAK0B,kBAAoB,WACnBmH,EAAO5H,oBAAsB4H,EAAO1G,wBACtC0G,EAAOlH,MAAMmE,QAEf+C,EAAO5H,kBAAoB,MAG7BjB,KAAKkJ,sBAAwB,SAAUhF,GAGhC2E,EAAO1G,yBACV0G,EAAO1G,wBAAyB,EAChC0G,EAAO5H,kBAAoBiD,EAAMhG,SAIrC8B,KAAKgG,4BAA8B,WACjC,IAAIA,EAA8B6C,EAAOrK,MAAMwH,4BAG/CA,GAA+BA,KAGjChG,KAAK6G,qBAAuB,SAAU3C,EAAOiC,GAC3C,IAAIgD,EAAUN,EAAOrK,MACjBoB,EAA0BuJ,EAAQvJ,wBAClCiH,EAAuBsC,EAAQtC,qBAC/BhC,EAA8BsE,EAAQtE,4BAG1CgC,GAAwBA,EAAqB3C,EAAOiC,GAEhDvG,EACFiF,EAA4B,CAC1BzI,MAAO+J,EAAKW,gBACZlB,OAAQ,wBAGViD,EAAO7C,8BAGT6C,EAAOxG,8BAGTrC,KAAKoJ,kBAAoB,SAAUlF,GACjC,IAAImF,EAAUR,EAAOrK,MACjBoB,EAA0ByJ,EAAQzJ,wBAClCyI,EAA8BgB,EAAQhB,4BAEtCiB,EAAwBT,EAAOU,qBAAqBV,EAAOW,sBAAsBtF,EAAMhG,SACvF2E,EAAeyG,EAAsBzG,aACrCC,EAAkBwG,EAAsBxG,gBAExC2G,EAAoBZ,EAAO3F,cAAcL,EAAcC,GACvD4G,EAAyBb,EAAOrK,MAAMgF,mBAAmBiG,GAE7DZ,EAAO5C,kBAAkB/B,EAAOwF,EAAwB,SACxDb,EAAOhC,qBAAqB3C,EAAO,CACjCvB,WAAY8G,EACZ3C,gBAAiB4C,EACjB5G,gBAAiBA,EACjBD,aAAcA,EACduB,OAAQ,UAGLxE,GACHiJ,EAAOlC,oBAG2B,IAAhC0B,EACFQ,EAAOlH,MAAMmE,QAEb+C,EAAOhD,SAGTa,YAAW,WACTmC,EAAO1G,wBAAyB,MAIpCnC,KAAK6F,OAAS,WACZ,IAAI8D,EAAUd,EAAOrK,MACjB8F,EAAaqF,EAAQrF,WACrBE,EAA0BmF,EAAQnF,wBAClCpI,EAAQkI,EAAWlI,MACnByJ,EAASvB,EAAWuB,OAEpBhF,EAAwBgI,EAAOnG,2BAC/BiD,EAAenB,EAAwBpI,GAE3CyM,EAAO5F,SAAS,CACdxC,WAAW,EACXE,wBAAyB,KACzBC,2BAA4B,KAC5BC,sBAAuB,KACvBC,kBAAmB,KACnBJ,aAAciF,IAGhBE,GAAUA,EAAOgD,EAAO9C,UAAW,CAAElF,sBAAuBA,KAG9Db,KAAK4J,uBAAyB,SAAU1F,GACtC2E,EAAOxG,4BAA2B,GAE9BwG,EAAO1G,wBAA0B+B,EAAMhG,SAAW2K,EAAO5H,oBAC3D4H,EAAO1G,wBAAyB,IAIpCnC,KAAK6J,uBAAyB,WAC5BhB,EAAO1G,wBAAyB,GAKlCnC,KAAK8J,sBAAwB,WAC3BjB,EAAO1G,wBAAyB,EAChC0G,EAAO5H,kBAAoB,KAC3B4H,EAAOlH,MAAMmE,SAGf9F,KAAK0H,UAAY,SAAUqC,GAIzB,MAAO,CACL,qBAJiBA,EAAMlH,aAKvB,wBAJckH,EAAMd,UAKpBe,aAAcnB,EAAOE,uBACrBkB,aAAcpB,EAAOe,uBACrBM,YAAarB,EAAOK,sBACpBiB,aAActB,EAAOgB,uBACrBO,YAAavB,EAAOiB,sBACpBO,QAASxB,EAAOO,oBAIpBpJ,KAAKqH,2BAA6B,SAAUiD,GAC1C,IAAI5B,EAAiB4B,EAAM5B,eACvBC,EAAW2B,EAAM3B,SAIrB,OAAOtB,EAH0BwB,EAAOrK,MAAM6I,4BAGZ,CAChCqB,eAAgBA,EAChBC,SAAUA,EACV1B,MAAO4B,EAAO3B,eAKpB/K,EAAQQ,QAAU8C,G,kCChxBlB3B,EAAO3B,QAxBP,SAA4BoO,EAAMC,GAChC,GAAID,IAASC,EACX,OAAO,EAGT,IAAKD,IAASC,EACZ,OAAO,EAGT,IAAIlN,EAAMiN,EAAKvN,OAEf,GAAIwN,EAAKxN,SAAWM,EAClB,OAAO,EAGT,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAKD,IACvB,GAAIkN,EAAKlN,KAAOmN,EAAKnN,GACnB,OAAO,EAIX,OAAO,I,kCCrBTS,EAAO3B,QAAU4B,EAAQ,MAAkBpB,S,kCCA3CV,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAI4B,EAAW/B,OAAOgC,QAAU,SAAUC,GAAU,IAAK,IAAIb,EAAI,EAAGA,EAAIN,UAAUC,OAAQK,IAAK,CAAE,IAAIc,EAASpB,UAAUM,GAAI,IAAK,IAAIE,KAAOY,EAAclC,OAAOS,UAAU0B,eAAeC,KAAKF,EAAQZ,KAAQW,EAAOX,GAAOY,EAAOZ,IAAY,OAAOW,GAEnPuM,EAAgb,SAAUC,EAAKrN,GAAK,GAAIsN,MAAMC,QAAQF,GAAQ,OAAOA,EAAY,GAAIpO,OAAOC,YAAYN,OAAOyO,GAAQ,OAAxf,SAAuBA,EAAKrN,GAAK,IAAIwN,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK/N,EAAW,IAAM,IAAK,IAAiCgO,EAA7BC,EAAKR,EAAIpO,OAAOC,cAAmBuO,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAKQ,KAAKJ,EAAG7O,QAAYiB,GAAKwN,EAAK7N,SAAWK,GAA3DyN,GAAK,IAAoE,MAAOQ,GAAOP,GAAK,EAAMC,EAAKM,EAAtL,QAAuM,KAAWR,GAAMI,EAAE,QAAYA,EAAE,SAAjC,QAA2D,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAA6HU,CAAcb,EAAKrN,GAAa,MAAM,IAAIyC,UAAU,yDAEllBxB,EAAe,WAAc,SAASC,EAAiBL,EAAQM,GAAS,IAAK,IAAInB,EAAI,EAAGA,EAAImB,EAAMxB,OAAQK,IAAK,CAAE,IAAIoB,EAAaD,EAAMnB,GAAIoB,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM3C,OAAOC,eAAegC,EAAQO,EAAWlB,IAAKkB,IAAiB,OAAO,SAAUI,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAYnC,UAAWoC,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASjB,EAAQ,GAEjBkB,EAAUC,EAAuBF,GAIjCG,EAAcD,EAFDnB,EAAQ,IAMrByN,EAAoBtM,EAFDnB,EAAQ,OAM3B0N,EAAmBvM,EAFDnB,EAAQ,OAM1B2N,EAAiBxM,EAFDnB,EAAQ,OAMxB4N,EAAczM,EAFDnB,EAAQ,OAIzB,SAASmB,EAAuB1C,GAAO,OAAOA,GAAOA,EAAI+C,WAAa/C,EAAM,CAAEG,QAASH,GAQvF,IAAIoP,EAAc,GA8BdC,EAAe,SAAUnM,GAG3B,SAASmM,EAAarN,IAvCxB,SAAyBqB,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,qCAwC5GC,CAAgBC,KAAM6L,GAEtB,IAAI5L,EAxCR,SAAoCC,EAAM7B,GAAQ,IAAK6B,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAO9B,GAAyB,kBAATA,GAAqC,oBAATA,EAA8B6B,EAAP7B,EAwClN+B,CAA2BJ,MAAO6L,EAAaxL,WAAapE,OAAOqE,eAAeuL,IAAexN,KAAK2B,KAAMxB,IAwFxH,OAtFAyB,EAAM6L,oBAAsB,SAAUnK,GACtB,OAAVA,IACF1B,EAAM0B,MAAQA,IAIlB1B,EAAM8L,6BAA+B,SAAUjK,GACtB,OAAnBA,IACF7B,EAAM6B,eAAiBA,IAI3B7B,EAAM+L,wBAA0B,SAAUC,GACxChM,EAAMgM,gBAAkBA,GAG1BhM,EAAMiM,UAAY,SAAUrJ,EAAcoG,GACxC,OAAkB,OAAdA,EACK,KAOF,sBAJEhJ,EAAMzB,MAAMwG,GAIe,KAFL,OAAjBnC,EAAwB,GAAK,WAAaA,GAEJ,SAAWoG,GAGjEhJ,EAAMmF,QAAU,SAAUlB,GACxB,IAAII,EAAarE,EAAMzB,MAAM8F,WAG7BrE,EAAMgD,SAAS,CACbkJ,gBAAgB,IAGlB7H,EAAWc,SAAWd,EAAWc,QAAQlB,IAG3CjE,EAAM4F,OAAS,SAAU3B,GACvB,IAAII,EAAarE,EAAMzB,MAAM8F,WAG7BrE,EAAMgD,SAAS,CACbkJ,gBAAgB,IAGlB7H,EAAWuB,QAAUvB,EAAWuB,OAAO3B,IAGzCjE,EAAMqF,UAAY,SAAUpB,GAC1B,IAAIkI,EAAcnM,EAAMzB,MACpB8F,EAAa8H,EAAY9H,WACzB3D,EAA0ByL,EAAYzL,wBACtC8G,EAAuB2E,EAAY3E,qBAGvC,OAAQvD,EAAM3G,KACZ,IAAK,YACL,IAAK,UAED,IAAI8O,EAAyB,cAAdnI,EAAM3G,IAAsB,OAAS,OAEhD+O,EAAwBrM,EAAMsM,gBAAgBF,GAAU,CAAC1L,EAAyB8G,IAClF+E,EAAyB/B,EAAe6B,EAAuB,GAC/DjG,EAA6BmG,EAAuB,GACpDlG,EAA0BkG,EAAuB,GAErDlI,EAAWgB,UAAUpB,EAAO,CAAEmC,2BAA4BA,EAA4BC,wBAAyBA,IAC/G,MAGJ,QACEhC,EAAWgB,UAAUpB,EAAO,CAAEvD,wBAAyBA,EAAyB8G,qBAAsBA,MAI5GxH,EAAMgM,gBAAkB,KAExBhM,EAAMO,MAAQ,CACZ2L,gBAAgB,GAGlBlM,EAAMwM,iBAAiBjO,GACvByB,EAAMyM,mBAAmBlO,GACzByB,EAAM0M,SAASnO,GACRyB,EAoOT,OAlWF,SAAmBiB,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIrB,UAAU,kEAAoEqB,GAAeD,EAASxE,UAAYT,OAAOmF,OAAOD,GAAcA,EAAWzE,UAAW,CAAED,YAAa,CAAEL,MAAO8E,EAAUxC,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAewC,IAAYlF,OAAOoF,eAAiBpF,OAAOoF,eAAeH,EAAUC,GAAcD,EAASb,UAAYc,GAiC/dG,CAAUuK,EAAcnM,GAgGxBpB,EAAauN,EAAc,CAAC,CAC1BtO,IAAK,oBACLnB,MAAO,WACL4D,KAAK4M,mCAKN,CACDrP,IAAK,mCACLnB,MAAO,SAA0C2F,GAC3CA,EAAUyD,QAAUxF,KAAKxB,MAAMgH,OACjCxF,KAAKyM,iBAAiB1K,GAGpBA,EAAUyD,QAAUxF,KAAKxB,MAAMgH,OAASzD,EAAUsB,eAAiBrD,KAAKxB,MAAM6E,cAChFrD,KAAK0M,mBAAmB3K,GAGtBA,EAAUkD,QAAUjF,KAAKxB,MAAMyG,OACjCjF,KAAK2M,SAAS5K,KAGjB,CACDxE,IAAK,qBACLnB,MAAO,WACL4D,KAAK4M,mCAEN,CACDrP,IAAK,mBACLnB,MAAO,SAA0BoC,GAC3BA,EAAM6E,eACRrD,KAAK6M,cAAgBrO,EAAMgH,MAAMsH,KAAI,SAAUC,GAC7C,OAAOvO,EAAMgJ,gBAAgBuF,MAE/B/M,KAAKgN,gBAAkBhN,KAAK6M,cAAcC,KAAI,SAAUtH,GACtD,OAAOA,EAAMxI,UAEfgD,KAAKiN,oBAAsBjN,KAAKgN,gBAAgBE,OAAM,SAAUC,GAC9D,OAAsB,IAAfA,QAIZ,CACD5P,IAAK,qBACLnB,MAAO,SAA4BoC,GACjCwB,KAAKuM,iBAAkB,EAAIf,EAAkB7O,SAAS,CACpD0G,aAAc7E,EAAM6E,aACpB8C,KAAM3H,EAAM6E,aAAerD,KAAKgN,gBAAkBxO,EAAMgH,MAAMxI,WAGjE,CACDO,IAAK,WACLnB,MAAO,SAAkBoC,GACvBwB,KAAKiF,OAAQ,EAAIwG,EAAiB9O,SAAS6B,EAAMyG,SAElD,CACD1H,IAAK,iBACLnB,MAAO,WACL,IAAI4G,EAAShD,KAEb,GAAIA,KAAKiN,oBACP,OAAO,KAGT,IAAIhI,EAAQjF,KAAKiF,MACbzC,EAASxC,KAAKxB,MACdwG,EAAKxC,EAAOwC,GACZQ,EAAQhD,EAAOgD,MACf8B,EAAa9E,EAAO8E,WACpBC,EAAiB/E,EAAO+E,eACxBxC,EAAqBvC,EAAOuC,mBAC5BpE,EAA0B6B,EAAO7B,wBACjC8G,EAAuBjF,EAAOiF,qBAC9BC,EAAYlF,EAAOkF,UAGvB,OAAOlC,EAAMsH,KAAI,SAAUC,EAASlK,GAClC,IAAIuK,EAAY,sBAAwBpI,EAAK,IACzCqI,EAAmBD,EAAY,WAAavK,EAAe,IAC3DyK,EAAkC,IAAjBzK,EAIrB,OAAO5D,EAAQtC,QAAQwK,cACrB,MACAlC,EAAMoI,EAAmB,YAAa,mBAAoBC,GAAkB,yBAC5ErO,EAAQtC,QAAQwK,cAAcuE,EAAe/O,QAAS,CACpDoQ,QAASA,EACThI,mBAAoBA,EACpBE,MAAOA,EACPoI,iBAAkBA,IAEpBpO,EAAQtC,QAAQwK,cAAcwE,EAAYhP,QAAS,CACjD6I,MAAOxC,EAAO6J,cAAchK,GAC5B6E,UAAWA,EACXJ,WAAYA,EACZC,eAAgBA,EAChB1E,aAAcA,EACd4E,qBAAsB9G,IAA4BkC,EAAe4E,EAAuB,KACxFuE,wBAAyBhJ,EAAOgJ,wBAChCE,UAAWlJ,EAAOkJ,UAClBjH,MAAOA,EACPmI,UAAWA,EACXxF,IAAK5E,EAAOuK,gCAMnB,CACDhQ,IAAK,cACLnB,MAAO,WACL,IAAIoJ,EAAQxF,KAAKxB,MAAMgH,MAGvB,GAAqB,IAAjBA,EAAMxI,OACR,OAAO,KAGT,IAAIiI,EAAQjF,KAAKiF,MACb7B,EAAUpD,KAAKxB,MACfwG,EAAK5B,EAAQ4B,GACbsC,EAAalE,EAAQkE,WACrBC,EAAiBnE,EAAQmE,eACzB5G,EAA0ByC,EAAQzC,wBAClC8G,EAAuBrE,EAAQqE,qBAC/BC,EAAYtE,EAAQsE,UAGxB,OAAOzI,EAAQtC,QAAQwK,cAAcwE,EAAYhP,QAAS,CACxD6I,MAAOA,EACPkC,UAAWA,EACXJ,WAAYA,EACZC,eAAgBA,EAChBE,qBAAkD,OAA5B9G,EAAmC8G,EAAuB,KAChFuE,wBAAyBhM,KAAKgM,wBAC9BE,UAAWlM,KAAKkM,UAChBjH,MAAOA,EACPmI,UAAW,sBAAwBpI,EAAK,QAG3C,CACDzH,IAAK,iCACLnB,MAAO,WACL,IAAI6P,EAAkBjM,KAAKiM,gBAG3B,GAAKA,EAAL,CAIA,IAAInK,EAAiB9B,KAAK8B,eAEtB0L,EAAgCvB,EAAgBwB,eAAiB3L,EAAiBmK,EAAgByB,UAAYzB,EAAgByB,UAAY5L,EAAe4L,UAEzJxH,EAAYpE,EAAeoE,UAE3BsH,EAAgCtH,EAElCA,EAAYsH,EACHA,EAAgCvB,EAAgB0B,aAAezH,EAAYpE,EAAe6L,eAEnGzH,EAAYsH,EAAgCvB,EAAgB0B,aAAe7L,EAAe6L,cAGxFzH,IAAcpE,EAAeoE,YAC/BpE,EAAeoE,UAAYA,MAG9B,CACD3I,IAAK,SACLnB,MAAO,WACL,IAAI6I,EAAQjF,KAAKiF,MACbN,EAAU3E,KAAKxB,MACfwG,EAAKL,EAAQK,GACb3B,EAAesB,EAAQtB,aACvBuB,EAAuBD,EAAQC,qBAC/BwC,EAAuBzC,EAAQyC,qBAC/BzG,EAA0BgE,EAAQhE,wBAClC8G,EAAuB9C,EAAQ8C,qBAC/B0E,EAAiBnM,KAAKQ,MAAM2L,eAE5ByB,EAAgBvK,EAAerD,KAAK6N,iBAAmB7N,KAAK8N,cAC5DvI,EAA2B,OAAlBqI,EACTG,EAAuB/N,KAAKkM,UAAUvL,EAAyB8G,GAC/DuG,EAAmB,sBAAwBhJ,EAC3C0D,EAAiB1K,EAAS,CAC5BiQ,KAAM,WACN,gBAAiB,UACjB,YAAaD,EACb,gBAAiBzI,GAChBN,EAAM,sBAAwBD,EAAK,aAAc,YAAaO,GAAU,iBAAkBvF,KAAKxB,MAAMkK,gBACpGwF,EAAiBtJ,EAAqB5G,EAAS,CACjDmQ,KAAM,OACN/R,MAAO,GACPgS,aAAc,MACd,oBAAqB,OACrB,gBAAiBJ,EACjB,wBAAyBD,GACxB9I,EAAM,sBAAwBD,EAAK,SAAU,QAASO,GAAU,YAAa4G,GAAkB,gBAAiBnM,KAAKxB,MAAM8F,WAAY,CACxIc,QAASpF,KAAKoF,QACdS,OAAQ7F,KAAK6F,OACbP,UAAWtF,KAAKxB,MAAM8F,WAAWgB,WAAatF,KAAKsF,UACnDsC,IAAK5H,KAAK8L,uBAERhK,EAAiBsF,EAAqB,CACxCsB,eAAgB1K,EAAS,CACvBgH,GAAIgJ,EACJC,KAAM,WACLhJ,EAAM,sBAAwBD,EAAK,mBAAoB,iBAAkBO,GAAU,sBAAuB,CAC3GqC,IAAK5H,KAAK+L,+BAEZpD,SAAUiF,IAGZ,OAAO3O,EAAQtC,QAAQwK,cACrB,MACAuB,EACAwF,EACApM,OAKC+J,EAlUU,CAmUjB7M,EAAO8I,WAET+D,EAAa9D,UAAY,CACvB/C,GAAI7F,EAAYxC,QAAQ4L,OACxBlF,aAAclE,EAAYxC,QAAQyL,KAClCxD,qBAAsBzF,EAAYxC,QAAQwL,KAC1Cf,qBAAsBjI,EAAYxC,QAAQwL,KAC1C3C,MAAOrG,EAAYxC,QAAQqL,MAAMC,WACjCX,WAAYnI,EAAYxC,QAAQwL,KAChCZ,eAAgBpI,EAAYxC,QAAQ2L,OACpCvD,mBAAoB5F,EAAYxC,QAAQwL,KACxCX,gBAAiBrI,EAAYxC,QAAQwL,KACrCO,eAAgBvJ,EAAYxC,QAAQ2L,OACpChE,WAAYnF,EAAYxC,QAAQ2L,OAChCZ,UAAWvI,EAAYxC,QAAQ0R,UAAU,CACzClP,EAAYxC,QAAQ2L,OAAQnJ,EAAYxC,QAAQwL,OAChDxH,wBAAyBxB,EAAYxC,QAAQ2R,OAC7C7G,qBAAsBtI,EAAYxC,QAAQ2R,OAC1CrJ,MAAO9F,EAAYxC,QAAQ0R,UAAU,CACrClP,EAAYxC,QAAQ2L,OAAQnJ,EAAYxC,QAAQqL,SAElD6D,EAAarD,aAAe,CAC1BxD,GAAI,IACJ3B,cAAc,EACduB,qBAxXgC,SAAqCpG,GACrE,OAAOS,EAAQtC,QAAQwK,cAAc,QAAS3I,IAwX9C4I,qBAtXgC,SAAqCqB,GACrE,IAAIC,EAAiBD,EAAKC,eACtBC,EAAWF,EAAKE,SACpB,OAAO1J,EAAQtC,QAAQwK,cACrB,MACAuB,EACAC,IAiXFrB,WAAY,WACV,MAAM,IAAIrD,MAAM,kCAElBsD,eAAgBqE,EAChB7G,mBAAoB,WAClB,MAAM,IAAId,MAAM,0CAElBuD,gBAAiB,WACf,MAAM,IAAIvD,MAAM,uCAElByE,eAAgBkD,EAChBtH,WAAYsH,EACZlE,UAAWkE,EACXjL,wBAAyB,KACzB8G,qBAAsB,KACtBxC,MA7XiB,CACjBsJ,UAAW,gCACXC,cAAe,sCACf7M,MAAO,4BACP8M,UAAW,kCACXC,aAAc,qCACd5M,eAAgB,sCAChB6M,mBAAoB,4CACpBC,UAAW,iCACXC,KAAM,2BACNC,UAAW,kCACXC,gBAAiB,wCACjBC,iBAAkB,wCAClBC,sBAAuB,+CACvBC,aAAc,sCAiXhB/S,EAAQQ,QAAUkP,G,kCCtblB,IAAIpB,EAAgb,SAAUC,EAAKrN,GAAK,GAAIsN,MAAMC,QAAQF,GAAQ,OAAOA,EAAY,GAAIpO,OAAOC,YAAYN,OAAOyO,GAAQ,OAAxf,SAAuBA,EAAKrN,GAAK,IAAIwN,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK/N,EAAW,IAAM,IAAK,IAAiCgO,EAA7BC,EAAKR,EAAIpO,OAAOC,cAAmBuO,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAKQ,KAAKJ,EAAG7O,QAAYiB,GAAKwN,EAAK7N,SAAWK,GAA3DyN,GAAK,IAAoE,MAAOQ,GAAOP,GAAK,EAAMC,EAAKM,EAAtL,QAAuM,KAAWR,GAAMI,EAAE,QAAYA,EAAE,SAAjC,QAA2D,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAA6HU,CAAcb,EAAKrN,GAAa,MAAM,IAAIyC,UAAU,yDAEtlBhC,EAAO3B,QAAU,SAAUsM,GACzB,IAAItC,EAAOsC,EAAKtC,KACZ9C,EAAeoF,EAAKpF,aA8BxB,SAAS8H,EAAKgE,GACZ,IAAIC,EAAY3E,EAAe0E,EAAU,GAErCtM,EAAeuM,EAAU,GACzBnG,EAAYmG,EAAU,GAG1B,OAAI/L,EACgB,OAAd4F,GAAsBA,IAAc9C,EAAKtD,GAAgB,EAGtC,QAFrBA,EArCN,SAAkCA,GAOhC,IANqB,OAAjBA,EACFA,EAAe,EAEfA,IAGKA,EAAesD,EAAKnJ,QAAiC,IAAvBmJ,EAAKtD,IACxCA,IAGF,OAAOA,IAAiBsD,EAAKnJ,OAAS,KAAO6F,EA0B1BwM,CAAyBxM,IAG/B,CAAC,KAAM,MAGT,CAACA,EAAc,GAGjB,CAACA,EAAcoG,EAAY,GAGvB,IAAT9C,GAAc8C,IAAc9C,EAAO,EAC9B,CAAC,KAAM,MAGE,OAAd8C,EACK,CAAC,KAAM,GAGT,CAAC,KAAMA,EAAY,GAuC5B,MAAO,CACLkC,KAAMA,EACNmE,KAtCF,SAAcH,GACZ,IAAII,EAAa9E,EAAe0E,EAAU,GAEtCtM,EAAe0M,EAAW,GAC1BtG,EAAYsG,EAAW,GAG3B,OAAIlM,EACgB,OAAd4F,GAAoC,IAAdA,EAGH,QAFrBpG,EAvDN,SAAkCA,GAOhC,IANqB,OAAjBA,EACFA,EAAesD,EAAKnJ,OAAS,EAE7B6F,IAGKA,GAAgB,GAA4B,IAAvBsD,EAAKtD,IAC/BA,IAGF,OAAyB,IAAlBA,EAAsB,KAAOA,EA4CjB2M,CAAyB3M,IAG/B,CAAC,KAAM,MAGT,CAACA,EAAcsD,EAAKtD,GAAgB,GAGtC,CAACA,EAAcoG,EAAY,GAGvB,IAAT9C,GAA4B,IAAd8C,EACT,CAAC,KAAM,MAGE,OAAdA,EACK,CAAC,KAAM9C,EAAO,GAGhB,CAAC,KAAM8C,EAAY,IAU1BwG,OAPF,SAAgBN,GACd,OAA6B,OAAtBhE,EAAKgE,GAAU,O,kCCnG1BlT,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAIqO,EAAib,SAAUC,EAAKrN,GAAK,GAAIsN,MAAMC,QAAQF,GAAQ,OAAOA,EAAY,GAAIpO,OAAOC,YAAYN,OAAOyO,GAAQ,OAAxf,SAAuBA,EAAKrN,GAAK,IAAIwN,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK/N,EAAW,IAAM,IAAK,IAAiCgO,EAA7BC,EAAKR,EAAIpO,OAAOC,cAAmBuO,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAKQ,KAAKJ,EAAG7O,QAAYiB,GAAKwN,EAAK7N,SAAWK,GAA3DyN,GAAK,IAAoE,MAAOQ,GAAOP,GAAK,EAAMC,EAAKM,EAAtL,QAAuM,KAAWR,GAAMI,EAAE,QAAYA,EAAE,SAAjC,QAA2D,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAA6HU,CAAcb,EAAKrN,GAAa,MAAM,IAAIyC,UAAU,yDAIvlB,SAAS4P,EAAmBhF,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,IAAIrN,EAAI,EAAGsS,EAAOhF,MAAMD,EAAI1N,QAASK,EAAIqN,EAAI1N,OAAQK,IAAKsS,EAAKtS,GAAKqN,EAAIrN,GAAI,OAAOsS,EAAe,OAAOhF,MAAMiF,KAAKlF,GAEtL,IAJgClO,EAI5BqT,EAAgB9R,EAAQ,MAExB+R,GAN4BtT,EAMYqT,IANSrT,EAAI+C,WAAa/C,EAAM,CAAE,QAAWA,GAQrFuT,EAAS,SAAgBC,GAC3B,OAAOA,GAGT7T,EAAO,QAAc,SAAUwF,GAC7B,IAAI8G,EAAOkC,MAAMC,QAAQjJ,IAA2B,IAAjBA,EAAM3E,OAAe2E,EAAQ,CAACA,EAAO,MAEpEhC,EAAQ8K,EAAehC,EAAM,GAE7BxD,EAAQtF,EAAM,GACdsQ,EAAqBtQ,EAAM,GAE/B,OAAO,SAAUpC,GACf,IAAK,IAAI2S,EAAOnT,UAAUC,OAAQmT,EAAQxF,MAAMuF,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAC/FD,EAAMC,EAAO,GAAKrT,UAAUqT,GAG9B,IAAIC,EAASF,EAAMrD,KAAI,SAAUwD,GAC/B,OAAOrL,EAAMqL,MACZC,OAAOR,GAEV,MAA4B,kBAAdM,EAAO,IAAiD,oBAAvBJ,EAAoC,CAAE1S,IAAKA,EAAKiT,UAAWP,EAAqBA,EAAmBQ,WAAMxT,EAAWyS,EAAmBW,IAAWA,EAAOK,KAAK,MAAS,CAAEnT,IAAKA,EAAKoT,MAAOb,EAAc,QAAYW,WAAMxT,EAAW,CAAC,IAAI2T,OAAOlB,EAAmBW,QAIvTvS,EAAO3B,QAAUA,EAAO,S,kCCxCxB,IAAI0U,EAAmB5U,OAAOS,UAAUoU,qBAExC,SAASC,EAASC,GACjB,GAAW,MAAPA,EACH,MAAM,IAAIlR,UAAU,yDAGrB,OAAO7D,OAAO+U,GAGf,SAASC,EAAkBzU,GAC1B,IAAIM,EAAOb,OAAOiV,oBAAoB1U,GAMtC,OAJIP,OAAOkV,wBACVrU,EAAOA,EAAK8T,OAAO3U,OAAOkV,sBAAsB3U,KAG1CM,EAAKyT,QAAO,SAAUhT,GAC5B,OAAOsT,EAAiBxS,KAAK7B,EAAKe,MAIpCO,EAAO3B,QAAUF,OAAOgC,QAAU,SAAUC,EAAQC,GAKnD,IAJA,IAAIyR,EACA9S,EACAsU,EAAKL,EAAS7S,GAETmT,EAAI,EAAGA,EAAItU,UAAUC,OAAQqU,IAAK,CAC1CzB,EAAO7S,UAAUsU,GACjBvU,EAAOmU,EAAkBhV,OAAO2T,IAEhC,IAAK,IAAIvS,EAAI,EAAGA,EAAIP,EAAKE,OAAQK,IAChC+T,EAAGtU,EAAKO,IAAMuS,EAAK9S,EAAKO,IAI1B,OAAO+T,I,kCCnCRnV,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAIkC,EAAe,WAAc,SAASC,EAAiBL,EAAQM,GAAS,IAAK,IAAInB,EAAI,EAAGA,EAAImB,EAAMxB,OAAQK,IAAK,CAAE,IAAIoB,EAAaD,EAAMnB,GAAIoB,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM3C,OAAOC,eAAegC,EAAQO,EAAWlB,IAAKkB,IAAiB,OAAO,SAAUI,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAYnC,UAAWoC,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASjB,EAAQ,GAEjBkB,EAAUC,EAAuBF,GAIjCG,EAAcD,EAFDnB,EAAQ,IAMrBuT,EAAmBpS,EAFDnB,EAAQ,OAI9B,SAASmB,EAAuB1C,GAAO,OAAOA,GAAOA,EAAI+C,WAAa/C,EAAM,CAAEG,QAASH,GAEvF,SAASuD,EAAgBF,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,qCAEhH,SAASM,EAA2BF,EAAM7B,GAAQ,IAAK6B,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAO9B,GAAyB,kBAATA,GAAqC,oBAATA,EAA8B6B,EAAP7B,EAIlO,IAAIkT,EAAe,SAAU7R,GAG3B,SAAS6R,IAGP,OAFAxR,EAAgBC,KAAMuR,GAEfnR,EAA2BJ,MAAOuR,EAAalR,WAAapE,OAAOqE,eAAeiR,IAAed,MAAMzQ,KAAMjD,YA+BtH,OAvCF,SAAmBmE,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIrB,UAAU,kEAAoEqB,GAAeD,EAASxE,UAAYT,OAAOmF,OAAOD,GAAcA,EAAWzE,UAAW,CAAED,YAAa,CAAEL,MAAO8E,EAAUxC,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAewC,IAAYlF,OAAOoF,eAAiBpF,OAAOoF,eAAeH,EAAUC,GAAcD,EAASb,UAAYc,GAG/dG,CAAUiQ,EAAc7R,GAQxBpB,EAAaiT,EAAc,CAAC,CAC1BhU,IAAK,wBACLnB,MAAO,SAA+B2F,GACpC,OAAO,EAAIuP,EAAiB3U,SAASoF,EAAW/B,KAAKxB,SAEtD,CACDjB,IAAK,SACLnB,MAAO,WACL,IAAIoG,EAASxC,KAAKxB,MACduO,EAAUvK,EAAOuK,QACjBhI,EAAqBvC,EAAOuC,mBAC5BE,EAAQzC,EAAOyC,MACfoI,EAAmB7K,EAAO6K,iBAE1B6B,EAAenK,EAAmBgI,GAEtC,OAAKmC,EAIEjQ,EAAQtC,QAAQwK,cACrB,MACAlC,EAAMoI,EAAmB,QAAS,gBAClC6B,GANO,SAWNqC,EArCU,CAsCjBvS,EAAO8I,WAETyJ,EAAaxJ,UAAY,CACvBgF,QAAS5N,EAAYxC,QAAQ6U,IAAIvJ,WACjClD,mBAAoB5F,EAAYxC,QAAQwL,KAAKF,WAC7ChD,MAAO9F,EAAYxC,QAAQwL,KAAKF,WAChCoF,iBAAkBlO,EAAYxC,QAAQ4L,OAAON,YAE/C9L,EAAQQ,QAAU4U,G,kCCxElBtV,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAI4B,EAAW/B,OAAOgC,QAAU,SAAUC,GAAU,IAAK,IAAIb,EAAI,EAAGA,EAAIN,UAAUC,OAAQK,IAAK,CAAE,IAAIc,EAASpB,UAAUM,GAAI,IAAK,IAAIE,KAAOY,EAAclC,OAAOS,UAAU0B,eAAeC,KAAKF,EAAQZ,KAAQW,EAAOX,GAAOY,EAAOZ,IAAY,OAAOW,GAEnPI,EAAe,WAAc,SAASC,EAAiBL,EAAQM,GAAS,IAAK,IAAInB,EAAI,EAAGA,EAAImB,EAAMxB,OAAQK,IAAK,CAAE,IAAIoB,EAAaD,EAAMnB,GAAIoB,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM3C,OAAOC,eAAegC,EAAQO,EAAWlB,IAAKkB,IAAiB,OAAO,SAAUI,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAYnC,UAAWoC,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASjB,EAAQ,GAEjBkB,EAAUC,EAAuBF,GAIjCG,EAAcD,EAFDnB,EAAQ,IAMrB0T,EAASvS,EAFDnB,EAAQ,OAMhBuT,EAAmBpS,EAFDnB,EAAQ,OAI9B,SAASmB,EAAuB1C,GAAO,OAAOA,GAAOA,EAAI+C,WAAa/C,EAAM,CAAEG,QAASH,GAEvF,SAASuD,EAAgBF,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,qCAEhH,SAASM,EAA2BF,EAAM7B,GAAQ,IAAK6B,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAO9B,GAAyB,kBAATA,GAAqC,oBAATA,EAA8B6B,EAAP7B,EAIlO,IAAIqT,EAAY,SAAUhS,GAGxB,SAASgS,IACP,IAAIjJ,EAEAkJ,EAAO1R,EAEXF,EAAgBC,KAAM0R,GAEtB,IAAK,IAAIxB,EAAOnT,UAAUC,OAAQ4U,EAAOjH,MAAMuF,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3EwB,EAAKxB,GAAQrT,UAAUqT,GAGzB,OAAeuB,EAAS1R,EAAQG,EAA2BJ,MAAOyI,EAAOiJ,EAAUrR,WAAapE,OAAOqE,eAAeoR,IAAYrT,KAAKoS,MAAMhI,EAAM,CAACzI,MAAM4Q,OAAOgB,KAAiB3R,EAAM4R,8BAAgC,SAAU5F,GAChOhM,EAAMzB,MAAMwN,wBAA4C,OAApBC,EAA2B,KAAOA,EAAgB4C,OAC7EzO,EAA2BH,EAAnC0R,GA4DL,OA9EF,SAAmBzQ,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIrB,UAAU,kEAAoEqB,GAAeD,EAASxE,UAAYT,OAAOmF,OAAOD,GAAcA,EAAWzE,UAAW,CAAED,YAAa,CAAEL,MAAO8E,EAAUxC,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAewC,IAAYlF,OAAOoF,eAAiBpF,OAAOoF,eAAeH,EAAUC,GAAcD,EAASb,UAAYc,GAG/dG,CAAUoQ,EAAWhS,GAkBrBpB,EAAaoT,EAAW,CAAC,CACvBnU,IAAK,wBACLnB,MAAO,SAA+B2F,GACpC,OAAO,EAAIuP,EAAiB3U,SAASoF,EAAW/B,KAAKxB,MAAO,CAAC,gBAE9D,CACDjB,IAAK,SACLnB,MAAO,WACL,IAAI4G,EAAShD,KAETwC,EAASxC,KAAKxB,MACdgH,EAAQhD,EAAOgD,MACfkC,EAAYlF,EAAOkF,UACnBJ,EAAa9E,EAAO8E,WACpBC,EAAiB/E,EAAO+E,eACxB1E,EAAeL,EAAOK,aACtB4E,EAAuBjF,EAAOiF,qBAC9ByE,EAAY1J,EAAO0J,UACnBjH,EAAQzC,EAAOyC,MACfmI,EAAY5K,EAAO4K,UAEnB0E,EAAiC,OAAjBjP,EAAwBuK,EAAYA,EAAY,WAAavK,EAAe,IAC5FkP,EAA2C,oBAAdrK,EAEjC,OAAOzI,EAAQtC,QAAQwK,cACrB,KACAnJ,EAAS,CAAEiQ,KAAM,WAAahJ,EAAM6M,EAAgB,aAAc,cAClEtM,EAAMsH,KAAI,SAAU+B,EAAM5F,GACxB,IAAI+I,EAAwB,IAAd/I,EACVgJ,EAAgBhJ,IAAcxB,EAC9ByK,EAAUJ,EAAgB,QAAU7I,EACpCkJ,EAAeJ,EAAsBrK,EAAU,CAAE7E,aAAcA,EAAcoG,UAAWA,IAAevB,EACvG0K,EAAepU,EAAS,CAC1BgH,GAAIkH,EAAUrJ,EAAcoG,GAC5B,gBAAiBgJ,GAChBhN,EAAMiN,EAAS,OAAQF,GAAW,YAAaC,GAAiB,mBAAoBE,GAQvF,OANIF,IACFG,EAAaxK,IAAM5E,EAAO6O,+BAKrB5S,EAAQtC,QAAQwK,cAAcsK,EAAO9U,QAASqB,EAAS,GAAIoU,EAAc,CAC9EvP,aAAcA,EACdoP,cAAeA,EACfhJ,UAAWA,EACX4F,KAAMA,EACNvH,WAAYA,EACZC,eAAgBA,aAQnBmK,EA5EO,CA6Ed1S,EAAO8I,WAET4J,EAAU3J,UAAY,CACpBvC,MAAOrG,EAAYxC,QAAQqL,MAAMC,WACjCP,UAAWvI,EAAYxC,QAAQ0R,UAAU,CAAClP,EAAYxC,QAAQ2L,OAAQnJ,EAAYxC,QAAQwL,OAC1Fb,WAAYnI,EAAYxC,QAAQwL,KAAKF,WACrCV,eAAgBpI,EAAYxC,QAAQ2L,OAAOL,WAC3CpF,aAAc1D,EAAYxC,QAAQ2R,OAClC7G,qBAAsBtI,EAAYxC,QAAQ2R,OAC1CtC,wBAAyB7M,EAAYxC,QAAQwL,KAAKF,WAClDiE,UAAW/M,EAAYxC,QAAQwL,KAAKF,WACpChD,MAAO9F,EAAYxC,QAAQwL,KAAKF,WAChCmF,UAAWjO,EAAYxC,QAAQ4L,OAAON,YAExCyJ,EAAUlJ,aAAe,CACvB3F,aAAc,MAEhB1G,EAAQQ,QAAU+U,G,kCC9HlBzV,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAI4B,EAAW/B,OAAOgC,QAAU,SAAUC,GAAU,IAAK,IAAIb,EAAI,EAAGA,EAAIN,UAAUC,OAAQK,IAAK,CAAE,IAAIc,EAASpB,UAAUM,GAAI,IAAK,IAAIE,KAAOY,EAAclC,OAAOS,UAAU0B,eAAeC,KAAKF,EAAQZ,KAAQW,EAAOX,GAAOY,EAAOZ,IAAY,OAAOW,GAEnPI,EAAe,WAAc,SAASC,EAAiBL,EAAQM,GAAS,IAAK,IAAInB,EAAI,EAAGA,EAAImB,EAAMxB,OAAQK,IAAK,CAAE,IAAIoB,EAAaD,EAAMnB,GAAIoB,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM3C,OAAOC,eAAegC,EAAQO,EAAWlB,IAAKkB,IAAiB,OAAO,SAAUI,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAYnC,UAAWoC,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASjB,EAAQ,GAEjBkB,EAAUC,EAAuBF,GAIjCG,EAAcD,EAFDnB,EAAQ,IAMrBuT,EAAmBpS,EAFDnB,EAAQ,OAI9B,SAASmB,EAAuB1C,GAAO,OAAOA,GAAOA,EAAI+C,WAAa/C,EAAM,CAAEG,QAASH,GAIvF,SAASuD,EAAgBF,EAAUhB,GAAe,KAAMgB,aAAoBhB,GAAgB,MAAM,IAAIiB,UAAU,qCAEhH,SAASM,EAA2BF,EAAM7B,GAAQ,IAAK6B,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAO9B,GAAyB,kBAATA,GAAqC,oBAATA,EAA8B6B,EAAP7B,EAIlO,IAAIgU,EAAO,SAAU3S,GAGnB,SAAS2S,IACP,IAAI5J,EAEAkJ,EAAO1R,EAEXF,EAAgBC,KAAMqS,GAEtB,IAAK,IAAInC,EAAOnT,UAAUC,OAAQ4U,EAAOjH,MAAMuF,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3EwB,EAAKxB,GAAQrT,UAAUqT,GAGzB,OAAeuB,EAAS1R,EAAQG,EAA2BJ,MAAOyI,EAAO4J,EAAKhS,WAAapE,OAAOqE,eAAe+R,IAAOhU,KAAKoS,MAAMhI,EAAM,CAACzI,MAAM4Q,OAAOgB,KAAiB3R,EAAMqS,mBAAqB,SAAUzD,GAC9L,OAATA,IACF5O,EAAM4O,KAAOA,IAEd5O,EAAM+J,aAAe,SAAU9F,GAChC,IAAIkI,EAAcnM,EAAMzB,MACpBqE,EAAeuJ,EAAYvJ,aAC3BoG,EAAYmD,EAAYnD,UAG5BhJ,EAAMzB,MAAMwL,aAAa9F,EAAO,CAAErB,aAAcA,EAAcoG,UAAWA,KACxEhJ,EAAMgK,aAAe,SAAU/F,GAChC,IAAIqO,EAAetS,EAAMzB,MACrBqE,EAAe0P,EAAa1P,aAC5BoG,EAAYsJ,EAAatJ,UAG7BhJ,EAAMzB,MAAMyL,aAAa/F,EAAO,CAAErB,aAAcA,EAAcoG,UAAWA,KACxEhJ,EAAMiK,YAAc,SAAUhG,GAC/B,IAAIsO,EAAevS,EAAMzB,MACrBqE,EAAe2P,EAAa3P,aAC5BoG,EAAYuJ,EAAavJ,UAG7BhJ,EAAMzB,MAAM0L,YAAYhG,EAAO,CAAErB,aAAcA,EAAcoG,UAAWA,KACvEhJ,EAAMoK,QAAU,SAAUnG,GAC3B,IAAIuO,EAAexS,EAAMzB,MACrBqE,EAAe4P,EAAa5P,aAC5BoG,EAAYwJ,EAAaxJ,UAG7BhJ,EAAMzB,MAAM6L,QAAQnG,EAAO,CAAErB,aAAcA,EAAcoG,UAAWA,KAC3D7I,EAA2BH,EAAnC0R,GA6CL,OA7FF,SAAmBzQ,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIrB,UAAU,kEAAoEqB,GAAeD,EAASxE,UAAYT,OAAOmF,OAAOD,GAAcA,EAAWzE,UAAW,CAAED,YAAa,CAAEL,MAAO8E,EAAUxC,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAewC,IAAYlF,OAAOoF,eAAiBpF,OAAOoF,eAAeH,EAAUC,GAAcD,EAASb,UAAYc,GAG/dG,CAAU+Q,EAAM3S,GAgDhBpB,EAAa+T,EAAM,CAAC,CAClB9U,IAAK,wBACLnB,MAAO,SAA+B2F,GACpC,OAAO,EAAIuP,EAAiB3U,SAASoF,EAAW/B,KAAKxB,MAAO,CAAC,qBAE9D,CACDjB,IAAK,SACLnB,MAAO,WACL,IAAIoG,EAASxC,KAAKxB,MACdyT,EAAgBzP,EAAOyP,cACvBpD,EAAOrM,EAAOqM,KACdvH,EAAa9E,EAAO8E,WACpBC,EAAiB/E,EAAO+E,eACxBmL,EAtEV,SAAkClW,EAAKM,GAAQ,IAAIoB,EAAS,GAAI,IAAK,IAAIb,KAAKb,EAAWM,EAAK6V,QAAQtV,IAAM,GAAkBpB,OAAOS,UAAU0B,eAAeC,KAAK7B,EAAKa,KAAca,EAAOb,GAAKb,EAAIa,IAAM,OAAOa,EAsE7L0U,CAAyBpQ,EAAQ,CAAC,gBAAiB,OAAQ,aAAc,mBAqBzF,cAnBOkQ,EAAU7P,oBACV6P,EAAUzJ,UAEqB,oBAA3ByJ,EAAU1I,eACnB0I,EAAU1I,aAAehK,KAAKgK,cAGM,oBAA3B0I,EAAUzI,eACnByI,EAAUzI,aAAejK,KAAKiK,cAGK,oBAA1ByI,EAAUxI,cACnBwI,EAAUxI,YAAclK,KAAKkK,aAGE,oBAAtBwI,EAAUrI,UACnBqI,EAAUrI,QAAUrK,KAAKqK,SAGpBpL,EAAQtC,QAAQwK,cACrB,KACAnJ,EAAS,CAAEiQ,KAAM,UAAYyE,EAAW,CAAE9K,IAAK5H,KAAKsS,qBACpDhL,EAAWuH,EAAM7Q,EAAS,CAAEiU,cAAeA,GAAiB1K,SAK3D8K,EA3FE,CA4FTrT,EAAO8I,WAETuK,EAAKtK,UAAY,CACflF,aAAc1D,EAAYxC,QAAQ2R,OAClC2D,cAAe9S,EAAYxC,QAAQyL,KAAKH,WACxCgB,UAAW9J,EAAYxC,QAAQ2R,OAAOrG,WACtC4G,KAAM1P,EAAYxC,QAAQ6U,IAAIvJ,WAC9BX,WAAYnI,EAAYxC,QAAQwL,KAAKF,WACrCV,eAAgBpI,EAAYxC,QAAQ2L,OAAOL,WAC3C+B,aAAc7K,EAAYxC,QAAQwL,KAClC8B,aAAc9K,EAAYxC,QAAQwL,KAClC+B,YAAa/K,EAAYxC,QAAQwL,KACjCkC,QAASlL,EAAYxC,QAAQwL,MAE/BhM,EAAQQ,QAAU0V,G,kCCxIlBpW,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAEUD,EAAQyM,aAAe,CACxC2F,UAAW,+BACXC,cAAe,qCACf7M,MAAO,2BACP8M,UAAW,iCACXC,aAAc,oCACd7M,qBAAsB,2CACtBgR,yBAA0B,iDAC1BC,gBAAiB,sCACjBnQ,WAAY,gCACZoQ,gBAAiB,uCACjBC,sBAAuB,6CACvBhE,iBAAkB,uCAClBC,sBAAuB,8CACvBC,aAAc,oCAGa/S,EAAQwL,uBAAyB,SAAgC1C,GAC5F,IAAIgO,EAAS,GAEb,IAAK,IAAI1V,KAAO0H,EACd,OAAQ1H,GACN,IAAK,uBACH0V,EAAM,eAAqBhO,EAAM1H,GACjC,MAEF,IAAK,2BACH0V,EAAM,mBAAyBhO,EAAM1H,GACrC,MAEF,IAAK,aACH0V,EAAM,KAAWhO,EAAM1H,GACvB,MAEF,IAAK,kBACH0V,EAAM,UAAgBhO,EAAM1H,GAC5B,MAEF,IAAK,wBACH0V,EAAM,gBAAsBhO,EAAM1H,GAClC,MAEF,IAAK,kBACH0V,EAAM,UAAgBhO,EAAM1H,GAC5B,MAEF,QACE0V,EAAO1V,GAAO0H,EAAM1H,GAI1B,OAAO0V,I,qBCxDT,IAAIC,EAAmBnV,EAAQ,MAAaoV,MAGxCC,EAAoB,sBAGpBC,EAAqB,aAErBC,EAAmB,MAMvBxV,EAAO3B,QAAU,SAAeoX,EAAMtM,GAIpC,OAHAsM,EAAOL,EAAiBK,IACxBtM,EAAQiM,EAAiBjM,IAIpBxC,OACA+O,MAAMF,GAEN/C,QAAO,SAASkD,GACf,OAAOA,EAAKzW,OAAS,KAEtB0W,QAAO,SAAST,EAAQQ,GACvB,IAAIE,EAAUF,EAAKzW,OACf4W,EAASP,EAAmBQ,KAAKJ,EAAK,IAAM,MAAQ,GACpDK,EAAQ,IAAIC,OAAOH,EAA+BH,EAlBjDO,QAAQZ,EAAmB,QAkB6B,KACzDa,EAAQV,EAAKW,OAAOJ,GAYxB,OAVIG,GAAS,IACXhB,EAAO5H,KAAK,CAAC4I,EAAOA,EAAQN,IAG5BJ,EACEA,EAAKY,MAAM,EAAGF,GACd,IAAItJ,MAAMgJ,EAAU,GAAGjD,KAAK,KAC5B6C,EAAKY,MAAMF,EAAQN,IAGhBV,IACN,IACFmB,MAAK,SAASC,EAAQC,GACrB,OAAOD,EAAO,GAAKC,EAAO,Q,qBC7ClC,QAQiBC,IAIA,WAyGf,IAvGA,IAAIC,EAAS,CACX1H,IAAK,IAIH2H,EAAY,CACd,CAAC,KAAO,IAAQ,QAAU,QAC1B,CAAC,KAAO,IAAQ,QAAU,+LAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,oBAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,gBAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,qDAC1B,CAAC,KAAO,IAAQ,QAAU,qEAC1B,CAAC,KAAO,IAAQ,QAAU,mFAC1B,CAAC,KAAO,KAAQ,QAAU,gBAC1B,CAAC,KAAO,KAAQ,QAAU,gBAC1B,CAAC,KAAO,IAAQ,QAAU,2KAC1B,CAAC,KAAO,IAAQ,QAAU,mCAC1B,CAAC,KAAO,IAAQ,QAAU,yFAC1B,CAAC,KAAO,IAAQ,QAAU,mFAC1B,CAAC,KAAO,IAAQ,QAAU,+GAC1B,CAAC,KAAO,IAAQ,QAAU,6BAC1B,CAAC,KAAO,IAAQ,QAAU,mFAC1B,CAAC,KAAO,IAAQ,QAAU,2GAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,+CAC1B,CAAC,KAAO,IAAQ,QAAU,6FAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,qPAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,2DAC1B,CAAC,KAAO,IAAQ,QAAU,mCAC1B,CAAC,KAAO,IAAQ,QAAU,qGAC1B,CAAC,KAAO,IAAQ,QAAU,qGAC1B,CAAC,KAAO,IAAQ,QAAU,yFAC1B,CAAC,KAAO,KAAQ,QAAU,QAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,mMAC1B,CAAC,KAAO,IAAQ,QAAU,+CAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,2DAC1B,CAAC,KAAO,IAAQ,QAAU,6BAC1B,CAAC,KAAO,IAAQ,QAAU,uFAC1B,CAAC,KAAO,IAAQ,QAAU,mFAC1B,CAAC,KAAO,IAAQ,QAAU,2MAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,oBAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,gBAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,qDAC1B,CAAC,KAAO,IAAQ,QAAU,2EAC1B,CAAC,KAAO,IAAQ,QAAU,mFAC1B,CAAC,KAAO,KAAQ,QAAU,gBAC1B,CAAC,KAAO,IAAQ,QAAU,iLAC1B,CAAC,KAAO,IAAQ,QAAU,mCAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,MAAQ,QAAU,UAC1B,CAAC,KAAO,MAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,yFAC1B,CAAC,KAAO,IAAQ,QAAU,yFAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,+GAC1B,CAAC,KAAO,IAAQ,QAAU,mCAC1B,CAAC,KAAO,IAAQ,QAAU,mFAC1B,CAAC,KAAO,IAAQ,QAAU,iHAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,+CAC1B,CAAC,KAAO,IAAQ,QAAU,oHAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,2PAC1B,CAAC,KAAO,KAAQ,QAAU,gBAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,2DAC1B,CAAC,KAAO,IAAQ,QAAU,mCAC1B,CAAC,KAAO,IAAQ,QAAU,qGAC1B,CAAC,KAAO,IAAQ,QAAU,yGAC1B,CAAC,KAAO,KAAQ,QAAU,QAC1B,CAAC,KAAO,IAAQ,QAAU,+FAC1B,CAAC,KAAO,KAAQ,QAAU,QAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAW,mMAC3B,CAAC,KAAO,IAAQ,QAAU,+CAC1B,CAAC,KAAO,KAAQ,QAAU,UAC1B,CAAC,KAAO,IAAQ,QAAU,iEAC1B,CAAC,KAAO,IAAQ,QAAU,6BAC1B,CAAC,KAAO,IAAQ,QAAU,2FAC1B,CAAC,KAAO,IAAQ,QAAU,oFAInBpX,EAAI,EAAGqX,EAAYD,EAAUzX,OAAQK,EAAIqX,EAAWrX,IAG3D,IAFA,IAAIsX,EAAUF,EAAUpX,GAAGsX,QAAQnB,MAAM,IAEhCoB,EAAI,EAAGC,EAAYF,EAAQ3X,OAAQ4X,EAAIC,EAAWD,IACzDJ,EAAO1H,IAAI6H,EAAQC,IAAMH,EAAUpX,GAAGyX,KA6B1C,OAnBAN,EAAOrB,MAAQ,SAAUxR,GACvB,IAAKA,IAAUA,EAAM3E,QAAU2E,EAAM3E,OAAS,EAC5C,MAAO,GAST,IANA,IAII+X,EAJAxM,EAAS,GACToM,EAAUhT,EAAM6R,MAAM,IACtBS,EAAQ,EACRjX,EAAS2X,EAAQ3X,OAGdiX,EAAQjX,EAAQiX,IAErB1L,IADAwM,EAASJ,EAAQV,MACGO,EAAO1H,IAAM0H,EAAO1H,IAAIiI,GAAUA,EAGxD,OAAOxM,GAGFiM,GA7I6B1W,EAAO3B,QAAS2B,EAAO3B,QAAUoY,SACX,2BAANS,KAAM,mC,mBCV5DlX,EAAO3B,QAAU,SAAeoX,EAAM0B,GACpC,IAAIhC,EAAS,GAwCb,OAtCuB,IAAnBgC,EAAQjY,OACViW,EAAO5H,KAAK,CACVkI,KAAMA,EACN2B,WAAW,IAGTD,EAAQ,GAAG,GAAK,GAClBhC,EAAO5H,KAAK,CACVkI,KAAMA,EAAKY,MAAM,EAAGc,EAAQ,GAAG,IAC/BC,WAAW,IAKjBD,EAAQE,SAAQ,SAASC,EAAO/X,GAC9B,IAAIgY,EAAaD,EAAM,GACnBE,EAAWF,EAAM,GAErBnC,EAAO5H,KAAK,CACVkI,KAAMA,EAAKY,MAAMkB,EAAYC,GAC7BJ,WAAW,IAGT7X,IAAM4X,EAAQjY,OAAS,EACrBsY,EAAW/B,EAAKvW,QAClBiW,EAAO5H,KAAK,CACVkI,KAAMA,EAAKY,MAAMmB,EAAU/B,EAAKvW,QAChCkY,WAAW,IAGNI,EAAWL,EAAQ5X,EAAI,GAAG,IACnC4V,EAAO5H,KAAK,CACVkI,KAAMA,EAAKY,MAAMmB,EAAUL,EAAQ5X,EAAI,GAAG,IAC1C6X,WAAW,OAKVjC,I,kGCFT,SAASsC,EAAUC,GACjB,OAAa,MAANA,GAA4B,iBAAPA,GAAmC,IAAhBA,EAAGC,SAGpD,SAASC,EACPC,EACAC,GAEA,QAAIA,GAA2C,WAAbD,IAId,YAAbA,GAAuC,SAAbA,EA0BnC,SAASE,EAAaL,EAAaI,GACjC,GAAIJ,EAAGM,aAAeN,EAAGO,cAAgBP,EAAGQ,YAAcR,EAAGS,YAAa,CACxE,IAAMtF,EAAQuF,iBAAiBV,EAAI,MACnC,OACEE,EAAY/E,EAAMwF,UAAWP,IAC7BF,EAAY/E,EAAMyF,UAAWR,IAhBnC,SAAyBJ,GACvB,IAAMa,EAbR,SAAyBb,GACvB,IAAKA,EAAGc,gBAAkBd,EAAGc,cAAcC,YACzC,OAAO,KAGT,IACE,OAAOf,EAAGc,cAAcC,YAAYC,aACpC,MAAOC,GACP,aARJ,CAagCjB,GAC9B,QAAKa,IAKHA,EAAMP,aAAeN,EAAGO,cAAgBM,EAAML,YAAcR,EAAGS,aAPnE,CAiBsBT,GAIpB,SAWF,SAASkB,EACPC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAqBA,OACGF,EAAmBL,GAClBM,EAAiBL,GAClBI,EAAmBL,GAAsBM,EAAiBL,IA6C1DI,GAAoBL,GAAsBO,GAAeL,GACzDI,GAAkBL,GAAoBM,GAAeL,EAE/CG,EAAmBL,EAAqBG,EA4C9CG,EAAiBL,GAAoBM,EAAcL,GACnDG,EAAmBL,GAAsBO,EAAcL,EAEjDI,EAAiBL,EAAmBG,QCxN3CI,EAAY,EAUhB,SAASC,EAAOC,GACd,MAAqB,oBAAPA,EAAoBA,EAAKC,EAGzC,SAASA,KAQT,SAASC,EAAe1T,EAAM2T,GACf,OAAT3T,GDiMyCkT,SAM/B7Y,EAAiBuZ,GAE/B,IAAMC,EAAsBC,OAK1BC,EAKEH,EALFG,WACAC,EAIEJ,EAJFI,MACAC,EAGEL,EAHFK,OACAC,EAEEN,EAFFM,SACAnC,EACE6B,EADF7B,2BAKIoC,EACgB,mBAAbD,EAA0BA,EAAW,SAAClU,UAAcA,IAASkU,GAEtE,IAAKxC,EAAUrX,GACb,MAAM,IAAI4B,UAAU,kBAStB,IALA,IAAMmY,EAAmB1W,SAAS0W,kBAAoB1W,SAAS2W,gBAGzDC,EAAoB,GACtBC,EAASla,EACNqX,EAAU6C,IAAWJ,EAAcI,IAAS,CAKjD,IAHAA,EAASA,EAAOtU,cAGDmU,EAAkB,CAC/BE,EAAO9M,KAAK+M,GACZ,MAKAA,IAAW7W,SAAS8W,MACpBxC,EAAauC,KACZvC,EAAatU,SAAS2W,kBAMrBrC,EAAauC,EAAQxC,IACvBuC,EAAO9M,KAAK+M,GA8ChB,IArCA,IAAME,EAAgBZ,EAAmBa,eACrCb,EAAmBa,eAAeC,MAClCC,WACEC,EAAiBhB,EAAmBa,eACtCb,EAAmBa,eAAeI,OAClCC,YAGEC,EAAYlB,OAAOmB,SAAWC,YAC9BC,EAAYrB,OAAOsB,SAAWC,cAShChb,EAAOib,wBANDC,IAART,OACOU,IAAPb,MACKc,IAALC,IACOC,IAAPC,MACQC,IAARC,OACMC,IAANC,KAIEC,EACQ,UAAVjC,GAA+B,YAAVA,EACjByB,EACU,QAAVzB,EACA6B,EACAJ,EAAYF,EAAe,EAC7BW,EACS,WAAXjC,EACI8B,EAAaP,EAAc,EAChB,QAAXvB,EACA0B,EACAI,EAGAI,EAAqC,GAElC/F,EAAQ,EAAGA,EAAQkE,EAAOnb,OAAQiX,IAAS,CAClD,IAAMoC,EAAQ8B,EAAOlE,KAWjBoC,EAAM8C,wBANRR,WACAH,UACAe,QACAE,UACAE,WACAE,SAKF,GACiB,cAAfjC,GACA0B,GAAa,GACbM,GAAc,GACdF,GAAgBhB,GAChBc,GAAelB,GACfgB,GAAaC,GACbG,GAAgBC,GAChBC,GAAcC,GACdL,GAAeC,EAGf,OAAOO,EAGT,IAAMC,EAAa/D,iBAAiBG,GAC9B6D,EAAavW,SAASsW,EAAWE,gBAA2B,IAC5DC,EAAYzW,SAASsW,EAAWI,eAA0B,IAC1DC,EAAc3W,SAASsW,EAAWM,iBAA4B,IAC9DC,EAAe7W,SAASsW,EAAWQ,kBAA6B,IAElEC,EAAsB,EACtBC,EAAuB,EAIrBC,EACJ,gBAAiBvE,EACZA,EAAsBwE,YACtBxE,EAAsBL,YACvBkE,EACAI,EACA,EACAQ,EACJ,iBAAkBzE,EACbA,EAAsB1I,aACtB0I,EAAsBP,aACvBsE,EACAI,EACA,EAEN,GAAIvC,IAAqB5B,EAIrBqE,EADY,UAAV7C,EACYiC,EACK,QAAVjC,EACKiC,EAAcpB,EACT,YAAVb,EACKnB,EACZsC,EACAA,EAAYN,EACZA,EACA0B,EACAI,EACAxB,EAAYc,EACZd,EAAYc,EAAcV,EAC1BA,GAIYU,EAAcpB,EAAiB,EAI7CiC,EADa,UAAX7C,EACaiC,EACK,WAAXjC,EACMiC,EAAezB,EAAgB,EAC1B,QAAXR,EACMiC,EAAezB,EAGf5B,EACbmC,EACAA,EAAYP,EACZA,EACA4B,EACAI,EACAzB,EAAYkB,EACZlB,EAAYkB,EAAeV,EAC3BA,GAMJqB,EAAcK,KAAKC,IAAI,EAAGN,EAAc1B,GACxC2B,EAAeI,KAAKC,IAAI,EAAGL,EAAe9B,OACrC,CAIH6B,EADY,UAAV7C,EACYiC,EAAcP,EAAMa,EACf,QAAVvC,EACKiC,EAAcH,EAASa,EAAeM,EACjC,YAAVjD,EACKnB,EACZ6C,EACAI,EACAhB,EACAyB,EACAI,EAAeM,EACfhB,EACAA,EAAcV,EACdA,GAIYU,GAAeP,EAAMZ,EAAS,GAAKmC,EAAkB,EAInEH,EADa,UAAX7C,EACaiC,EAAeF,EAAOK,EACjB,WAAXpC,EACMiC,GAAgBF,EAAOrB,EAAQ,GAAKoC,EAAiB,EAChD,QAAX9C,EACMiC,EAAeN,EAAQa,EAAcM,EAGrClE,EACbmD,EACAJ,EACAjB,EACA0B,EACAI,EAAcM,EACdb,EACAA,EAAeV,EACfA,GAvCC,IA2CG4B,EAA0B5E,EAA1B4E,WAAY/U,EAAcmQ,EAAdnQ,UAkBpB4T,GAAe5T,GAhBfwU,EAAcK,KAAKC,IACjB,EACAD,KAAKG,IACHhV,EAAYwU,EACZrE,EAAMN,aAAe4C,EAASmC,KAalCf,GAAgBkB,GAVhBN,EAAeI,KAAKC,IAClB,EACAD,KAAKG,IACHD,EAAaN,EACbtE,EAAMJ,YAAcuC,EAAQoC,KASlCZ,EAAa3O,KAAK,CAAEmK,GAAIa,EAAOkD,IAAKmB,EAAab,KAAMc,IAGzD,OAAOX,EC/cOmB,CAAsBtX,EAAM,CACxCkU,SAAUP,EACVK,MAAO,UACPD,WAAY,cAENzC,SAAQ,SAAU1M,GACxB,IAAI+M,EAAK/M,EAAK+M,GACV+D,EAAM9Q,EAAK8Q,IACXM,EAAOpR,EAAKoR,KAChBrE,EAAGtP,UAAYqT,EACf/D,EAAGyF,WAAapB,KAUpB,SAASuB,EAAiBC,EAAQC,GAChC,OAAOD,IAAWC,GAASD,EAAOE,UAAYF,EAAOE,SAASD,GAYhE,SAASE,EAASC,EAAIC,GACpB,IAAIC,EAEJ,SAASC,IACHD,GACFE,aAAaF,GAIjB,SAASG,IACP,IAAK,IAAI5L,EAAOnT,UAAUC,OAAQ4U,EAAO,IAAIjH,MAAMuF,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/EwB,EAAKxB,GAAQrT,UAAUqT,GAGzBwL,IACAD,EAAYjV,YAAW,WACrBiV,EAAY,KACZF,EAAGhL,WAAM,EAAQmB,KAChB8J,GAIL,OADAI,EAAQF,OAASA,EACVE,EAWT,SAASC,IACP,IAAK,IAAIC,EAAQjf,UAAUC,OAAQif,EAAM,IAAItR,MAAMqR,GAAQE,EAAQ,EAAGA,EAAQF,EAAOE,IACnFD,EAAIC,GAASnf,UAAUmf,GAGzB,OAAO,SAAUhY,GACf,IAAK,IAAIiY,EAAQpf,UAAUC,OAAQ4U,EAAO,IAAIjH,MAAMwR,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGxK,EAAKwK,EAAQ,GAAKrf,UAAUqf,GAG9B,OAAOH,EAAII,MAAK,SAAUZ,GAKxB,OAJIA,GACFA,EAAGhL,WAAM,EAAQ,CAACvM,GAAO0M,OAAOgB,IAG3B1N,EAAMoY,yBAA2BpY,EAAM9F,eAAe,gBAAkB8F,EAAMqY,YAAYD,4BAKvG,SAASE,IACP,IAAK,IAAIC,EAAQ1f,UAAUC,OAAQ0f,EAAO,IAAI/R,MAAM8R,GAAQE,EAAQ,EAAGA,EAAQF,EAAOE,IACpFD,EAAKC,GAAS5f,UAAU4f,GAG1B,OAAO,SAAU9Y,GACf6Y,EAAKvH,SAAQ,SAAUvN,GACF,oBAARA,EACTA,EAAI/D,GACK+D,IACTA,EAAIgV,QAAU/Y,OA4BtB,SAASgZ,EAAqBld,GAC5B,IAAI4F,EAAS5F,EAAM4F,OACfuX,EAAend,EAAMmd,aACrBC,EAAcpd,EAAMod,YACpBC,EAAsBrd,EAAMqd,oBAC5BC,EAAetd,EAAMsd,aAEzB,OAAK1X,EAIAwX,EAIDA,IAAgBC,EACXD,EAAc,WAA6B,IAAhBA,EAAoB,MAAQ,SAAW,iFAGpE,GAPE,4BAJAD,EAAeG,EAAaH,GAAgB,GAsBvD,SAASI,EAAYC,EAAKC,GAKxB,QAJAD,EAAMxS,MAAMC,QAAQuS,GAEpBA,EAAI,GAAKA,IAEGC,EACHA,EAEAD,EASX,SAASE,EAAaC,GAEpB,MAA+B,kBAAjBA,EAAQnP,KAQxB,SAASoP,EAAgBD,GACvB,OAAOA,EAAQ9e,MAejB,IAAIgf,EAAY,CAAC,mBAAoB,aAAc,SAAU,eAAgB,QAM7E,SAASC,EAAUjd,QACH,IAAVA,IACFA,EAAQ,IAGV,IAAIyS,EAAS,GAMb,OALAuK,EAAUrI,SAAQ,SAAUuI,GACtBld,EAAMpC,eAAesf,KACvBzK,EAAOyK,GAAKld,EAAMkd,OAGfzK,EAeT,SAAS0K,EAASnd,EAAOhC,GACvB,OAAOvC,OAAOa,KAAK0D,GAAOkT,QAAO,SAAUnR,EAAWhF,GAEpD,OADAgF,EAAUhF,GAAOqgB,EAAiBpf,EAAOjB,GAAOiB,EAAMjB,GAAOiD,EAAMjD,GAC5DgF,IACN,IAaL,SAASqb,EAAiBpf,EAAOjB,GAC/B,YAAsBN,IAAfuB,EAAMjB,GASf,SAASsgB,EAAkB3Z,GACzB,IAAI3G,EAAM2G,EAAM3G,IACZ6I,EAAUlC,EAAMkC,QAGpB,OAAIA,GAAW,IAAMA,GAAW,IAA+B,IAAzB7I,EAAIoV,QAAQ,SACzC,QAAUpV,EAGZA,EAyBT,SAASugB,EAAqBC,EAAYC,EAAWC,EAAWC,EAAsBC,QACnE,IAAbA,IACFA,GAAW,GAGb,IAAIC,EAAiBH,EAAY,GAER,kBAAdD,GAA0BA,EAAY,GAAKA,GAAaC,KACjED,EAAYD,EAAa,GAAK,EAAIK,EAAiB,GAGrD,IAAIC,EAAWL,EAAYD,EAEvBM,EAAW,EACbA,EAAWF,EAAWC,EAAiB,EAC9BC,EAAWD,IACpBC,EAAWF,EAAW,EAAIC,GAG5B,IAAIE,EAAsBC,EAAwBR,EAAYM,EAAUJ,EAAWC,EAAsBC,GACzG,OAAgC,IAAzBG,EAA6BN,EAAYM,EAclD,SAASC,EAAwBR,EAAYC,EAAWC,EAAWC,EAAsBC,GACvF,IAAIK,EAAqBN,EAAqBF,GAE9C,IAAKQ,IAAuBA,EAAmBC,aAAa,YAC1D,OAAOT,EAGT,GAAID,EAAa,GACf,IAAK,IAAI9J,EAAQ+J,EAAY,EAAG/J,EAAQgK,EAAWhK,IACjD,IAAKiK,EAAqBjK,GAAOwK,aAAa,YAC5C,OAAOxK,OAIX,IAAK,IAAIyK,EAASV,EAAY,EAAGU,GAAU,EAAGA,IAC5C,IAAKR,EAAqBQ,GAAQD,aAAa,YAC7C,OAAOC,EAKb,OAAIP,EACKJ,EAAa,EAAIQ,EAAwB,EAAG,EAAGN,EAAWC,GAAsB,GAASK,GAAyB,EAAGN,EAAY,EAAGA,EAAWC,GAAsB,IAGtK,EAeV,SAASS,EAAsBzgB,EAAQ0gB,EAAUpH,EAAUjW,EAAUsd,GAKnE,YAJ2B,IAAvBA,IACFA,GAAqB,GAGhB,CAACD,EAAUpH,GAAU6E,MAAK,SAAUyC,GACzC,OAAOA,IAAgB1D,EAAiB0D,EAAa5gB,IAAW2gB,GAAsBzD,EAAiB0D,EAAavd,EAASwd,mBAIjI,IAAIC,EAAgBxD,GAAS,WAC3ByD,IAAeC,YAAc,KAC5B,KAMH,SAASC,EAAUC,EAAQC,GACzB,IAAIC,EAAML,EAAaI,GAElBD,IAILE,EAAIJ,YAAcE,EAClBJ,KASF,SAASC,EAAaI,QACC,IAAjBA,IACFA,EAAe9d,UAGjB,IAAIge,EAAYF,EAAaG,eAAe,uBAE5C,OAAID,KAIJA,EAAYF,EAAalY,cAAc,QAC7BsY,aAAa,KAAM,uBAC7BF,EAAUE,aAAa,OAAQ,UAC/BF,EAAUE,aAAa,YAAa,UACpCF,EAAUE,aAAa,gBAAiB,kBACxCxjB,OAAOgC,OAAOshB,EAAU5O,MAAO,CAC7B+O,OAAQ,IACRC,KAAM,gBACNhH,OAAQ,MACRiH,OAAQ,OACRjK,SAAU,SACVkK,QAAS,IACT1Q,SAAU,WACVqJ,MAAO,QAET6G,EAAahH,KAAKyH,YAAYP,GACvBA,GAGT,IAkBIQ,EAAgC9jB,OAAO+jB,OAAO,CAChD3f,UAAW,KACX4f,QApBiF,EAqBjFC,QApBiF,EAqBjFC,eApBgG,EAqBhGC,eApBiG,EAqBjGC,iBApBqG,EAqBrGC,cApB8F,EAqB9FC,aApB4F,EAqB5FC,YApB0F,EAqB1FC,WApBwF,EAqBxFC,UApBsF,EAqBtFC,UApBsF,GAqBtFC,YApB0F,GAqB1FC,mBApByG,GAqBzGC,YApB0F,GAqB1FC,WApBwF,GAqBxFC,kCApByI,GAqBzIC,SApBmF,KAuBjFC,EAEJ,WACE,IAAIA,EAEJ,SAAUxhB,GAGR,SAASwhB,EAAU1e,GACjB,IAAIvC,EAAQP,EAAWrB,KAAK2B,KAAMwC,IAAWxC,KAE7CC,EAAM+E,GAAK/E,EAAMzB,MAAMwG,IAAM,aAnX1Bmc,OAAOhK,KAoXVlX,EAAMmhB,OAASnhB,EAAMzB,MAAM4iB,QAAUnhB,EAAM+E,GAAK,QAChD/E,EAAMohB,QAAUphB,EAAMzB,MAAM6iB,SAAWphB,EAAM+E,GAAK,SAClD/E,EAAMqhB,QAAUrhB,EAAMzB,MAAM8iB,SAAWrhB,EAAM+E,GAAK,SAElD/E,EAAMiM,UAAYjM,EAAMzB,MAAM0N,WAAa,SAAU+H,GACnD,OAAOhU,EAAM+E,GAAK,SAAWiP,GAG/BhU,EAAM0B,MAAQ,KACd1B,EAAMuF,MAAQ,GACdvF,EAAMge,UAAY,KAClBhe,EAAM+c,oBAAsB,EAC5B/c,EAAMshB,WAAa,GAEnBthB,EAAMuhB,mBAAqB,SAAU/F,EAAIC,GACvC,IAAI1W,EAAK0B,YAAW,WAClBzG,EAAMshB,WAAathB,EAAMshB,WAAWhR,QAAO,SAAUlT,GACnD,OAAOA,IAAM2H,KAEfyW,MACCC,GAEHzb,EAAMshB,WAAWlW,KAAKrG,IAGxB/E,EAAMwhB,aAAe,SAAUC,GAC7BzhB,EAAMge,UAAYyD,GAGpBzhB,EAAM0hB,eAAiB,WACrB1hB,EAAMge,UAAY,MAGpBhe,EAAM2hB,oBAAsB,SAAUC,EAAkBC,QAC7B,IAArBD,IACFA,EAAmB5hB,EAAMzB,MAAMujB,8BAGT,IAApBD,IACFA,EAAkB,IAGpBA,EAAkBrE,EAAUqE,GAE5B7hB,EAAM+hB,iBAAiBhkB,YAAS,CAC9B6jB,iBAAkBA,GACjBC,KAGL7hB,EAAMgiB,eAAiB,SAAU5K,GAC/BpX,EAAM+hB,iBAAiB,CACrBlF,aAAc,KACdoF,WAAY,GACZL,iBAAkB5hB,EAAMzB,MAAMujB,wBAC9Bxc,OAAQtF,EAAMzB,MAAM2jB,eACnB9K,IAGLpX,EAAMmiB,WAAa,SAAUvT,EAAMiT,EAAiBzK,GAClDyK,EAAkBrE,EAAUqE,GAE5B7hB,EAAM+hB,iBAAiBhkB,YAAS,CAC9BuH,OAAQtF,EAAMzB,MAAM2jB,cACpBN,iBAAkB5hB,EAAMzB,MAAMujB,wBAC9BjF,aAAcjO,EACdqT,WAAYjiB,EAAMzB,MAAMye,aAAapO,IACpCiT,GAAkBzK,IAGvBpX,EAAMoiB,kBAAoB,SAAUpZ,EAAW6Y,EAAiBzK,GAC9D,IAAIxI,EAAO5O,EAAMuF,MAAMyD,GAEX,MAAR4F,GAIJ5O,EAAMmiB,WAAWvT,EAAMiT,EAAiBzK,IAG1CpX,EAAMqiB,sBAAwB,SAAUR,EAAiBzK,GACvD,OAAOpX,EAAMoiB,kBAAkBpiB,EAAM0d,WAAWkE,iBAAkBC,EAAiBzK,IAGrFpX,EAAM+hB,iBAAmB,SAAUO,EAAYlL,GAC7C,IAAImL,EAAgBC,EAChBC,EAAmB,GACnBC,EAA6C,oBAAfJ,EAUlC,OAJKI,GAAwBJ,EAAWnkB,eAAe,eACrD6B,EAAMzB,MAAMokB,mBAAmBL,EAAWL,WAAYlkB,YAAS,GAAIiC,EAAM4iB,qBAAsB,GAAIN,IAG9FtiB,EAAMgD,UAAS,SAAUzC,GAC9BA,EAAQP,EAAM0d,SAASnd,GACvB,IAAIsiB,EAAgBH,EAAuBJ,EAAW/hB,GAAS+hB,EAE/DO,EAAgB7iB,EAAMzB,MAAMukB,aAAaviB,EAAOsiB,GAIhDN,EAAiBM,EAAc1kB,eAAe,gBAE9C,IAAI4kB,EAAY,GAEZC,EAAgB,GAsCpB,OAlCIT,GAAkBM,EAAchG,eAAiBtc,EAAMsc,eACzD2F,EAAcK,EAAchG,cAG9BgG,EAAc3U,KAAO2U,EAAc3U,MAvKsC,EAwKzElS,OAAOa,KAAKgmB,GAAe3N,SAAQ,SAAU5X,GAGvCiD,EAAMjD,KAASulB,EAAcvlB,KAC/BmlB,EAAiBnlB,GAAOulB,EAAcvlB,IAS5B,SAARA,IAIJ0lB,EAAc1lB,GAAOulB,EAAcvlB,GAE9BqgB,EAAiB3d,EAAMzB,MAAOjB,KACjCylB,EAAUzlB,GAAOulB,EAAcvlB,QAK/BolB,GAAwBG,EAAc1kB,eAAe,eACvD6B,EAAMzB,MAAMokB,mBAAmBE,EAAcZ,WAAYlkB,YAAS,GAAIiC,EAAM4iB,qBAAsB,GAAIC,IAGjGE,KACN,WAED5L,EAAOC,EAAPD,GAG2Bnb,OAAOa,KAAK4lB,GAAkB1lB,OAAS,GAGhEiD,EAAMzB,MAAM0kB,cAAcR,EAAkBziB,EAAM4iB,sBAGhDL,GACFviB,EAAMzB,MAAM2kB,SAASZ,EAAWzF,aAAc7c,EAAM4iB,2BAGlC5lB,IAAhBwlB,GACFxiB,EAAMzB,MAAM+F,SAASke,EAAaxiB,EAAM4iB,sBAK1C5iB,EAAMzB,MAAM4kB,aAAaV,EAAkBziB,EAAM4iB,0BAIrD5iB,EAAMojB,QAAU,SAAUxf,GACxB,OAAO5D,EAAMqjB,UAAYzf,GAG3B5D,EAAMsjB,aAAe,SAAU5R,EAAO6R,GACpC,IAAIC,EAEAhb,OAAiB,IAAVkJ,EAAmB,GAAKA,EAC/B+R,EAAcjb,EAAKkb,OACnBA,OAAyB,IAAhBD,EAAyB,MAAQA,EAC1C9b,EAAMa,EAAKb,IACXgc,EAAOC,YAA8Bpb,EAAM,CAAC,SAAU,QAGtDqb,QADmB,IAAXN,EAAoB,GAAKA,GACHO,iBAC9BA,OAA6C,IAA1BD,GAA2CA,EAIlE7jB,EAAMsjB,aAAaS,QAAS,EAC5B/jB,EAAMsjB,aAAaI,OAASA,EAC5B1jB,EAAMsjB,aAAaQ,iBAAmBA,EAEtC,IACIxe,EADiBtF,EAAM0d,WACCpY,OAE5B,OAAOvH,cAAUylB,EAAY,IAAcE,GAAUnH,EAAW5U,EAAK3H,EAAMojB,SAAUI,EAAUxV,KAAO,WAAYwV,EAAU,iBAAmBle,EAAQke,EAAU,iBAAmB,UAAWA,EAAU,aAAele,EAAStF,EAAMmhB,OAAS,KAAMqC,EAAU,mBAAqBxjB,EAAMohB,QAASoC,GAAYG,IAGlT3jB,EAAMgkB,gBAAkB,CACtBC,UAAW,SAAmBhgB,GAC5B,IAAIlB,EAAShD,KAIb,GAFAkE,EAAMuC,iBAEFzG,KAAK2d,WAAWpY,OAAQ,CAC1B,IAAI4e,EAASjgB,EAAMkgB,SAAW,EAAI,EAClCpkB,KAAKqkB,qBAAqBF,EAAQ,CAChChW,KAjQyF,SAoQ3FnO,KAAKgiB,iBAAiB,CACpBzc,QAAQ,EACR4I,KAtQyF,IAuQxF,WACD,IAAI8P,EAAYjb,EAAOshB,eAEvB,GAAIrG,EAAY,EAAG,CACjB,IAGIsG,EAAuBzG,EAAqB,EAH1B9a,EAAO2a,WACUkE,iBAE8B5D,GAAW,SAAUhK,GACxF,OAAOjR,EAAOkb,qBAAqBjK,MAGrCjR,EAAO4e,oBAAoB2C,EAAsB,CAC/CpW,KAnRqF,SAyR/FqW,QAAS,SAAiBtgB,GACxB,IAAIQ,EAAS1E,KAIb,GAFAkE,EAAMuC,iBAEFzG,KAAK2d,WAAWpY,OAAQ,CAC1B,IAAI4e,EAASjgB,EAAMkgB,UAAY,GAAK,EACpCpkB,KAAKqkB,qBAAqBF,EAAQ,CAChChW,KAlSqF,SAqSvFnO,KAAKgiB,iBAAiB,CACpBzc,QAAQ,EACR4I,KAvSqF,IAwSpF,WACD,IAAI8P,EAAYvZ,EAAO4f,eAEvB,GAAIrG,EAAY,EAAG,CACjB,IAGIsG,EAAuBzG,GAAsB,EAH3BpZ,EAAOiZ,WACUkE,iBAE+B5D,GAAW,SAAUhK,GACzF,OAAOvP,EAAOwZ,qBAAqBjK,MAGrCvP,EAAOkd,oBAAoB2C,EAAsB,CAC/CpW,KApTiF,SA0T3FsW,MAAO,SAAevgB,GACpB,IAAIwgB,EAAkB1kB,KAAK2d,WACvBpY,EAASmf,EAAgBnf,OACzBsc,EAAmB6C,EAAgB7C,iBAEvC,GAAItc,GAA8B,MAApBsc,EAA0B,CACtC3d,EAAMuC,iBACN,IAAIoI,EAAO7O,KAAKwF,MAAMqc,GAClB8C,EAAW3kB,KAAKke,qBAAqB2D,GAEzC,GAAY,MAARhT,GAAgB8V,GAAYA,EAASlG,aAAa,YACpD,OAGFze,KAAKsiB,sBAAsB,CACzBnU,KAtUgF,MA0UtFyW,OAAQ,SAAgB1gB,GACtBA,EAAMuC,iBACNzG,KAAK6kB,MAAM,CACT1W,KA9UoF,EA+UpF2O,aAAc,KACdoF,WAAY,OAIlBjiB,EAAM6kB,sBAAwB9mB,YAAS,GAAIiC,EAAMgkB,gBAAiB,CAChE,IAAK,SAAW/f,GACdA,EAAMuC,iBACNzG,KAAK+kB,WAAW,CACd5W,KAjV+F,QAqVrGlO,EAAM+kB,qBAAuBhnB,YAAS,GAAIiC,EAAMgkB,gBAAiB,CAC/DgB,KAAM,SAAc/gB,GAClB,IAAI2E,EAAS7I,KAEbkE,EAAMuC,iBACN,IAAIwX,EAAYje,KAAKskB,eAGjB/e,EADkBvF,KAAK2d,WACEpY,OAE7B,KAAI0Y,GAAa,IAAM1Y,EAAvB,CAKA,IAAI2f,EAAsB3G,EAAwB,EAAG,EAAGN,GAAW,SAAUhK,GAC3E,OAAOpL,EAAOqV,qBAAqBjK,MAClC,GACHjU,KAAK4hB,oBAAoBsD,EAAqB,CAC5C/W,KA7WgF,MAgXpFgX,IAAK,SAAajhB,GAChB,IAAIkhB,EAASplB,KAEbkE,EAAMuC,iBACN,IAAIwX,EAAYje,KAAKskB,eAGjB/e,EADkBvF,KAAK2d,WACEpY,OAE7B,KAAI0Y,GAAa,IAAM1Y,EAAvB,CAKA,IAAI2f,EAAsB3G,GAAyB,EAAGN,EAAY,EAAGA,GAAW,SAAUhK,GACxF,OAAOmR,EAAOlH,qBAAqBjK,MAClC,GACHjU,KAAK4hB,oBAAoBsD,EAAqB,CAC5C/W,KAjY8E,QAsYpFlO,EAAMolB,qBAAuB,SAAUC,GACrC,IAAItc,OAAmB,IAAXsc,EAAoB,GAAKA,EACjCjb,EAAUrB,EAAMqB,QAEhB/E,GADU0D,EAAMuc,QACJvc,EAAM1D,WAClBkgB,EAAUxc,EAAMwc,QAChB3f,EAASmD,EAAMnD,OACf+d,EAAOC,YAA8B7a,EAAO,CAAC,UAAW,UAAW,YAAa,UAAW,WAG3FzD,EADkBtF,EAAM0d,WACCpY,OAEzBkgB,EAAuB,CACzBpb,QAAS0R,EAAqB1R,EAASpK,EAAMylB,mBAC7CpgB,UAAWyW,EAAqBzW,EAAWrF,EAAM0lB,qBACjDH,QAASzJ,EAAqByJ,EAASvlB,EAAM2lB,mBAC7C/f,OAAQkW,EAAqBlW,EAAQ5F,EAAM4lB,mBAEzCC,EAAgBlC,EAAKmC,SAAW,GAAKN,EACzC,OAAOznB,YAAS,CACdmQ,KAAM,SACNF,KAAM,SACN,aAAc1I,EAAS,aAAe,YACtC,iBAAiB,EACjB,eAAe,GACdugB,EAAe,GAAIlC,IAGxB3jB,EAAM2lB,kBAAoB,SAAU1hB,GAElCA,EAAMuC,kBAGRxG,EAAM0lB,oBAAsB,SAAUzhB,GACpC,IAAI3G,EAAMsgB,EAAkB3Z,GAExBjE,EAAM6kB,sBAAsBvnB,IAC9B0C,EAAM6kB,sBAAsBvnB,GAAKc,KAAK2nB,YAAuB/lB,GAAQiE,IAIzEjE,EAAMylB,kBAAoB,SAAUxhB,GAClCA,EAAMuC,iBAKDxG,EAAMzB,MAAMynB,YAAY1kB,SAASwd,gBAAkB9e,EAAMzB,MAAMynB,YAAY1kB,SAAS8W,MACvFnU,EAAMhG,OAAO4H,QAYb7F,EAAMuhB,oBAAmB,WACvB,OAAOvhB,EAAM8kB,WAAW,CACtB5W,KA/b8E,SAqctFlO,EAAM4lB,iBAAmB,SAAU3hB,GACjC,IAAIgiB,EAAahiB,EAAMhG,OAGvB+B,EAAMuhB,oBAAmB,WAClBvhB,EAAMkmB,aAAkE,MAAlDlmB,EAAMzB,MAAMynB,YAAY1kB,SAASwd,eAAyB9e,EAAMzB,MAAMynB,YAAY1kB,SAASwd,cAAc/Z,KAAO/E,EAAMqhB,SAAYrhB,EAAMzB,MAAMynB,YAAY1kB,SAASwd,gBAAkBmH,GAE5MjmB,EAAM4kB,MAAM,CACV1W,KA5c0E,SAkdpFlO,EAAMmmB,cAAgB,SAAU5nB,GAC9B,OAAOR,YAAS,CACdqoB,QAASpmB,EAAMqhB,QACftc,GAAI/E,EAAMohB,SACT7iB,IAGLyB,EAAMqmB,cAAgB,SAAUC,GAC9B,IAAIxc,OAAmB,IAAXwc,EAAoB,GAAKA,EACjCjhB,EAAYyE,EAAMzE,UAClBO,EAASkE,EAAMlE,OACftB,EAAWwF,EAAMxF,SACjBiiB,EAAUzc,EAAMyc,QAEhB5C,GADe7Z,EAAM0c,aACd5C,YAA8B9Z,EAAO,CAAC,YAAa,SAAU,WAAY,UAAW,kBAG3F+b,EAAgB,GAKpB,IAMMY,EANFC,EAAkB1mB,EAAM0d,WACxBuE,EAAayE,EAAgBzE,WAC7B3c,EAASohB,EAAgBphB,OACzBsc,EAAmB8E,EAAgB9E,iBAElC+B,EAAKmC,YAGSW,EAAiB,IAAkB,SAAgB3K,EAAqBxX,EAAUiiB,EAASvmB,EAAM2mB,mBAAoBF,EAAephB,UAAYyW,EAAqBzW,EAAWrF,EAAM4mB,oBAAqBH,EAAe7gB,OAASkW,EAAqBlW,EAAQ5F,EAAM6mB,iBAAvRhB,EAAySY,GAK3S,OAAO1oB,YAAS,CACd,oBAAqB,OACrB,wBAAyBuH,GAAsC,kBAArBsc,GAAiCA,GAAoB,EAAI5hB,EAAMiM,UAAU2V,GAAoB,KACvI,gBAAiBtc,EAAStF,EAAMmhB,OAAS,KACzC,kBAAmBnhB,EAAMohB,QAGzBjT,aAAc,MACdhS,MAAO8lB,EACPld,GAAI/E,EAAMqhB,SACTwE,EAAe,GAAIlC,IAGxB3jB,EAAM4mB,mBAAqB,SAAU3iB,GACnC,IAAI3G,EAAMsgB,EAAkB3Z,GAExB3G,GAAO0C,EAAM+kB,qBAAqBznB,IACpC0C,EAAM+kB,qBAAqBznB,GAAKc,KAAK2nB,YAAuB/lB,GAAQiE,IAIxEjE,EAAM2mB,kBAAoB,SAAU1iB,GAClCjE,EAAM+hB,iBAAiB,CACrB7T,KA/gBkF,GAghBlF5I,QAAQ,EACR2c,WAAYhe,EAAMhG,OAAO9B,MACzBylB,iBAAkB5hB,EAAMzB,MAAMujB,2BAIlC9hB,EAAM6mB,gBAAkB,WAEtB7mB,EAAMuhB,oBAAmB,WACvB,IAAIuF,EAA0B9mB,EAAMzB,MAAMynB,YAAY1kB,YAActB,EAAMzB,MAAMynB,YAAY1kB,SAASwd,iBAAmB9e,EAAMzB,MAAMynB,YAAY1kB,SAASwd,cAAciI,SAAW/mB,EAAMzB,MAAMynB,YAAY1kB,SAASwd,cAAciI,QAAQC,QAAUhnB,EAAMqjB,WAAarjB,EAAMqjB,UAAU/H,SAAStb,EAAMzB,MAAMynB,YAAY1kB,SAASwd,eAE3T9e,EAAMkmB,aAAgBY,GACzB9mB,EAAM4kB,MAAM,CACV1W,KA9hB0E,SAoiBlFlO,EAAMinB,QAAU,SAAUrjB,GACxB5D,EAAMknB,UAAYtjB,GAGpB5D,EAAMmnB,aAAe,SAAUC,EAAQC,GACrC,IAAIC,EAEAjd,OAAmB,IAAX+c,EAAoB,GAAKA,EACjCG,EAAeld,EAAMqZ,OACrBA,OAA0B,IAAjB6D,EAA0B,MAAQA,EAC3C5f,EAAM0C,EAAM1C,IACZpJ,EAAQqlB,YAA8BvZ,EAAO,CAAC,SAAU,QAGxDmd,QADmB,IAAXH,EAAoB,GAAKA,GACHvD,iBAC9BA,OAA6C,IAA1B0D,GAA2CA,EAKlE,OAHAxnB,EAAMmnB,aAAapD,QAAS,EAC5B/jB,EAAMmnB,aAAazD,OAASA,EAC5B1jB,EAAMmnB,aAAarD,iBAAmBA,EAC/B/lB,cAAUupB,EAAY,IAAc5D,GAAUnH,EAAW5U,EAAK3H,EAAMinB,SAAUK,EAAUtZ,KAAO,UAAWsZ,EAAU,mBAAqB/oB,GAASA,EAAM,cAAgB,KAAOyB,EAAMohB,QAASkG,EAAUviB,GAAK/E,EAAMmhB,OAAQmG,GAAY/oB,IAGhPyB,EAAMynB,aAAe,SAAUC,GAC7B,IAAIC,EAEAC,OAAmB,IAAXF,EAAoB,GAAKA,EACjCG,EAAcD,EAAMC,YACpB5d,EAAc2d,EAAM3d,YACpBG,EAAUwd,EAAMxd,QAEhB4J,GADU4T,EAAMtC,QACRsC,EAAM5T,OACd8T,EAAaF,EAAMhZ,KACnBA,OAAsB,IAAfkZ,OAEX9qB,EAAmD8qB,EAC/CnE,EAAOC,YAA8BgE,EAAO,CAAC,cAAe,cAAe,UAAW,UAAW,QAAS,cAEhG5qB,IAAVgX,GACFhU,EAAMuF,MAAM6F,KAAKwD,GAEjBoF,EAAQhU,EAAMuF,MAAMmN,QAAQ9D,IAE5B5O,EAAMuF,MAAMyO,GAASpF,EAGvB,IACImZ,EAAqB3d,EACrBob,IAAwBmC,EAAwB,CAIlDE,YAAa/L,EAAqB+L,GAAa,WACzC7T,IAAUhU,EAAM0d,WAAWkE,mBAI/B5hB,EAAM2hB,oBAAoB3N,EAAO,CAC/B9F,KAtmBoF,IA6mBtFlO,EAAMgoB,gBAAiB,EAEvBhoB,EAAMuhB,oBAAmB,WACvB,OAAOvhB,EAAMgoB,gBAAiB,IAC7B,SAEL/d,YAAa6R,EAAqB7R,GAAa,SAAUhG,GAIvDA,EAAMuC,sBAEc,QAAgBsV,EAAqBiM,GAAoB,WAC/E/nB,EAAMoiB,kBAAkBpO,EAAO,CAC7B9F,KApnB4E,OAsnB5EyZ,GAGA9B,EAAgBlC,EAAKmC,SAAW,CAClC7b,YAAaub,EAAqBvb,aAChCub,EACJ,OAAOznB,YAAS,CACdgH,GAAI/E,EAAMiM,UAAU+H,GACpBhG,KAAM,SACN,gBAAiBhO,EAAM0d,WAAWkE,mBAAqB5N,GACtD6R,EAAe,GAAIlC,IAGxB3jB,EAAMioB,WAAa,WACjBjoB,EAAMuF,MAAQ,IAGhBvF,EAAM4kB,MAAQ,SAAU/C,EAAiBzK,QACf,IAApByK,IACFA,EAAkB,IAGpBA,EAAkBrE,EAAUqE,GAE5B7hB,EAAM+hB,kBAAiB,SAAUmG,GAC/B,IAAIrL,EAAeqL,EAAMrL,aACzB,OAAO9e,YAAS,CACduH,OAAQtF,EAAMzB,MAAM2jB,cACpBN,iBAAkB5hB,EAAMzB,MAAMujB,wBAC9BG,WAAYjiB,EAAMzB,MAAMye,aAAaH,IACpCgF,KACFzK,IAGLpX,EAAM8kB,WAAa,SAAUjD,EAAiBzK,QACpB,IAApByK,IACFA,EAAkB,IAGpBA,EAAkBrE,EAAUqE,GAE5B7hB,EAAM+hB,kBAAiB,SAAUoG,GAC/B,IAAI7iB,EAAS6iB,EAAM7iB,OACnB,OAAOvH,YAAS,CACduH,QAASA,GACRA,GAAU,CACXsc,iBAAkB5hB,EAAMzB,MAAMujB,yBAC7B,GAAID,MACN,WACD,IAAIuG,EAAkBpoB,EAAM0d,WACxBpY,EAAS8iB,EAAgB9iB,OACzBsc,EAAmBwG,EAAgBxG,iBAEnCtc,GACEtF,EAAMqkB,eAAiB,GAAiC,kBAArBzC,GACrC5hB,EAAM2hB,oBAAoBC,EAAkBC,GAIhD1K,EAAOC,EAAPD,OAIJnX,EAAMqoB,SAAW,SAAUjR,GACzBpX,EAAM+hB,iBAAiB,CACrBzc,QAAQ,GACP8R,IAGLpX,EAAMsoB,UAAY,SAAUlR,GAC1BpX,EAAM+hB,iBAAiB,CACrBzc,QAAQ,GACP8R,IAGLpX,EAAMuoB,aAAehN,GAAS,WAC5B,IAAIhb,EAAQP,EAAM0d,WAEd9O,EAAO5O,EAAMuF,MAAMhF,EAAMqhB,kBAEzB9E,EAAc9c,EAAMqkB,eAEpBlF,EAASnf,EAAMzB,MAAMqe,qBAAqB7e,YAAS,CACrDif,aAAchd,EAAMzB,MAAMye,aAC1BD,oBAAqB/c,EAAM+c,oBAC3BD,YAAaA,EACb9Q,gBAAiB4C,GAChBrO,IAEHP,EAAM+c,oBAAsBD,EAC5BoC,EAAUC,EAAQnf,EAAMzB,MAAMynB,YAAY1kB,YACzC,KAKH,IAAI6K,EAAcnM,EAAMzB,MACpBujB,EAA0B3V,EAAY2V,wBACtC0G,EAAwBrc,EAAYsc,wBACpCC,OAA8C,IAA1BF,EAAmC1G,EAA0B0G,EACjFtG,EAAgB/V,EAAY+V,cAC5ByG,EAAwBxc,EAAYyc,cACpCC,OAAoC,IAA1BF,EAAmCzG,EAAgByG,EAC7DG,EAAwB3c,EAAY4c,kBACpCC,OAAwC,IAA1BF,EAAmC,GAAKA,EACtDG,EAAwB9c,EAAY+c,oBACpCC,OAA0C,IAA1BF,EAAmC,KAAOA,EAE1D3lB,EAAStD,EAAM0d,SAAS,CAC1BkE,iBAAkB8G,EAClBpjB,OAAQujB,EACR5G,WAAY+G,EACZnM,aAAcsM,IAQhB,OAL2B,MAAvB7lB,EAAOuZ,mBAA0D7f,IAAlCgD,EAAMzB,MAAMwqB,oBAC7CzlB,EAAO2e,WAAajiB,EAAMzB,MAAMye,aAAa1Z,EAAOuZ,eAGtD7c,EAAMO,MAAQ+C,EACPtD,EA1sBTopB,YAAenI,EAAWxhB,GA6sB1B,IAAI4pB,EAASpI,EAAUxkB,UAwTvB,OAnTA4sB,EAAOC,sBAAwB,WAC7BvpB,KAAKuhB,WAAWpM,SAAQ,SAAUnQ,GAChC6W,aAAa7W,MAEfhF,KAAKuhB,WAAa,IAapB+H,EAAO3L,SAAW,SAAoB6L,GAKpC,YAJqB,IAAjBA,IACFA,EAAexpB,KAAKQ,OAGfmd,EAAS6L,EAAcxpB,KAAKxB,QAGrC8qB,EAAOhF,aAAe,WAKpB,IAAIrG,EAAYje,KAAKwF,MAAMxI,OAQ3B,OANsB,MAAlBgD,KAAKie,UACPA,EAAYje,KAAKie,eACiBhhB,IAAzB+C,KAAKxB,MAAMyf,YACpBA,EAAYje,KAAKxB,MAAMyf,WAGlBA,GAGTqL,EAAOpL,qBAAuB,SAA8BjK,GAC1D,OAAOjU,KAAKxB,MAAMynB,YAAY1kB,SAASie,eAAexf,KAAKkM,UAAU+H,KAGvEqV,EAAOG,8BAAgC,WAGnC,IAAI5lB,EAAO7D,KAAKke,qBAAqBle,KAAK2d,WAAWkE,kBACrD7hB,KAAKxB,MAAM+Y,eAAe1T,EAAM7D,KAAKmnB,YAIzCmC,EAAOjF,qBAAuB,SAA8BF,EAAQrC,GAClE,IAAI4H,EAAS1pB,KAETie,EAAYje,KAAKskB,eAGjBzC,EADkB7hB,KAAK2d,WACYkE,iBAEvC,GAAI5D,EAAY,EAAG,CACjB,IAAIsG,EAAuBzG,EAAqBqG,EAAQtC,EAAkB5D,GAAW,SAAUhK,GAC7F,OAAOyV,EAAOxL,qBAAqBjK,MAErCjU,KAAK4hB,oBAAoB2C,EAAsBzC,KAInDwH,EAAOzG,mBAAqB,WAC1B,IAAI8G,EAAkB3pB,KAAK2d,WACvBkE,EAAmB8H,EAAgB9H,iBACnCK,EAAayH,EAAgBzH,WAC7BpF,EAAe6M,EAAgB7M,aAC/BvX,EAASokB,EAAgBpkB,OAEzB0X,EAAejd,KAAKxB,MAAMye,aAC1BjY,EAAKhF,KAAKgF,GACVue,EAAevjB,KAAKujB,aACpB8B,EAAuBrlB,KAAKqlB,qBAC5Be,EAAgBpmB,KAAKomB,cACrBgB,EAAepnB,KAAKonB,aACpBd,EAAgBtmB,KAAKsmB,cACrBoB,EAAe1nB,KAAK0nB,aACpBY,EAAWtoB,KAAKsoB,SAChBC,EAAYvoB,KAAKuoB,UACjBxD,EAAa/kB,KAAK+kB,WAClB3C,EAAapiB,KAAKoiB,WAClBC,EAAoBriB,KAAKqiB,kBACzBC,EAAwBtiB,KAAKsiB,sBAC7BV,EAAsB5hB,KAAK4hB,oBAC3BK,EAAiBjiB,KAAKiiB,eACtBiG,EAAaloB,KAAKkoB,WAKtB,MAAO,CAEL3E,aAAcA,EACd8B,qBAAsBA,EACtBe,cAAeA,EACfgB,aAAcA,EACdd,cAAeA,EACfoB,aAAcA,EAEd7C,MAbU7kB,KAAK6kB,MAcfyD,SAAUA,EACVC,UAAWA,EACXxD,WAAYA,EACZ3C,WAAYA,EACZC,kBAAmBA,EACnBC,sBAAuBA,EACvBV,oBAAqBA,EACrBK,eAAgBA,EAChBiG,WAAYA,EACZzG,aAtBiBzhB,KAAKyhB,aAuBtBE,eAtBmB3hB,KAAK2hB,eAuBxB1e,SAtBajD,KAAKgiB,iBAwBlB/E,aAAcA,EAEdjY,GAAIA,EAEJ6c,iBAAkBA,EAClBK,WAAYA,EACZ3c,OAAQA,EACRuX,aAAcA,IAKlBwM,EAAOM,kBAAoB,WACzB,IAAIC,EAAS7pB,KAeX,IAAIkK,EAAc,WAChB2f,EAAO1D,aAAc,GAGnB2D,EAAY,SAAU5lB,GACxB2lB,EAAO1D,aAAc,GAGQxH,EAAsBza,EAAMhG,OAAQ2rB,EAAOvG,UAAWuG,EAAO1C,UAAW0C,EAAOrrB,MAAMynB,YAAY1kB,WAE/FsoB,EAAOlM,WAAWpY,QAC/CskB,EAAOhF,MAAM,CACX1W,KA95BqE,IA+5BpE,WACD,OAAO0b,EAAOrrB,MAAMurB,aAAaF,EAAOhH,0BAW1C1Y,EAAe,WACjB0f,EAAOG,aAAc,GAGnB5f,EAAc,WAChByf,EAAOG,aAAc,GAGnBC,EAAa,SAAU/lB,GACzB,IAAIgmB,EAAyBvL,EAAsBza,EAAMhG,OAAQ2rB,EAAOvG,UAAWuG,EAAO1C,UAAW0C,EAAOrrB,MAAMynB,YAAY1kB,UAAU,GAEnIsoB,EAAOG,aAAgBE,IAA0BL,EAAOlM,WAAWpY,QACtEskB,EAAOhF,MAAM,CACX1W,KAz6BuE,KA06BtE,WACD,OAAO0b,EAAOrrB,MAAMurB,aAAaF,EAAOhH,0BAK1CoD,EAAcjmB,KAAKxB,MAAMynB,YAC7BA,EAAYzkB,iBAAiB,YAAa0I,GAC1C+b,EAAYzkB,iBAAiB,UAAWsoB,GACxC7D,EAAYzkB,iBAAiB,aAAc2I,GAC3C8b,EAAYzkB,iBAAiB,YAAa4I,GAC1C6b,EAAYzkB,iBAAiB,WAAYyoB,GAEzCjqB,KAAKmqB,QAAU,WACbN,EAAON,wBAEPM,EAAOrB,aAAa5M,SAEpBqK,EAAYrjB,oBAAoB,YAAasH,GAC7C+b,EAAYrjB,oBAAoB,UAAWknB,GAC3C7D,EAAYrjB,oBAAoB,aAAcuH,GAC9C8b,EAAYrjB,oBAAoB,YAAawH,GAC7C6b,EAAYrjB,oBAAoB,WAAYqnB,KAKlDX,EAAOc,aAAe,SAAsB7nB,EAAWD,GACrD,IACI+nB,QADyCptB,IAAhC+C,KAAKxB,MAAMqjB,iBAAiC7hB,KAAK2d,WAAa3d,KAAKxB,OAC3CqjB,iBAGjCyI,QADwCrtB,IAA/BqF,EAAUuf,iBAAiCtf,EAAYD,GAClCuf,iBAGlC,OADqBwI,GAA2BrqB,KAAK2d,WAAWpY,SAAWhD,EAAUgD,QAC5D8kB,IAA4BC,GAGvDhB,EAAOiB,mBAAqB,SAA4BjoB,EAAWC,GAU7Dqb,EAAiB5d,KAAKxB,MAAO,iBAAmBwB,KAAKxB,MAAMgsB,oBAAoBloB,EAAUwa,aAAc9c,KAAKxB,MAAMse,eACpH9c,KAAKgiB,iBAAiB,CACpB7T,KA79BiI,GA89BjI+T,WAAYliB,KAAKxB,MAAMye,aAAajd,KAAKxB,MAAMse,iBAI9C9c,KAAKioB,gBAAkBjoB,KAAKoqB,aAAa7nB,EAAWD,IACvDtC,KAAKypB,gCAKPzpB,KAAKwoB,gBAGPc,EAAOmB,qBAAuB,WAC5BzqB,KAAKmqB,WAGPb,EAAOoB,OAAS,WACd,IAAI/hB,EAAWuU,EAAYld,KAAKxB,MAAMmK,SAAU2O,GAIhDtX,KAAKkoB,aAKLloB,KAAKujB,aAAaS,QAAS,EAC3BhkB,KAAKujB,aAAaI,YAAS1mB,EAC3B+C,KAAKujB,aAAaQ,sBAAmB9mB,EAErC+C,KAAKonB,aAAapD,QAAS,EAC3BhkB,KAAKonB,aAAazD,YAAS1mB,EAC3B+C,KAAKonB,aAAarD,sBAAmB9mB,EAErC+C,KAAKomB,cAAcpC,QAAS,EAE5BhkB,KAAKsmB,cAActC,QAAS,EAC5B,IAAI1G,EAAUJ,EAAYvU,EAAS3I,KAAK6iB,uBAExC,OAAKvF,EAIDtd,KAAKujB,aAAaS,QAAUhkB,KAAKxB,MAAMulB,iBAKlCzG,EACED,EAAaC,GAGfqN,uBAAarN,EAAStd,KAAKujB,aAAahG,EAAgBD,UAK7DsN,EAjBK,MA4BJ1J,EAtgCT,CAugCEpZ,aAqCF,OAnCAoZ,EAAU1Y,aAAe,CACvBuZ,wBAAyB,KACzBI,eAAe,EACftF,qBAAsBA,EACtBI,aAAc,SAAsB5f,GAClC,OAAS,MAALA,EACK,GAQF8jB,OAAO9jB,IAEhB6lB,cAAe5L,EACfsL,mBAAoBtL,EACpB8L,aAAc9L,EACd/S,SAAU+S,EACV6L,SAAU7L,EACVyS,aAAczS,EACdkT,oBAAqB,SAA6BK,EAAUhc,GAC1D,OAAOgc,IAAahc,GAEtBoX,YAA+B,qBAAXtO,OAElB,GAAKA,OACPoL,aAAc,SAAsBviB,EAAO+hB,GACzC,OAAOA,GAETwB,kBAAkB,EAClBxM,eAAgBA,GAElB2J,EAAUnB,iBAAmBA,EACtBmB,EA/iCT,GAw0CA,IAAI1Y,EAAe,CACjByU,aA1JF,SAAsBpO,GACpB,OAAOA,EAAOsS,OAAOtS,GAAQ,IA0J7BkU,aA/CF,SAAsB1R,EAAGyZ,GACvB,OAAOA,EAAEC,SA+CTlO,qBArCF,SAAgCmO,GAC9B,IAAIzlB,EAASylB,EAAoBzlB,OAC7BC,EAAQwlB,EAAoBxlB,MAEhC,IAAKA,EACH,MAAO,GAGT,IAAIuX,EAAcvX,EAAMxI,OAExB,OAAIuI,EACkB,IAAhBwX,EACK,2BAGFA,EAAc,WAA6B,IAAhBA,EAAoB,MAAQ,SAAW,iFAGpE,IAoBPkO,wBAVF,SAAiCD,GAC/B,IAAIlO,EAAekO,EAAoBlO,aAEvC,OAAOoO,EADiBF,EAAoB/N,cACnBH,GAAgB,uBAQzCvF,eAAgBA,EAChB4T,oBAAoB,EACpBlF,YAA+B,qBAAXtO,OAElB,GAAKA,QAgHAyT,IAAUpjB,MAAMC,WACTmjB,IAAUjjB,KACFijB,IAAUjjB,KACPijB,IAAUjjB,KACfijB,IAAUhjB,KACZgjB,IAAU9c,OACH8c,IAAU9c,OACV8c,IAAU9c,OAC3B8c,IAAUhjB,KACHgjB,IAAUhjB,KACVgjB,IAAUhjB,KACXgjB,IAAU5Z,IACH4Z,IAAU5Z,IACV4Z,IAAU5Z,IAC3B4Z,IAAU7iB,OACL6iB,IAAU7iB,OACX6iB,IAAU7iB,OACP6iB,IAAUjjB,KACLijB,IAAU7iB,OACZ6iB,IAAUjjB,KACFijB,IAAUjjB,KACNijB,IAAUjjB,KACrBijB,IAAUjjB,KACTijB,IAAUjjB,KACbijB,IAAUC,MAAM,CAC3B7pB,iBAAkB4pB,IAAUjjB,KAC5BvF,oBAAqBwoB,IAAUjjB,KAC/B5G,SAAU6pB,IAAUC,MAAM,CACxB7L,eAAgB4L,IAAUjjB,KAC1B4W,cAAeqM,IAAU5Z,IACzB6G,KAAM+S,IAAU5Z,QAksBb4Z,IAAUpjB,MAAMC,WACTmjB,IAAUjjB,KACFijB,IAAUjjB,KACPijB,IAAUjjB,KACfijB,IAAUhjB,KACZgjB,IAAU9c,OACH8c,IAAU9c,OACV8c,IAAU9c,OAC3B8c,IAAUhjB,KACHgjB,IAAUhjB,KACVgjB,IAAUhjB,KACXgjB,IAAU5Z,IACH4Z,IAAU5Z,IACV4Z,IAAU5Z,IACnB4Z,IAAU7iB,OACH6iB,IAAU7iB,OACV6iB,IAAU7iB,OACzB6iB,IAAU7iB,OACL6iB,IAAU7iB,OACX6iB,IAAU7iB,OACP6iB,IAAUjjB,KACZijB,IAAU7iB,OACH6iB,IAAU7iB,OACZ6iB,IAAUjjB,KACFijB,IAAUjjB,KACNijB,IAAUjjB,KACrBijB,IAAUjjB,KACTijB,IAAUjjB,KACNijB,IAAUjjB,KACjBijB,IAAUC,MAAM,CAC3B7pB,iBAAkB4pB,IAAUjjB,KAC5BvF,oBAAqBwoB,IAAUjjB,KAC/B5G,SAAU6pB,IAAUC,MAAM,CACxB7L,eAAgB4L,IAAUjjB,KAC1B4W,cAAeqM,IAAU5Z,IACzB6G,KAAM+S,IAAU5Z,QAKDxT,YAAS,GAAIwK,EAAc,CAC9C2iB,oBAAoB,IAiqBPjK,O,kBC/1GfpjB,EAAO3B,QANP,SAAgCK,GAC9B,OAAOA,GAAOA,EAAI+C,WAAa/C,EAAM,CACnC,QAAWA","file":"static/js/52.4ad20d71.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = compareObjects;\nfunction compareObjects(objA, objB) {\n  var keys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  if (objA === objB) {\n    return false;\n  }\n\n  var aKeys = Object.keys(objA);\n  var bKeys = Object.keys(objB);\n\n  if (aKeys.length !== bKeys.length) {\n    return true;\n  }\n\n  var keysMap = {};\n  var i = void 0,\n      len = void 0;\n\n  for (i = 0, len = keys.length; i < len; i++) {\n    keysMap[keys[i]] = true;\n  }\n\n  for (i = 0, len = aKeys.length; i < len; i++) {\n    var key = aKeys[i];\n    var aValue = objA[key];\n    var bValue = objB[key];\n\n    if (aValue === bValue) {\n      continue;\n    }\n\n    if (!keysMap[key] || aValue === null || bValue === null || (typeof aValue === 'undefined' ? 'undefined' : _typeof(aValue)) !== 'object' || (typeof bValue === 'undefined' ? 'undefined' : _typeof(bValue)) !== 'object') {\n      return true;\n    }\n\n    var aValueKeys = Object.keys(aValue);\n    var bValueKeys = Object.keys(bValue);\n\n    if (aValueKeys.length !== bValueKeys.length) {\n      return true;\n    }\n\n    for (var n = 0, length = aValueKeys.length; n < length; n++) {\n      var aValueKey = aValueKeys[n];\n\n      if (aValue[aValueKey] !== bValue[aValueKey]) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}","'use strict';\n\nmodule.exports = require('./Autosuggest').default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _arrays = require('shallow-equal/arrays');\n\nvar _arrays2 = _interopRequireDefault(_arrays);\n\nvar _reactAutowhatever = require('react-autowhatever');\n\nvar _reactAutowhatever2 = _interopRequireDefault(_reactAutowhatever);\n\nvar _theme = require('./theme');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar alwaysTrue = function alwaysTrue() {\n  return true;\n};\nvar defaultShouldRenderSuggestions = function defaultShouldRenderSuggestions(value) {\n  return value.trim().length > 0;\n};\nvar defaultRenderSuggestionsContainer = function defaultRenderSuggestionsContainer(_ref) {\n  var containerProps = _ref.containerProps,\n      children = _ref.children;\n  return _react2.default.createElement(\n    'div',\n    containerProps,\n    children\n  );\n};\n\nvar Autosuggest = function (_Component) {\n  _inherits(Autosuggest, _Component);\n\n  function Autosuggest(_ref2) {\n    var alwaysRenderSuggestions = _ref2.alwaysRenderSuggestions;\n\n    _classCallCheck(this, Autosuggest);\n\n    var _this = _possibleConstructorReturn(this, (Autosuggest.__proto__ || Object.getPrototypeOf(Autosuggest)).call(this));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      isFocused: false,\n      isCollapsed: !alwaysRenderSuggestions,\n      highlightedSectionIndex: null,\n      highlightedSuggestionIndex: null,\n      highlightedSuggestion: null,\n      valueBeforeUpDown: null\n    };\n\n    _this.justPressedUpDown = false;\n    _this.justMouseEntered = false;\n\n    _this.pressedSuggestion = null;\n    return _this;\n  }\n\n  _createClass(Autosuggest, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.addEventListener('mousedown', this.onDocumentMouseDown);\n      document.addEventListener('mouseup', this.onDocumentMouseUp);\n\n      this.input = this.autowhatever.input;\n      this.suggestionsContainer = this.autowhatever.itemsContainer;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ((0, _arrays2.default)(nextProps.suggestions, this.props.suggestions)) {\n        if (nextProps.highlightFirstSuggestion && nextProps.suggestions.length > 0 && this.justPressedUpDown === false && this.justMouseEntered === false) {\n          this.highlightFirstSuggestion();\n        }\n      } else {\n        if (this.willRenderSuggestions(nextProps)) {\n          if (this.state.isCollapsed && !this.justSelectedSuggestion) {\n            this.revealSuggestions();\n          }\n        } else {\n          this.resetHighlightedSuggestion();\n        }\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _props = this.props,\n          suggestions = _props.suggestions,\n          onSuggestionHighlighted = _props.onSuggestionHighlighted,\n          highlightFirstSuggestion = _props.highlightFirstSuggestion;\n\n\n      if (!(0, _arrays2.default)(suggestions, prevProps.suggestions) && suggestions.length > 0 && highlightFirstSuggestion) {\n        this.highlightFirstSuggestion();\n        return;\n      }\n\n      if (onSuggestionHighlighted) {\n        var highlightedSuggestion = this.getHighlightedSuggestion();\n        var prevHighlightedSuggestion = prevState.highlightedSuggestion;\n\n        if (highlightedSuggestion != prevHighlightedSuggestion) {\n          onSuggestionHighlighted({\n            suggestion: highlightedSuggestion\n          });\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('mousedown', this.onDocumentMouseDown);\n      document.removeEventListener('mouseup', this.onDocumentMouseUp);\n    }\n  }, {\n    key: 'updateHighlightedSuggestion',\n    value: function updateHighlightedSuggestion(sectionIndex, suggestionIndex, prevValue) {\n      var _this2 = this;\n\n      this.setState(function (state) {\n        var valueBeforeUpDown = state.valueBeforeUpDown;\n\n\n        if (suggestionIndex === null) {\n          valueBeforeUpDown = null;\n        } else if (valueBeforeUpDown === null && typeof prevValue !== 'undefined') {\n          valueBeforeUpDown = prevValue;\n        }\n\n        return {\n          highlightedSectionIndex: sectionIndex,\n          highlightedSuggestionIndex: suggestionIndex,\n          highlightedSuggestion: suggestionIndex === null ? null : _this2.getSuggestion(sectionIndex, suggestionIndex),\n          valueBeforeUpDown: valueBeforeUpDown\n        };\n      });\n    }\n  }, {\n    key: 'resetHighlightedSuggestion',\n    value: function resetHighlightedSuggestion() {\n      var shouldResetValueBeforeUpDown = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.setState(function (state) {\n        var valueBeforeUpDown = state.valueBeforeUpDown;\n\n\n        return {\n          highlightedSectionIndex: null,\n          highlightedSuggestionIndex: null,\n          highlightedSuggestion: null,\n          valueBeforeUpDown: shouldResetValueBeforeUpDown ? null : valueBeforeUpDown\n        };\n      });\n    }\n  }, {\n    key: 'revealSuggestions',\n    value: function revealSuggestions() {\n      this.setState({\n        isCollapsed: false\n      });\n    }\n  }, {\n    key: 'closeSuggestions',\n    value: function closeSuggestions() {\n      this.setState({\n        highlightedSectionIndex: null,\n        highlightedSuggestionIndex: null,\n        highlightedSuggestion: null,\n        valueBeforeUpDown: null,\n        isCollapsed: true\n      });\n    }\n  }, {\n    key: 'getSuggestion',\n    value: function getSuggestion(sectionIndex, suggestionIndex) {\n      var _props2 = this.props,\n          suggestions = _props2.suggestions,\n          multiSection = _props2.multiSection,\n          getSectionSuggestions = _props2.getSectionSuggestions;\n\n\n      if (multiSection) {\n        return getSectionSuggestions(suggestions[sectionIndex])[suggestionIndex];\n      }\n\n      return suggestions[suggestionIndex];\n    }\n  }, {\n    key: 'getHighlightedSuggestion',\n    value: function getHighlightedSuggestion() {\n      var _state = this.state,\n          highlightedSectionIndex = _state.highlightedSectionIndex,\n          highlightedSuggestionIndex = _state.highlightedSuggestionIndex;\n\n\n      if (highlightedSuggestionIndex === null) {\n        return null;\n      }\n\n      return this.getSuggestion(highlightedSectionIndex, highlightedSuggestionIndex);\n    }\n  }, {\n    key: 'getSuggestionValueByIndex',\n    value: function getSuggestionValueByIndex(sectionIndex, suggestionIndex) {\n      var getSuggestionValue = this.props.getSuggestionValue;\n\n\n      return getSuggestionValue(this.getSuggestion(sectionIndex, suggestionIndex));\n    }\n  }, {\n    key: 'getSuggestionIndices',\n    value: function getSuggestionIndices(suggestionElement) {\n      var sectionIndex = suggestionElement.getAttribute('data-section-index');\n      var suggestionIndex = suggestionElement.getAttribute('data-suggestion-index');\n\n      return {\n        sectionIndex: typeof sectionIndex === 'string' ? parseInt(sectionIndex, 10) : null,\n        suggestionIndex: parseInt(suggestionIndex, 10)\n      };\n    }\n  }, {\n    key: 'findSuggestionElement',\n    value: function findSuggestionElement(startNode) {\n      var node = startNode;\n\n      do {\n        if (node.getAttribute('data-suggestion-index') !== null) {\n          return node;\n        }\n\n        node = node.parentNode;\n      } while (node !== null);\n\n      console.error('Clicked element:', startNode); // eslint-disable-line no-console\n      throw new Error(\"Couldn't find suggestion element\");\n    }\n  }, {\n    key: 'maybeCallOnChange',\n    value: function maybeCallOnChange(event, newValue, method) {\n      var _props$inputProps = this.props.inputProps,\n          value = _props$inputProps.value,\n          onChange = _props$inputProps.onChange;\n\n\n      if (newValue !== value) {\n        onChange(event, { newValue: newValue, method: method });\n      }\n    }\n  }, {\n    key: 'willRenderSuggestions',\n    value: function willRenderSuggestions(props) {\n      var suggestions = props.suggestions,\n          inputProps = props.inputProps,\n          shouldRenderSuggestions = props.shouldRenderSuggestions;\n      var value = inputProps.value;\n\n\n      return suggestions.length > 0 && shouldRenderSuggestions(value);\n    }\n  }, {\n    key: 'getQuery',\n    value: function getQuery() {\n      var inputProps = this.props.inputProps;\n      var value = inputProps.value;\n      var valueBeforeUpDown = this.state.valueBeforeUpDown;\n\n\n      return (valueBeforeUpDown === null ? value : valueBeforeUpDown).trim();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props3 = this.props,\n          suggestions = _props3.suggestions,\n          renderInputComponent = _props3.renderInputComponent,\n          onSuggestionsFetchRequested = _props3.onSuggestionsFetchRequested,\n          renderSuggestion = _props3.renderSuggestion,\n          inputProps = _props3.inputProps,\n          multiSection = _props3.multiSection,\n          renderSectionTitle = _props3.renderSectionTitle,\n          id = _props3.id,\n          getSectionSuggestions = _props3.getSectionSuggestions,\n          theme = _props3.theme,\n          getSuggestionValue = _props3.getSuggestionValue,\n          alwaysRenderSuggestions = _props3.alwaysRenderSuggestions,\n          highlightFirstSuggestion = _props3.highlightFirstSuggestion;\n      var _state2 = this.state,\n          isFocused = _state2.isFocused,\n          isCollapsed = _state2.isCollapsed,\n          highlightedSectionIndex = _state2.highlightedSectionIndex,\n          highlightedSuggestionIndex = _state2.highlightedSuggestionIndex,\n          valueBeforeUpDown = _state2.valueBeforeUpDown;\n\n      var shouldRenderSuggestions = alwaysRenderSuggestions ? alwaysTrue : this.props.shouldRenderSuggestions;\n      var value = inputProps.value,\n          _onFocus = inputProps.onFocus,\n          _onKeyDown = inputProps.onKeyDown;\n\n      var willRenderSuggestions = this.willRenderSuggestions(this.props);\n      var isOpen = alwaysRenderSuggestions || isFocused && !isCollapsed && willRenderSuggestions;\n      var items = isOpen ? suggestions : [];\n      var autowhateverInputProps = _extends({}, inputProps, {\n        onFocus: function onFocus(event) {\n          if (!_this3.justSelectedSuggestion && !_this3.justClickedOnSuggestionsContainer) {\n            var shouldRender = shouldRenderSuggestions(value);\n\n            _this3.setState({\n              isFocused: true,\n              isCollapsed: !shouldRender\n            });\n\n            _onFocus && _onFocus(event);\n\n            if (shouldRender) {\n              onSuggestionsFetchRequested({ value: value, reason: 'input-focused' });\n            }\n          }\n        },\n        onBlur: function onBlur(event) {\n          if (_this3.justClickedOnSuggestionsContainer) {\n            _this3.input.focus();\n            return;\n          }\n\n          _this3.blurEvent = event;\n\n          if (!_this3.justSelectedSuggestion) {\n            _this3.onBlur();\n            _this3.onSuggestionsClearRequested();\n          }\n        },\n        onChange: function onChange(event) {\n          var value = event.target.value;\n\n          var shouldRender = shouldRenderSuggestions(value);\n\n          _this3.maybeCallOnChange(event, value, 'type');\n\n          if (_this3.suggestionsContainer) {\n            _this3.suggestionsContainer.scrollTop = 0;\n          }\n\n          _this3.setState(_extends({}, highlightFirstSuggestion ? {} : {\n            highlightedSectionIndex: null,\n            highlightedSuggestionIndex: null,\n            highlightedSuggestion: null\n          }, {\n            valueBeforeUpDown: null,\n            isCollapsed: !shouldRender\n          }));\n\n          if (shouldRender) {\n            onSuggestionsFetchRequested({ value: value, reason: 'input-changed' });\n          } else {\n            _this3.onSuggestionsClearRequested();\n          }\n        },\n        onKeyDown: function onKeyDown(event, data) {\n          var keyCode = event.keyCode;\n\n\n          switch (keyCode) {\n            case 40: // ArrowDown\n            case 38:\n              // ArrowUp\n              if (isCollapsed) {\n                if (shouldRenderSuggestions(value)) {\n                  onSuggestionsFetchRequested({\n                    value: value,\n                    reason: 'suggestions-revealed'\n                  });\n                  _this3.revealSuggestions();\n                }\n              } else if (suggestions.length > 0) {\n                var newHighlightedSectionIndex = data.newHighlightedSectionIndex,\n                    newHighlightedItemIndex = data.newHighlightedItemIndex;\n\n\n                var newValue = void 0;\n\n                if (newHighlightedItemIndex === null) {\n                  // valueBeforeUpDown can be null if, for example, user\n                  // hovers on the first suggestion and then pressed Up.\n                  // If that happens, use the original input value.\n                  newValue = valueBeforeUpDown === null ? value : valueBeforeUpDown;\n                } else {\n                  newValue = _this3.getSuggestionValueByIndex(newHighlightedSectionIndex, newHighlightedItemIndex);\n                }\n\n                _this3.updateHighlightedSuggestion(newHighlightedSectionIndex, newHighlightedItemIndex, value);\n                _this3.maybeCallOnChange(event, newValue, keyCode === 40 ? 'down' : 'up');\n              }\n\n              event.preventDefault(); // Prevents the cursor from moving\n\n              _this3.justPressedUpDown = true;\n\n              setTimeout(function () {\n                _this3.justPressedUpDown = false;\n              });\n\n              break;\n\n            // Enter\n            case 13:\n              {\n                // See #388\n                if (event.keyCode === 229) {\n                  break;\n                }\n\n                var highlightedSuggestion = _this3.getHighlightedSuggestion();\n\n                if (isOpen && !alwaysRenderSuggestions) {\n                  _this3.closeSuggestions();\n                }\n\n                if (highlightedSuggestion != null) {\n                  var _newValue = getSuggestionValue(highlightedSuggestion);\n\n                  _this3.maybeCallOnChange(event, _newValue, 'enter');\n\n                  _this3.onSuggestionSelected(event, {\n                    suggestion: highlightedSuggestion,\n                    suggestionValue: _newValue,\n                    suggestionIndex: highlightedSuggestionIndex,\n                    sectionIndex: highlightedSectionIndex,\n                    method: 'enter'\n                  });\n\n                  _this3.justSelectedSuggestion = true;\n\n                  setTimeout(function () {\n                    _this3.justSelectedSuggestion = false;\n                  });\n                }\n\n                break;\n              }\n\n            // Escape\n            case 27:\n              {\n                if (isOpen) {\n                  // If input.type === 'search', the browser clears the input\n                  // when Escape is pressed. We want to disable this default\n                  // behaviour so that, when suggestions are shown, we just hide\n                  // them, without clearing the input.\n                  event.preventDefault();\n                }\n\n                var willCloseSuggestions = isOpen && !alwaysRenderSuggestions;\n\n                if (valueBeforeUpDown === null) {\n                  // Didn't interact with Up/Down\n                  if (!willCloseSuggestions) {\n                    var _newValue2 = '';\n\n                    _this3.maybeCallOnChange(event, _newValue2, 'escape');\n\n                    if (shouldRenderSuggestions(_newValue2)) {\n                      onSuggestionsFetchRequested({\n                        value: _newValue2,\n                        reason: 'escape-pressed'\n                      });\n                    } else {\n                      _this3.onSuggestionsClearRequested();\n                    }\n                  }\n                } else {\n                  // Interacted with Up/Down\n                  _this3.maybeCallOnChange(event, valueBeforeUpDown, 'escape');\n                }\n\n                if (willCloseSuggestions) {\n                  _this3.onSuggestionsClearRequested();\n                  _this3.closeSuggestions();\n                } else {\n                  _this3.resetHighlightedSuggestion();\n                }\n\n                break;\n              }\n          }\n\n          _onKeyDown && _onKeyDown(event);\n        }\n      });\n      var renderSuggestionData = {\n        query: this.getQuery()\n      };\n\n      return _react2.default.createElement(_reactAutowhatever2.default, {\n        multiSection: multiSection,\n        items: items,\n        renderInputComponent: renderInputComponent,\n        renderItemsContainer: this.renderSuggestionsContainer,\n        renderItem: renderSuggestion,\n        renderItemData: renderSuggestionData,\n        renderSectionTitle: renderSectionTitle,\n        getSectionItems: getSectionSuggestions,\n        highlightedSectionIndex: highlightedSectionIndex,\n        highlightedItemIndex: highlightedSuggestionIndex,\n        inputProps: autowhateverInputProps,\n        itemProps: this.itemProps,\n        theme: (0, _theme.mapToAutowhateverTheme)(theme),\n        id: id,\n        ref: this.storeAutowhateverRef\n      });\n    }\n  }]);\n\n  return Autosuggest;\n}(_react.Component);\n\nAutosuggest.propTypes = {\n  suggestions: _propTypes2.default.array.isRequired,\n  onSuggestionsFetchRequested: function onSuggestionsFetchRequested(props, propName) {\n    var onSuggestionsFetchRequested = props[propName];\n\n    if (typeof onSuggestionsFetchRequested !== 'function') {\n      throw new Error(\"'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp\");\n    }\n  },\n  onSuggestionsClearRequested: function onSuggestionsClearRequested(props, propName) {\n    var onSuggestionsClearRequested = props[propName];\n\n    if (props.alwaysRenderSuggestions === false && typeof onSuggestionsClearRequested !== 'function') {\n      throw new Error(\"'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp\");\n    }\n  },\n  onSuggestionSelected: _propTypes2.default.func,\n  onSuggestionHighlighted: _propTypes2.default.func,\n  renderInputComponent: _propTypes2.default.func,\n  renderSuggestionsContainer: _propTypes2.default.func,\n  getSuggestionValue: _propTypes2.default.func.isRequired,\n  renderSuggestion: _propTypes2.default.func.isRequired,\n  inputProps: function inputProps(props, propName) {\n    var inputProps = props[propName];\n\n    if (!inputProps.hasOwnProperty('value')) {\n      throw new Error(\"'inputProps' must have 'value'.\");\n    }\n\n    if (!inputProps.hasOwnProperty('onChange')) {\n      throw new Error(\"'inputProps' must have 'onChange'.\");\n    }\n  },\n  shouldRenderSuggestions: _propTypes2.default.func,\n  alwaysRenderSuggestions: _propTypes2.default.bool,\n  multiSection: _propTypes2.default.bool,\n  renderSectionTitle: function renderSectionTitle(props, propName) {\n    var renderSectionTitle = props[propName];\n\n    if (props.multiSection === true && typeof renderSectionTitle !== 'function') {\n      throw new Error(\"'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp\");\n    }\n  },\n  getSectionSuggestions: function getSectionSuggestions(props, propName) {\n    var getSectionSuggestions = props[propName];\n\n    if (props.multiSection === true && typeof getSectionSuggestions !== 'function') {\n      throw new Error(\"'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp\");\n    }\n  },\n  focusInputOnSuggestionClick: _propTypes2.default.bool,\n  highlightFirstSuggestion: _propTypes2.default.bool,\n  theme: _propTypes2.default.object,\n  id: _propTypes2.default.string\n};\nAutosuggest.defaultProps = {\n  renderSuggestionsContainer: defaultRenderSuggestionsContainer,\n  shouldRenderSuggestions: defaultShouldRenderSuggestions,\n  alwaysRenderSuggestions: false,\n  multiSection: false,\n  focusInputOnSuggestionClick: true,\n  highlightFirstSuggestion: false,\n  theme: _theme.defaultTheme,\n  id: '1'\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.onDocumentMouseDown = function (event) {\n    _this4.justClickedOnSuggestionsContainer = false;\n\n    var node = event.detail && event.detail.target || // This is for testing only. Please show me a better way to emulate this.\n    event.target;\n\n    while (node !== null && node !== document) {\n      if (node.getAttribute('data-suggestion-index') !== null) {\n        // Suggestion was clicked\n        return;\n      }\n\n      if (node === _this4.suggestionsContainer) {\n        // Something else inside suggestions container was clicked\n        _this4.justClickedOnSuggestionsContainer = true;\n        return;\n      }\n\n      node = node.parentNode;\n    }\n  };\n\n  this.storeAutowhateverRef = function (autowhatever) {\n    if (autowhatever !== null) {\n      _this4.autowhatever = autowhatever;\n    }\n  };\n\n  this.onSuggestionMouseEnter = function (event, _ref3) {\n    var sectionIndex = _ref3.sectionIndex,\n        itemIndex = _ref3.itemIndex;\n\n    _this4.updateHighlightedSuggestion(sectionIndex, itemIndex);\n\n    if (event.target === _this4.pressedSuggestion) {\n      _this4.justSelectedSuggestion = true;\n    }\n\n    _this4.justMouseEntered = true;\n\n    setTimeout(function () {\n      _this4.justMouseEntered = false;\n    });\n  };\n\n  this.highlightFirstSuggestion = function () {\n    _this4.updateHighlightedSuggestion(_this4.props.multiSection ? 0 : null, 0);\n  };\n\n  this.onDocumentMouseUp = function () {\n    if (_this4.pressedSuggestion && !_this4.justSelectedSuggestion) {\n      _this4.input.focus();\n    }\n    _this4.pressedSuggestion = null;\n  };\n\n  this.onSuggestionMouseDown = function (event) {\n    // Checking if this.justSelectedSuggestion is already true to not duplicate touch events in chrome\n    // See: https://github.com/facebook/react/issues/9809#issuecomment-413978405\n    if (!_this4.justSelectedSuggestion) {\n      _this4.justSelectedSuggestion = true;\n      _this4.pressedSuggestion = event.target;\n    }\n  };\n\n  this.onSuggestionsClearRequested = function () {\n    var onSuggestionsClearRequested = _this4.props.onSuggestionsClearRequested;\n\n\n    onSuggestionsClearRequested && onSuggestionsClearRequested();\n  };\n\n  this.onSuggestionSelected = function (event, data) {\n    var _props4 = _this4.props,\n        alwaysRenderSuggestions = _props4.alwaysRenderSuggestions,\n        onSuggestionSelected = _props4.onSuggestionSelected,\n        onSuggestionsFetchRequested = _props4.onSuggestionsFetchRequested;\n\n\n    onSuggestionSelected && onSuggestionSelected(event, data);\n\n    if (alwaysRenderSuggestions) {\n      onSuggestionsFetchRequested({\n        value: data.suggestionValue,\n        reason: 'suggestion-selected'\n      });\n    } else {\n      _this4.onSuggestionsClearRequested();\n    }\n\n    _this4.resetHighlightedSuggestion();\n  };\n\n  this.onSuggestionClick = function (event) {\n    var _props5 = _this4.props,\n        alwaysRenderSuggestions = _props5.alwaysRenderSuggestions,\n        focusInputOnSuggestionClick = _props5.focusInputOnSuggestionClick;\n\n    var _getSuggestionIndices = _this4.getSuggestionIndices(_this4.findSuggestionElement(event.target)),\n        sectionIndex = _getSuggestionIndices.sectionIndex,\n        suggestionIndex = _getSuggestionIndices.suggestionIndex;\n\n    var clickedSuggestion = _this4.getSuggestion(sectionIndex, suggestionIndex);\n    var clickedSuggestionValue = _this4.props.getSuggestionValue(clickedSuggestion);\n\n    _this4.maybeCallOnChange(event, clickedSuggestionValue, 'click');\n    _this4.onSuggestionSelected(event, {\n      suggestion: clickedSuggestion,\n      suggestionValue: clickedSuggestionValue,\n      suggestionIndex: suggestionIndex,\n      sectionIndex: sectionIndex,\n      method: 'click'\n    });\n\n    if (!alwaysRenderSuggestions) {\n      _this4.closeSuggestions();\n    }\n\n    if (focusInputOnSuggestionClick === true) {\n      _this4.input.focus();\n    } else {\n      _this4.onBlur();\n    }\n\n    setTimeout(function () {\n      _this4.justSelectedSuggestion = false;\n    });\n  };\n\n  this.onBlur = function () {\n    var _props6 = _this4.props,\n        inputProps = _props6.inputProps,\n        shouldRenderSuggestions = _props6.shouldRenderSuggestions;\n    var value = inputProps.value,\n        onBlur = inputProps.onBlur;\n\n    var highlightedSuggestion = _this4.getHighlightedSuggestion();\n    var shouldRender = shouldRenderSuggestions(value);\n\n    _this4.setState({\n      isFocused: false,\n      highlightedSectionIndex: null,\n      highlightedSuggestionIndex: null,\n      highlightedSuggestion: null,\n      valueBeforeUpDown: null,\n      isCollapsed: !shouldRender\n    });\n\n    onBlur && onBlur(_this4.blurEvent, { highlightedSuggestion: highlightedSuggestion });\n  };\n\n  this.onSuggestionMouseLeave = function (event) {\n    _this4.resetHighlightedSuggestion(false); // shouldResetValueBeforeUpDown\n\n    if (_this4.justSelectedSuggestion && event.target === _this4.pressedSuggestion) {\n      _this4.justSelectedSuggestion = false;\n    }\n  };\n\n  this.onSuggestionTouchStart = function () {\n    _this4.justSelectedSuggestion = true;\n    // todo: event.preventDefault when https://github.com/facebook/react/issues/2043\n    // todo: gets released so onSuggestionMouseDown won't fire in chrome\n  };\n\n  this.onSuggestionTouchMove = function () {\n    _this4.justSelectedSuggestion = false;\n    _this4.pressedSuggestion = null;\n    _this4.input.focus();\n  };\n\n  this.itemProps = function (_ref4) {\n    var sectionIndex = _ref4.sectionIndex,\n        itemIndex = _ref4.itemIndex;\n\n    return {\n      'data-section-index': sectionIndex,\n      'data-suggestion-index': itemIndex,\n      onMouseEnter: _this4.onSuggestionMouseEnter,\n      onMouseLeave: _this4.onSuggestionMouseLeave,\n      onMouseDown: _this4.onSuggestionMouseDown,\n      onTouchStart: _this4.onSuggestionTouchStart,\n      onTouchMove: _this4.onSuggestionTouchMove,\n      onClick: _this4.onSuggestionClick\n    };\n  };\n\n  this.renderSuggestionsContainer = function (_ref5) {\n    var containerProps = _ref5.containerProps,\n        children = _ref5.children;\n    var renderSuggestionsContainer = _this4.props.renderSuggestionsContainer;\n\n\n    return renderSuggestionsContainer({\n      containerProps: containerProps,\n      children: children,\n      query: _this4.getQuery()\n    });\n  };\n};\n\nexports.default = Autosuggest;","'use strict';\n\nfunction shallowEqualArrays(arrA, arrB) {\n  if (arrA === arrB) {\n    return true;\n  }\n\n  if (!arrA || !arrB) {\n    return false;\n  }\n\n  var len = arrA.length;\n\n  if (arrB.length !== len) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (arrA[i] !== arrB[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = shallowEqualArrays;\n","'use strict';\n\nmodule.exports = require('./Autowhatever').default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _sectionIterator = require('section-iterator');\n\nvar _sectionIterator2 = _interopRequireDefault(_sectionIterator);\n\nvar _reactThemeable = require('react-themeable');\n\nvar _reactThemeable2 = _interopRequireDefault(_reactThemeable);\n\nvar _SectionTitle = require('./SectionTitle');\n\nvar _SectionTitle2 = _interopRequireDefault(_SectionTitle);\n\nvar _ItemsList = require('./ItemsList');\n\nvar _ItemsList2 = _interopRequireDefault(_ItemsList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar emptyObject = {};\nvar defaultRenderInputComponent = function defaultRenderInputComponent(props) {\n  return _react2.default.createElement('input', props);\n};\nvar defaultRenderItemsContainer = function defaultRenderItemsContainer(_ref) {\n  var containerProps = _ref.containerProps,\n      children = _ref.children;\n  return _react2.default.createElement(\n    'div',\n    containerProps,\n    children\n  );\n};\nvar defaultTheme = {\n  container: 'react-autowhatever__container',\n  containerOpen: 'react-autowhatever__container--open',\n  input: 'react-autowhatever__input',\n  inputOpen: 'react-autowhatever__input--open',\n  inputFocused: 'react-autowhatever__input--focused',\n  itemsContainer: 'react-autowhatever__items-container',\n  itemsContainerOpen: 'react-autowhatever__items-container--open',\n  itemsList: 'react-autowhatever__items-list',\n  item: 'react-autowhatever__item',\n  itemFirst: 'react-autowhatever__item--first',\n  itemHighlighted: 'react-autowhatever__item--highlighted',\n  sectionContainer: 'react-autowhatever__section-container',\n  sectionContainerFirst: 'react-autowhatever__section-container--first',\n  sectionTitle: 'react-autowhatever__section-title'\n};\n\nvar Autowhatever = function (_Component) {\n  _inherits(Autowhatever, _Component);\n\n  function Autowhatever(props) {\n    _classCallCheck(this, Autowhatever);\n\n    var _this = _possibleConstructorReturn(this, (Autowhatever.__proto__ || Object.getPrototypeOf(Autowhatever)).call(this, props));\n\n    _this.storeInputReference = function (input) {\n      if (input !== null) {\n        _this.input = input;\n      }\n    };\n\n    _this.storeItemsContainerReference = function (itemsContainer) {\n      if (itemsContainer !== null) {\n        _this.itemsContainer = itemsContainer;\n      }\n    };\n\n    _this.onHighlightedItemChange = function (highlightedItem) {\n      _this.highlightedItem = highlightedItem;\n    };\n\n    _this.getItemId = function (sectionIndex, itemIndex) {\n      if (itemIndex === null) {\n        return null;\n      }\n\n      var id = _this.props.id;\n\n      var section = sectionIndex === null ? '' : 'section-' + sectionIndex;\n\n      return 'react-autowhatever-' + id + '-' + section + '-item-' + itemIndex;\n    };\n\n    _this.onFocus = function (event) {\n      var inputProps = _this.props.inputProps;\n\n\n      _this.setState({\n        isInputFocused: true\n      });\n\n      inputProps.onFocus && inputProps.onFocus(event);\n    };\n\n    _this.onBlur = function (event) {\n      var inputProps = _this.props.inputProps;\n\n\n      _this.setState({\n        isInputFocused: false\n      });\n\n      inputProps.onBlur && inputProps.onBlur(event);\n    };\n\n    _this.onKeyDown = function (event) {\n      var _this$props = _this.props,\n          inputProps = _this$props.inputProps,\n          highlightedSectionIndex = _this$props.highlightedSectionIndex,\n          highlightedItemIndex = _this$props.highlightedItemIndex;\n\n\n      switch (event.key) {\n        case 'ArrowDown':\n        case 'ArrowUp':\n          {\n            var nextPrev = event.key === 'ArrowDown' ? 'next' : 'prev';\n\n            var _this$sectionIterator = _this.sectionIterator[nextPrev]([highlightedSectionIndex, highlightedItemIndex]),\n                _this$sectionIterator2 = _slicedToArray(_this$sectionIterator, 2),\n                newHighlightedSectionIndex = _this$sectionIterator2[0],\n                newHighlightedItemIndex = _this$sectionIterator2[1];\n\n            inputProps.onKeyDown(event, { newHighlightedSectionIndex: newHighlightedSectionIndex, newHighlightedItemIndex: newHighlightedItemIndex });\n            break;\n          }\n\n        default:\n          inputProps.onKeyDown(event, { highlightedSectionIndex: highlightedSectionIndex, highlightedItemIndex: highlightedItemIndex });\n      }\n    };\n\n    _this.highlightedItem = null;\n\n    _this.state = {\n      isInputFocused: false\n    };\n\n    _this.setSectionsItems(props);\n    _this.setSectionIterator(props);\n    _this.setTheme(props);\n    return _this;\n  }\n\n  _createClass(Autowhatever, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.ensureHighlightedItemIsVisible();\n    }\n\n    // eslint-disable-next-line camelcase, react/sort-comp\n\n  }, {\n    key: 'UNSAFE_componentWillReceiveProps',\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.items !== this.props.items) {\n        this.setSectionsItems(nextProps);\n      }\n\n      if (nextProps.items !== this.props.items || nextProps.multiSection !== this.props.multiSection) {\n        this.setSectionIterator(nextProps);\n      }\n\n      if (nextProps.theme !== this.props.theme) {\n        this.setTheme(nextProps);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.ensureHighlightedItemIsVisible();\n    }\n  }, {\n    key: 'setSectionsItems',\n    value: function setSectionsItems(props) {\n      if (props.multiSection) {\n        this.sectionsItems = props.items.map(function (section) {\n          return props.getSectionItems(section);\n        });\n        this.sectionsLengths = this.sectionsItems.map(function (items) {\n          return items.length;\n        });\n        this.allSectionsAreEmpty = this.sectionsLengths.every(function (itemsCount) {\n          return itemsCount === 0;\n        });\n      }\n    }\n  }, {\n    key: 'setSectionIterator',\n    value: function setSectionIterator(props) {\n      this.sectionIterator = (0, _sectionIterator2.default)({\n        multiSection: props.multiSection,\n        data: props.multiSection ? this.sectionsLengths : props.items.length\n      });\n    }\n  }, {\n    key: 'setTheme',\n    value: function setTheme(props) {\n      this.theme = (0, _reactThemeable2.default)(props.theme);\n    }\n  }, {\n    key: 'renderSections',\n    value: function renderSections() {\n      var _this2 = this;\n\n      if (this.allSectionsAreEmpty) {\n        return null;\n      }\n\n      var theme = this.theme;\n      var _props = this.props,\n          id = _props.id,\n          items = _props.items,\n          renderItem = _props.renderItem,\n          renderItemData = _props.renderItemData,\n          renderSectionTitle = _props.renderSectionTitle,\n          highlightedSectionIndex = _props.highlightedSectionIndex,\n          highlightedItemIndex = _props.highlightedItemIndex,\n          itemProps = _props.itemProps;\n\n\n      return items.map(function (section, sectionIndex) {\n        var keyPrefix = 'react-autowhatever-' + id + '-';\n        var sectionKeyPrefix = keyPrefix + 'section-' + sectionIndex + '-';\n        var isFirstSection = sectionIndex === 0;\n\n        // `key` is provided by theme()\n        /* eslint-disable react/jsx-key */\n        return _react2.default.createElement(\n          'div',\n          theme(sectionKeyPrefix + 'container', 'sectionContainer', isFirstSection && 'sectionContainerFirst'),\n          _react2.default.createElement(_SectionTitle2.default, {\n            section: section,\n            renderSectionTitle: renderSectionTitle,\n            theme: theme,\n            sectionKeyPrefix: sectionKeyPrefix\n          }),\n          _react2.default.createElement(_ItemsList2.default, {\n            items: _this2.sectionsItems[sectionIndex],\n            itemProps: itemProps,\n            renderItem: renderItem,\n            renderItemData: renderItemData,\n            sectionIndex: sectionIndex,\n            highlightedItemIndex: highlightedSectionIndex === sectionIndex ? highlightedItemIndex : null,\n            onHighlightedItemChange: _this2.onHighlightedItemChange,\n            getItemId: _this2.getItemId,\n            theme: theme,\n            keyPrefix: keyPrefix,\n            ref: _this2.storeItemsListReference\n          })\n        );\n        /* eslint-enable react/jsx-key */\n      });\n    }\n  }, {\n    key: 'renderItems',\n    value: function renderItems() {\n      var items = this.props.items;\n\n\n      if (items.length === 0) {\n        return null;\n      }\n\n      var theme = this.theme;\n      var _props2 = this.props,\n          id = _props2.id,\n          renderItem = _props2.renderItem,\n          renderItemData = _props2.renderItemData,\n          highlightedSectionIndex = _props2.highlightedSectionIndex,\n          highlightedItemIndex = _props2.highlightedItemIndex,\n          itemProps = _props2.itemProps;\n\n\n      return _react2.default.createElement(_ItemsList2.default, {\n        items: items,\n        itemProps: itemProps,\n        renderItem: renderItem,\n        renderItemData: renderItemData,\n        highlightedItemIndex: highlightedSectionIndex === null ? highlightedItemIndex : null,\n        onHighlightedItemChange: this.onHighlightedItemChange,\n        getItemId: this.getItemId,\n        theme: theme,\n        keyPrefix: 'react-autowhatever-' + id + '-'\n      });\n    }\n  }, {\n    key: 'ensureHighlightedItemIsVisible',\n    value: function ensureHighlightedItemIsVisible() {\n      var highlightedItem = this.highlightedItem;\n\n\n      if (!highlightedItem) {\n        return;\n      }\n\n      var itemsContainer = this.itemsContainer;\n\n      var itemOffsetRelativeToContainer = highlightedItem.offsetParent === itemsContainer ? highlightedItem.offsetTop : highlightedItem.offsetTop - itemsContainer.offsetTop;\n\n      var scrollTop = itemsContainer.scrollTop; // Top of the visible area\n\n      if (itemOffsetRelativeToContainer < scrollTop) {\n        // Item is off the top of the visible area\n        scrollTop = itemOffsetRelativeToContainer;\n      } else if (itemOffsetRelativeToContainer + highlightedItem.offsetHeight > scrollTop + itemsContainer.offsetHeight) {\n        // Item is off the bottom of the visible area\n        scrollTop = itemOffsetRelativeToContainer + highlightedItem.offsetHeight - itemsContainer.offsetHeight;\n      }\n\n      if (scrollTop !== itemsContainer.scrollTop) {\n        itemsContainer.scrollTop = scrollTop;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var theme = this.theme;\n      var _props3 = this.props,\n          id = _props3.id,\n          multiSection = _props3.multiSection,\n          renderInputComponent = _props3.renderInputComponent,\n          renderItemsContainer = _props3.renderItemsContainer,\n          highlightedSectionIndex = _props3.highlightedSectionIndex,\n          highlightedItemIndex = _props3.highlightedItemIndex;\n      var isInputFocused = this.state.isInputFocused;\n\n      var renderedItems = multiSection ? this.renderSections() : this.renderItems();\n      var isOpen = renderedItems !== null;\n      var ariaActivedescendant = this.getItemId(highlightedSectionIndex, highlightedItemIndex);\n      var itemsContainerId = 'react-autowhatever-' + id;\n      var containerProps = _extends({\n        role: 'combobox',\n        'aria-haspopup': 'listbox',\n        'aria-owns': itemsContainerId,\n        'aria-expanded': isOpen\n      }, theme('react-autowhatever-' + id + '-container', 'container', isOpen && 'containerOpen'), this.props.containerProps);\n      var inputComponent = renderInputComponent(_extends({\n        type: 'text',\n        value: '',\n        autoComplete: 'off',\n        'aria-autocomplete': 'list',\n        'aria-controls': itemsContainerId,\n        'aria-activedescendant': ariaActivedescendant\n      }, theme('react-autowhatever-' + id + '-input', 'input', isOpen && 'inputOpen', isInputFocused && 'inputFocused'), this.props.inputProps, {\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        onKeyDown: this.props.inputProps.onKeyDown && this.onKeyDown,\n        ref: this.storeInputReference\n      }));\n      var itemsContainer = renderItemsContainer({\n        containerProps: _extends({\n          id: itemsContainerId,\n          role: 'listbox'\n        }, theme('react-autowhatever-' + id + '-items-container', 'itemsContainer', isOpen && 'itemsContainerOpen'), {\n          ref: this.storeItemsContainerReference\n        }),\n        children: renderedItems\n      });\n\n      return _react2.default.createElement(\n        'div',\n        containerProps,\n        inputComponent,\n        itemsContainer\n      );\n    }\n  }]);\n\n  return Autowhatever;\n}(_react.Component);\n\nAutowhatever.propTypes = {\n  id: _propTypes2.default.string, // Used in aria-* attributes. If multiple Autowhatever's are rendered on a page, they must have unique ids.\n  multiSection: _propTypes2.default.bool, // Indicates whether a multi section layout should be rendered.\n  renderInputComponent: _propTypes2.default.func, // When specified, it is used to render the input element.\n  renderItemsContainer: _propTypes2.default.func, // Renders the items container.\n  items: _propTypes2.default.array.isRequired, // Array of items or sections to render.\n  renderItem: _propTypes2.default.func, // This function renders a single item.\n  renderItemData: _propTypes2.default.object, // Arbitrary data that will be passed to renderItem()\n  renderSectionTitle: _propTypes2.default.func, // This function gets a section and renders its title.\n  getSectionItems: _propTypes2.default.func, // This function gets a section and returns its items, which will be passed into `renderItem` for rendering.\n  containerProps: _propTypes2.default.object, // Arbitrary container props\n  inputProps: _propTypes2.default.object, // Arbitrary input props\n  itemProps: _propTypes2.default.oneOfType([// Arbitrary item props\n  _propTypes2.default.object, _propTypes2.default.func]),\n  highlightedSectionIndex: _propTypes2.default.number, // Section index of the highlighted item\n  highlightedItemIndex: _propTypes2.default.number, // Highlighted item index (within a section)\n  theme: _propTypes2.default.oneOfType([// Styles. See: https://github.com/markdalgleish/react-themeable\n  _propTypes2.default.object, _propTypes2.default.array])\n};\nAutowhatever.defaultProps = {\n  id: '1',\n  multiSection: false,\n  renderInputComponent: defaultRenderInputComponent,\n  renderItemsContainer: defaultRenderItemsContainer,\n  renderItem: function renderItem() {\n    throw new Error('`renderItem` must be provided');\n  },\n  renderItemData: emptyObject,\n  renderSectionTitle: function renderSectionTitle() {\n    throw new Error('`renderSectionTitle` must be provided');\n  },\n  getSectionItems: function getSectionItems() {\n    throw new Error('`getSectionItems` must be provided');\n  },\n  containerProps: emptyObject,\n  inputProps: emptyObject,\n  itemProps: emptyObject,\n  highlightedSectionIndex: null,\n  highlightedItemIndex: null,\n  theme: defaultTheme\n};\nexports.default = Autowhatever;","\"use strict\";\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nmodule.exports = function (_ref) {\n  var data = _ref.data;\n  var multiSection = _ref.multiSection;\n\n  function nextNonEmptySectionIndex(sectionIndex) {\n    if (sectionIndex === null) {\n      sectionIndex = 0;\n    } else {\n      sectionIndex++;\n    }\n\n    while (sectionIndex < data.length && data[sectionIndex] === 0) {\n      sectionIndex++;\n    }\n\n    return sectionIndex === data.length ? null : sectionIndex;\n  }\n\n  function prevNonEmptySectionIndex(sectionIndex) {\n    if (sectionIndex === null) {\n      sectionIndex = data.length - 1;\n    } else {\n      sectionIndex--;\n    }\n\n    while (sectionIndex >= 0 && data[sectionIndex] === 0) {\n      sectionIndex--;\n    }\n\n    return sectionIndex === -1 ? null : sectionIndex;\n  }\n\n  function next(position) {\n    var _position = _slicedToArray(position, 2);\n\n    var sectionIndex = _position[0];\n    var itemIndex = _position[1];\n\n\n    if (multiSection) {\n      if (itemIndex === null || itemIndex === data[sectionIndex] - 1) {\n        sectionIndex = nextNonEmptySectionIndex(sectionIndex);\n\n        if (sectionIndex === null) {\n          return [null, null];\n        }\n\n        return [sectionIndex, 0];\n      }\n\n      return [sectionIndex, itemIndex + 1];\n    }\n\n    if (data === 0 || itemIndex === data - 1) {\n      return [null, null];\n    }\n\n    if (itemIndex === null) {\n      return [null, 0];\n    }\n\n    return [null, itemIndex + 1];\n  }\n\n  function prev(position) {\n    var _position2 = _slicedToArray(position, 2);\n\n    var sectionIndex = _position2[0];\n    var itemIndex = _position2[1];\n\n\n    if (multiSection) {\n      if (itemIndex === null || itemIndex === 0) {\n        sectionIndex = prevNonEmptySectionIndex(sectionIndex);\n\n        if (sectionIndex === null) {\n          return [null, null];\n        }\n\n        return [sectionIndex, data[sectionIndex] - 1];\n      }\n\n      return [sectionIndex, itemIndex - 1];\n    }\n\n    if (data === 0 || itemIndex === 0) {\n      return [null, null];\n    }\n\n    if (itemIndex === null) {\n      return [null, data - 1];\n    }\n\n    return [null, itemIndex - 1];\n  }\n\n  function isLast(position) {\n    return next(position)[1] === null;\n  }\n\n  return {\n    next: next,\n    prev: prev,\n    isLast: isLast\n  };\n};\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar truthy = function truthy(x) {\n  return x;\n};\n\nexports['default'] = function (input) {\n  var _ref = Array.isArray(input) && input.length === 2 ? input : [input, null];\n\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var theme = _ref2[0];\n  var classNameDecorator = _ref2[1];\n\n  return function (key) {\n    for (var _len = arguments.length, names = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      names[_key - 1] = arguments[_key];\n    }\n\n    var styles = names.map(function (name) {\n      return theme[name];\n    }).filter(truthy);\n\n    return typeof styles[0] === 'string' || typeof classNameDecorator === 'function' ? { key: key, className: classNameDecorator ? classNameDecorator.apply(undefined, _toConsumableArray(styles)) : styles.join(' ') } : { key: key, style: _objectAssign2['default'].apply(undefined, [{}].concat(_toConsumableArray(styles))) };\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction ownEnumerableKeys(obj) {\n\tvar keys = Object.getOwnPropertyNames(obj);\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tkeys = keys.concat(Object.getOwnPropertySymbols(obj));\n\t}\n\n\treturn keys.filter(function (key) {\n\t\treturn propIsEnumerable.call(obj, key);\n\t});\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = ownEnumerableKeys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _compareObjects = require('./compareObjects');\n\nvar _compareObjects2 = _interopRequireDefault(_compareObjects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SectionTitle = function (_Component) {\n  _inherits(SectionTitle, _Component);\n\n  function SectionTitle() {\n    _classCallCheck(this, SectionTitle);\n\n    return _possibleConstructorReturn(this, (SectionTitle.__proto__ || Object.getPrototypeOf(SectionTitle)).apply(this, arguments));\n  }\n\n  _createClass(SectionTitle, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _compareObjects2.default)(nextProps, this.props);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          section = _props.section,\n          renderSectionTitle = _props.renderSectionTitle,\n          theme = _props.theme,\n          sectionKeyPrefix = _props.sectionKeyPrefix;\n\n      var sectionTitle = renderSectionTitle(section);\n\n      if (!sectionTitle) {\n        return null;\n      }\n\n      return _react2.default.createElement(\n        'div',\n        theme(sectionKeyPrefix + 'title', 'sectionTitle'),\n        sectionTitle\n      );\n    }\n  }]);\n\n  return SectionTitle;\n}(_react.Component);\n\nSectionTitle.propTypes = {\n  section: _propTypes2.default.any.isRequired,\n  renderSectionTitle: _propTypes2.default.func.isRequired,\n  theme: _propTypes2.default.func.isRequired,\n  sectionKeyPrefix: _propTypes2.default.string.isRequired\n};\nexports.default = SectionTitle;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Item = require('./Item');\n\nvar _Item2 = _interopRequireDefault(_Item);\n\nvar _compareObjects = require('./compareObjects');\n\nvar _compareObjects2 = _interopRequireDefault(_compareObjects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ItemsList = function (_Component) {\n  _inherits(ItemsList, _Component);\n\n  function ItemsList() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ItemsList);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ItemsList.__proto__ || Object.getPrototypeOf(ItemsList)).call.apply(_ref, [this].concat(args))), _this), _this.storeHighlightedItemReference = function (highlightedItem) {\n      _this.props.onHighlightedItemChange(highlightedItem === null ? null : highlightedItem.item);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ItemsList, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _compareObjects2.default)(nextProps, this.props, ['itemProps']);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          items = _props.items,\n          itemProps = _props.itemProps,\n          renderItem = _props.renderItem,\n          renderItemData = _props.renderItemData,\n          sectionIndex = _props.sectionIndex,\n          highlightedItemIndex = _props.highlightedItemIndex,\n          getItemId = _props.getItemId,\n          theme = _props.theme,\n          keyPrefix = _props.keyPrefix;\n\n      var sectionPrefix = sectionIndex === null ? keyPrefix : keyPrefix + 'section-' + sectionIndex + '-';\n      var isItemPropsFunction = typeof itemProps === 'function';\n\n      return _react2.default.createElement(\n        'ul',\n        _extends({ role: 'listbox' }, theme(sectionPrefix + 'items-list', 'itemsList')),\n        items.map(function (item, itemIndex) {\n          var isFirst = itemIndex === 0;\n          var isHighlighted = itemIndex === highlightedItemIndex;\n          var itemKey = sectionPrefix + 'item-' + itemIndex;\n          var itemPropsObj = isItemPropsFunction ? itemProps({ sectionIndex: sectionIndex, itemIndex: itemIndex }) : itemProps;\n          var allItemProps = _extends({\n            id: getItemId(sectionIndex, itemIndex),\n            'aria-selected': isHighlighted\n          }, theme(itemKey, 'item', isFirst && 'itemFirst', isHighlighted && 'itemHighlighted'), itemPropsObj);\n\n          if (isHighlighted) {\n            allItemProps.ref = _this2.storeHighlightedItemReference;\n          }\n\n          // `key` is provided by theme()\n          /* eslint-disable react/jsx-key */\n          return _react2.default.createElement(_Item2.default, _extends({}, allItemProps, {\n            sectionIndex: sectionIndex,\n            isHighlighted: isHighlighted,\n            itemIndex: itemIndex,\n            item: item,\n            renderItem: renderItem,\n            renderItemData: renderItemData\n          }));\n          /* eslint-enable react/jsx-key */\n        })\n      );\n    }\n  }]);\n\n  return ItemsList;\n}(_react.Component);\n\nItemsList.propTypes = {\n  items: _propTypes2.default.array.isRequired,\n  itemProps: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func]),\n  renderItem: _propTypes2.default.func.isRequired,\n  renderItemData: _propTypes2.default.object.isRequired,\n  sectionIndex: _propTypes2.default.number,\n  highlightedItemIndex: _propTypes2.default.number,\n  onHighlightedItemChange: _propTypes2.default.func.isRequired,\n  getItemId: _propTypes2.default.func.isRequired,\n  theme: _propTypes2.default.func.isRequired,\n  keyPrefix: _propTypes2.default.string.isRequired\n};\nItemsList.defaultProps = {\n  sectionIndex: null\n};\nexports.default = ItemsList;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _compareObjects = require('./compareObjects');\n\nvar _compareObjects2 = _interopRequireDefault(_compareObjects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Item = function (_Component) {\n  _inherits(Item, _Component);\n\n  function Item() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Item);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Item.__proto__ || Object.getPrototypeOf(Item)).call.apply(_ref, [this].concat(args))), _this), _this.storeItemReference = function (item) {\n      if (item !== null) {\n        _this.item = item;\n      }\n    }, _this.onMouseEnter = function (event) {\n      var _this$props = _this.props,\n          sectionIndex = _this$props.sectionIndex,\n          itemIndex = _this$props.itemIndex;\n\n\n      _this.props.onMouseEnter(event, { sectionIndex: sectionIndex, itemIndex: itemIndex });\n    }, _this.onMouseLeave = function (event) {\n      var _this$props2 = _this.props,\n          sectionIndex = _this$props2.sectionIndex,\n          itemIndex = _this$props2.itemIndex;\n\n\n      _this.props.onMouseLeave(event, { sectionIndex: sectionIndex, itemIndex: itemIndex });\n    }, _this.onMouseDown = function (event) {\n      var _this$props3 = _this.props,\n          sectionIndex = _this$props3.sectionIndex,\n          itemIndex = _this$props3.itemIndex;\n\n\n      _this.props.onMouseDown(event, { sectionIndex: sectionIndex, itemIndex: itemIndex });\n    }, _this.onClick = function (event) {\n      var _this$props4 = _this.props,\n          sectionIndex = _this$props4.sectionIndex,\n          itemIndex = _this$props4.itemIndex;\n\n\n      _this.props.onClick(event, { sectionIndex: sectionIndex, itemIndex: itemIndex });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Item, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _compareObjects2.default)(nextProps, this.props, ['renderItemData']);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          isHighlighted = _props.isHighlighted,\n          item = _props.item,\n          renderItem = _props.renderItem,\n          renderItemData = _props.renderItemData,\n          restProps = _objectWithoutProperties(_props, ['isHighlighted', 'item', 'renderItem', 'renderItemData']);\n\n      delete restProps.sectionIndex;\n      delete restProps.itemIndex;\n\n      if (typeof restProps.onMouseEnter === 'function') {\n        restProps.onMouseEnter = this.onMouseEnter;\n      }\n\n      if (typeof restProps.onMouseLeave === 'function') {\n        restProps.onMouseLeave = this.onMouseLeave;\n      }\n\n      if (typeof restProps.onMouseDown === 'function') {\n        restProps.onMouseDown = this.onMouseDown;\n      }\n\n      if (typeof restProps.onClick === 'function') {\n        restProps.onClick = this.onClick;\n      }\n\n      return _react2.default.createElement(\n        'li',\n        _extends({ role: 'option' }, restProps, { ref: this.storeItemReference }),\n        renderItem(item, _extends({ isHighlighted: isHighlighted }, renderItemData))\n      );\n    }\n  }]);\n\n  return Item;\n}(_react.Component);\n\nItem.propTypes = {\n  sectionIndex: _propTypes2.default.number,\n  isHighlighted: _propTypes2.default.bool.isRequired,\n  itemIndex: _propTypes2.default.number.isRequired,\n  item: _propTypes2.default.any.isRequired,\n  renderItem: _propTypes2.default.func.isRequired,\n  renderItemData: _propTypes2.default.object.isRequired,\n  onMouseEnter: _propTypes2.default.func,\n  onMouseLeave: _propTypes2.default.func,\n  onMouseDown: _propTypes2.default.func,\n  onClick: _propTypes2.default.func\n};\nexports.default = Item;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar defaultTheme = exports.defaultTheme = {\n  container: 'react-autosuggest__container',\n  containerOpen: 'react-autosuggest__container--open',\n  input: 'react-autosuggest__input',\n  inputOpen: 'react-autosuggest__input--open',\n  inputFocused: 'react-autosuggest__input--focused',\n  suggestionsContainer: 'react-autosuggest__suggestions-container',\n  suggestionsContainerOpen: 'react-autosuggest__suggestions-container--open',\n  suggestionsList: 'react-autosuggest__suggestions-list',\n  suggestion: 'react-autosuggest__suggestion',\n  suggestionFirst: 'react-autosuggest__suggestion--first',\n  suggestionHighlighted: 'react-autosuggest__suggestion--highlighted',\n  sectionContainer: 'react-autosuggest__section-container',\n  sectionContainerFirst: 'react-autosuggest__section-container--first',\n  sectionTitle: 'react-autosuggest__section-title'\n};\n\nvar mapToAutowhateverTheme = exports.mapToAutowhateverTheme = function mapToAutowhateverTheme(theme) {\n  var result = {};\n\n  for (var key in theme) {\n    switch (key) {\n      case 'suggestionsContainer':\n        result['itemsContainer'] = theme[key];\n        break;\n\n      case 'suggestionsContainerOpen':\n        result['itemsContainerOpen'] = theme[key];\n        break;\n\n      case 'suggestion':\n        result['item'] = theme[key];\n        break;\n\n      case 'suggestionFirst':\n        result['itemFirst'] = theme[key];\n        break;\n\n      case 'suggestionHighlighted':\n        result['itemHighlighted'] = theme[key];\n        break;\n\n      case 'suggestionsList':\n        result['itemsList'] = theme[key];\n        break;\n\n      default:\n        result[key] = theme[key];\n    }\n  }\n\n  return result;\n};","var removeDiacritics = require('diacritic').clean;\n\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions#Using_special_characters\nvar specialCharsRegex = /[.*+?^${}()|[\\]\\\\]/g;\n\n// http://www.ecma-international.org/ecma-262/5.1/#sec-15.10.2.6\nvar wordCharacterRegex = /[a-z0-9_]/i;\n\nvar whitespacesRegex = /\\s+/;\n\nfunction escapeRegexCharacters(str) {\n  return str.replace(specialCharsRegex, '\\\\$&');\n}\n\nmodule.exports = function match(text, query) {\n  text = removeDiacritics(text);\n  query = removeDiacritics(query);\n\n  return (\n    query\n      .trim()\n      .split(whitespacesRegex)\n      // If query is blank, we'll get empty string here, so let's filter it out.\n      .filter(function(word) {\n        return word.length > 0;\n      })\n      .reduce(function(result, word) {\n        var wordLen = word.length;\n        var prefix = wordCharacterRegex.test(word[0]) ? '\\\\b' : '';\n        var regex = new RegExp(prefix + escapeRegexCharacters(word), 'i');\n        var index = text.search(regex);\n\n        if (index > -1) {\n          result.push([index, index + wordLen]);\n\n          // Replace what we just found with spaces so we don't find it again.\n          text =\n            text.slice(0, index) +\n            new Array(wordLen + 1).join(' ') +\n            text.slice(index + wordLen);\n        }\n\n        return result;\n      }, [])\n      .sort(function(match1, match2) {\n        return match1[0] - match2[0];\n      })\n  );\n};\n","// Diacritics.js\n// \n// Started as something to be an equivalent of the Google Java Library diacritics library for JavaScript.\n// Found this: http://jsperf.com/diacritics/6 and converted it into a reusable module.\n// \n// @author Nijiko Yonskai\n// @license MIT\n// @copyright Nijikokun 2013 <nijikokun@gmail.com>\n(function (name, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else this[name] = definition()\n})('Diacritics', function () {\n  // Create public object\n  var output = {\n    map: {}\n  };\n\n  // Create private reference map.\n  var reference = [\n    {'base':' ',    'letters':'\\u00A0'},\n    {'base':'A',    'letters':'\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'},\n    {'base':'AA',   'letters':'\\uA732'},\n    {'base':'AE',   'letters':'\\u00C6\\u01FC\\u01E2'},\n    {'base':'AO',   'letters':'\\uA734'},\n    {'base':'AU',   'letters':'\\uA736'},\n    {'base':'AV',   'letters':'\\uA738\\uA73A'},\n    {'base':'AY',   'letters':'\\uA73C'},\n    {'base':'B',    'letters':'\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'},\n    {'base':'C',    'letters':'\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'},\n    {'base':'D',    'letters':'\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'},\n    {'base':'DZ',   'letters':'\\u01F1\\u01C4'},\n    {'base':'Dz',   'letters':'\\u01F2\\u01C5'},\n    {'base':'E',    'letters':'\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'},\n    {'base':'F',    'letters':'\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'},\n    {'base':'G',    'letters':'\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'},\n    {'base':'H',    'letters':'\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'},\n    {'base':'I',    'letters':'\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'},\n    {'base':'J',    'letters':'\\u004A\\u24BF\\uFF2A\\u0134\\u0248'},\n    {'base':'K',    'letters':'\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'},\n    {'base':'L',    'letters':'\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'},\n    {'base':'LJ',   'letters':'\\u01C7'},\n    {'base':'Lj',   'letters':'\\u01C8'},\n    {'base':'M',    'letters':'\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'},\n    {'base':'N',    'letters':'\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'},\n    {'base':'NJ',   'letters':'\\u01CA'},\n    {'base':'Nj',   'letters':'\\u01CB'},\n    {'base':'O',    'letters':'\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'},\n    {'base':'OI',   'letters':'\\u01A2'},\n    {'base':'OO',   'letters':'\\uA74E'},\n    {'base':'OU',   'letters':'\\u0222'},\n    {'base':'P',    'letters':'\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'},\n    {'base':'Q',    'letters':'\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'},\n    {'base':'R',    'letters':'\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'},\n    {'base':'S',    'letters':'\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'},\n    {'base':'T',    'letters':'\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'},\n    {'base':'Th',   'letters':'\\u00DE'},\n    {'base':'TZ',   'letters':'\\uA728'},\n    {'base':'U',    'letters':'\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'},\n    {'base':'V',    'letters':'\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'},\n    {'base':'VY',   'letters':'\\uA760'},\n    {'base':'W',    'letters':'\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'},\n    {'base':'X',    'letters':'\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'},\n    {'base':'Y',    'letters':'\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'},\n    {'base':'Z',    'letters':'\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'},\n    {'base':'a',    'letters':'\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250\\u0251'},\n    {'base':'aa',   'letters':'\\uA733'},\n    {'base':'ae',   'letters':'\\u00E6\\u01FD\\u01E3'},\n    {'base':'ao',   'letters':'\\uA735'},\n    {'base':'au',   'letters':'\\uA737'},\n    {'base':'av',   'letters':'\\uA739\\uA73B'},\n    {'base':'ay',   'letters':'\\uA73D'},\n    {'base':'b',    'letters':'\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'},\n    {'base':'c',    'letters':'\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'},\n    {'base':'d',    'letters':'\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'},\n    {'base':'dz',   'letters':'\\u01F3\\u01C6'},\n    {'base':'e',    'letters':'\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'},\n    {'base':'f',    'letters':'\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'},\n    {'base':'ff',   'letters':'\\uFB00'},\n    {'base':'fi',   'letters':'\\uFB01'},\n    {'base':'fl',   'letters':'\\uFB02'},\n    {'base':'ffi',  'letters':'\\uFB03'},\n    {'base':'ffl',  'letters':'\\uFB04'},\n    {'base':'g',    'letters':'\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'},\n    {'base':'h',    'letters':'\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'},\n    {'base':'hv',   'letters':'\\u0195'},\n    {'base':'i',    'letters':'\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'},\n    {'base':'j',    'letters':'\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'},\n    {'base':'k',    'letters':'\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'},\n    {'base':'l',    'letters':'\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'},\n    {'base':'lj',   'letters':'\\u01C9'},\n    {'base':'m',    'letters':'\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'},\n    {'base':'n',    'letters':'\\x6E\\xF1\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5\\u043B\\u0509'},\n    {'base':'nj',   'letters':'\\u01CC'},\n    {'base':'o',    'letters':'\\u07C0\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'},\n    {'base':'oe',   'letters':'\\u0152\\u0153'},\n    {'base':'oi',   'letters':'\\u01A3'},\n    {'base':'ou',   'letters':'\\u0223'},\n    {'base':'oo',   'letters':'\\uA74F'},\n    {'base':'p',    'letters':'\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'},\n    {'base':'q',    'letters':'\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'},\n    {'base':'r',    'letters':'\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'},\n    {'base':'s',    'letters':'\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'},\n    {'base':'ss',   'letters':'\\xDF'},\n    {'base':'t',    'letters':'\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'},\n    {'base':'th',   'letters':'\\u00FE'},\n    {'base':'tz',   'letters':'\\uA729'},\n    {'base':'u',    'letters': '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'},\n    {'base':'v',    'letters':'\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'},\n    {'base':'vy',   'letters':'\\uA761'},\n    {'base':'w',    'letters':'\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'},\n    {'base':'x',    'letters':'\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'},\n    {'base':'y',    'letters':'\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'},\n    {'base':'z',    'letters':'\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'}\n  ];\n\n  // Generate reference mapping\n  for (var i = 0, refLength = reference.length; i < refLength; i++){\n    var letters = reference[i].letters.split(\"\");\n\n    for (var j = 0, letLength = letters.length; j < letLength; j++){\n      output.map[letters[j]] = reference[i].base;\n    }\n  }\n\n  /**\n   * Clean accents (diacritics) from string.\n   * \n   * @param  {String} input String to be cleaned of diacritics.\n   * @return {String}\n   */\n  output.clean = function (input) {\n    if (!input || !input.length || input.length < 1) {\n      return \"\";\n    }\n\n    var string = \"\";\n    var letters = input.split(\"\");\n    var index = 0;\n    var length = letters.length;\n    var letter;\n\n    for (; index < length; index++) {\n      letter = letters[index];\n      string += letter in output.map ? output.map[letter] : letter;\n    }\n\n    return string;\n  };\n\n  return output;\n});","module.exports = function parse(text, matches) {\n  var result = [];\n\n  if (matches.length === 0) {\n    result.push({\n      text: text,\n      highlight: false\n    });\n  } else {\n    if (matches[0][0] > 0) {\n      result.push({\n        text: text.slice(0, matches[0][0]),\n        highlight: false\n      });\n    }\n  }\n\n  matches.forEach(function(match, i) {\n    var startIndex = match[0];\n    var endIndex = match[1];\n\n    result.push({\n      text: text.slice(startIndex, endIndex),\n      highlight: true\n    });\n\n    if (i === matches.length - 1) {\n      if (endIndex < text.length) {\n        result.push({\n          text: text.slice(endIndex, text.length),\n          highlight: false\n        });\n      }\n    } else if (endIndex < matches[i + 1][0]) {\n      result.push({\n        text: text.slice(endIndex, matches[i + 1][0]),\n        highlight: false\n      });\n    }\n  });\n\n  return result;\n};\n","// Compute what scrolling needs to be done on required scrolling boxes for target to be in view\n\n// The type names here are named after the spec to make it easier to find more information around what they mean:\n// To reduce churn and reduce things that need be maintained things from the official TS DOM library is used here\n// https://drafts.csswg.org/cssom-view/\n\n// For a definition on what is \"block flow direction\" exactly, check this: https://drafts.csswg.org/css-writing-modes-4/#block-flow-direction\n\n// add support for visualViewport object currently implemented in chrome\ninterface visualViewport {\n  height: number\n  width: number\n}\n\ntype ScrollLogicalPosition = 'start' | 'center' | 'end' | 'nearest'\n// This new option is tracked in this PR, which is the most likely candidate at the time: https://github.com/w3c/csswg-drafts/pull/1805\ntype ScrollMode = 'always' | 'if-needed'\n// New option that skips auto-scrolling all nodes with overflow: hidden set\n// See FF implementation: https://hg.mozilla.org/integration/fx-team/rev/c48c3ec05012#l7.18\ntype SkipOverflowHiddenElements = boolean\n\ninterface Options {\n  block?: ScrollLogicalPosition\n  inline?: ScrollLogicalPosition\n  scrollMode?: ScrollMode\n  boundary?: CustomScrollBoundary\n  skipOverflowHiddenElements?: SkipOverflowHiddenElements\n}\n\n// Custom behavior, not in any spec\ntype CustomScrollBoundaryCallback = (parent: Element) => boolean\ntype CustomScrollBoundary = Element | CustomScrollBoundaryCallback | null\ninterface CustomScrollAction {\n  el: Element\n  top: number\n  left: number\n}\n\n// @TODO better shadowdom test, 11 = document fragment\nfunction isElement(el: any) {\n  return el != null && typeof el === 'object' && el.nodeType === 1\n}\n\nfunction canOverflow(\n  overflow: string | null,\n  skipOverflowHiddenElements?: boolean\n) {\n  if (skipOverflowHiddenElements && overflow === 'hidden') {\n    return false\n  }\n\n  return overflow !== 'visible' && overflow !== 'clip'\n}\n\nfunction getFrameElement(el: Element) {\n  if (!el.ownerDocument || !el.ownerDocument.defaultView) {\n    return null\n  }\n\n  try {\n    return el.ownerDocument.defaultView.frameElement\n  } catch (e) {\n    return null\n  }\n}\n\nfunction isHiddenByFrame(el: Element): boolean {\n  const frame = getFrameElement(el)\n  if (!frame) {\n    return false\n  }\n\n  return (\n    frame.clientHeight < el.scrollHeight || frame.clientWidth < el.scrollWidth\n  )\n}\n\nfunction isScrollable(el: Element, skipOverflowHiddenElements?: boolean) {\n  if (el.clientHeight < el.scrollHeight || el.clientWidth < el.scrollWidth) {\n    const style = getComputedStyle(el, null)\n    return (\n      canOverflow(style.overflowY, skipOverflowHiddenElements) ||\n      canOverflow(style.overflowX, skipOverflowHiddenElements) ||\n      isHiddenByFrame(el)\n    )\n  }\n\n  return false\n}\n/**\n * Find out which edge to align against when logical scroll position is \"nearest\"\n * Interesting fact: \"nearest\" works similarily to \"if-needed\", if the element is fully visible it will not scroll it\n *\n * Legends:\n * ┌────────┐ ┏ ━ ━ ━ ┓\n * │ target │   frame\n * └────────┘ ┗ ━ ━ ━ ┛\n */\nfunction alignNearest(\n  scrollingEdgeStart: number,\n  scrollingEdgeEnd: number,\n  scrollingSize: number,\n  scrollingBorderStart: number,\n  scrollingBorderEnd: number,\n  elementEdgeStart: number,\n  elementEdgeEnd: number,\n  elementSize: number\n) {\n  /**\n   * If element edge A and element edge B are both outside scrolling box edge A and scrolling box edge B\n   *\n   *          ┌──┐\n   *        ┏━│━━│━┓\n   *          │  │\n   *        ┃ │  │ ┃        do nothing\n   *          │  │\n   *        ┗━│━━│━┛\n   *          └──┘\n   *\n   *  If element edge C and element edge D are both outside scrolling box edge C and scrolling box edge D\n   *\n   *    ┏ ━ ━ ━ ━ ┓\n   *   ┌───────────┐\n   *   │┃         ┃│        do nothing\n   *   └───────────┘\n   *    ┗ ━ ━ ━ ━ ┛\n   */\n  if (\n    (elementEdgeStart < scrollingEdgeStart &&\n      elementEdgeEnd > scrollingEdgeEnd) ||\n    (elementEdgeStart > scrollingEdgeStart && elementEdgeEnd < scrollingEdgeEnd)\n  ) {\n    return 0\n  }\n\n  /**\n   * If element edge A is outside scrolling box edge A and element height is less than scrolling box height\n   *\n   *          ┌──┐\n   *        ┏━│━━│━┓         ┏━┌━━┐━┓\n   *          └──┘             │  │\n   *  from  ┃      ┃     to  ┃ └──┘ ┃\n   *\n   *        ┗━ ━━ ━┛         ┗━ ━━ ━┛\n   *\n   * If element edge B is outside scrolling box edge B and element height is greater than scrolling box height\n   *\n   *        ┏━ ━━ ━┓         ┏━┌━━┐━┓\n   *                           │  │\n   *  from  ┃ ┌──┐ ┃     to  ┃ │  │ ┃\n   *          │  │             │  │\n   *        ┗━│━━│━┛         ┗━│━━│━┛\n   *          │  │             └──┘\n   *          │  │\n   *          └──┘\n   *\n   * If element edge C is outside scrolling box edge C and element width is less than scrolling box width\n   *\n   *       from                 to\n   *    ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n   *  ┌───┐                 ┌───┐\n   *  │ ┃ │       ┃         ┃   │     ┃\n   *  └───┘                 └───┘\n   *    ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n   *\n   * If element edge D is outside scrolling box edge D and element width is greater than scrolling box width\n   *\n   *       from                 to\n   *    ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n   *        ┌───────────┐   ┌───────────┐\n   *    ┃   │     ┃     │   ┃         ┃ │\n   *        └───────────┘   └───────────┘\n   *    ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n   */\n  if (\n    (elementEdgeStart <= scrollingEdgeStart && elementSize <= scrollingSize) ||\n    (elementEdgeEnd >= scrollingEdgeEnd && elementSize >= scrollingSize)\n  ) {\n    return elementEdgeStart - scrollingEdgeStart - scrollingBorderStart\n  }\n\n  /**\n   * If element edge B is outside scrolling box edge B and element height is less than scrolling box height\n   *\n   *        ┏━ ━━ ━┓         ┏━ ━━ ━┓\n   *\n   *  from  ┃      ┃     to  ┃ ┌──┐ ┃\n   *          ┌──┐             │  │\n   *        ┗━│━━│━┛         ┗━└━━┘━┛\n   *          └──┘\n   *\n   * If element edge A is outside scrolling box edge A and element height is greater than scrolling box height\n   *\n   *          ┌──┐\n   *          │  │\n   *          │  │             ┌──┐\n   *        ┏━│━━│━┓         ┏━│━━│━┓\n   *          │  │             │  │\n   *  from  ┃ └──┘ ┃     to  ┃ │  │ ┃\n   *                           │  │\n   *        ┗━ ━━ ━┛         ┗━└━━┘━┛\n   *\n   * If element edge C is outside scrolling box edge C and element width is greater than scrolling box width\n   *\n   *           from                 to\n   *        ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n   *  ┌───────────┐           ┌───────────┐\n   *  │     ┃     │   ┃       │ ┃         ┃\n   *  └───────────┘           └───────────┘\n   *        ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n   *\n   * If element edge D is outside scrolling box edge D and element width is less than scrolling box width\n   *\n   *           from                 to\n   *        ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n   *                ┌───┐             ┌───┐\n   *        ┃       │ ┃ │       ┃     │   ┃\n   *                └───┘             └───┘\n   *        ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n   *\n   */\n  if (\n    (elementEdgeEnd > scrollingEdgeEnd && elementSize < scrollingSize) ||\n    (elementEdgeStart < scrollingEdgeStart && elementSize > scrollingSize)\n  ) {\n    return elementEdgeEnd - scrollingEdgeEnd + scrollingBorderEnd\n  }\n\n  return 0\n}\n\nexport default (target: Element, options: Options): CustomScrollAction[] => {\n  //TODO: remove this hack when microbundle will support typescript >= 4.0\n  const windowWithViewport = (window as unknown) as Window & {\n    visualViewport: visualViewport\n  }\n\n  const {\n    scrollMode,\n    block,\n    inline,\n    boundary,\n    skipOverflowHiddenElements,\n  } = options\n  // Allow using a callback to check the boundary\n  // The default behavior is to check if the current target matches the boundary element or not\n  // If undefined it'll check that target is never undefined (can happen as we recurse up the tree)\n  const checkBoundary =\n    typeof boundary === 'function' ? boundary : (node: any) => node !== boundary\n\n  if (!isElement(target)) {\n    throw new TypeError('Invalid target')\n  }\n\n  // Used to handle the top most element that can be scrolled\n  const scrollingElement = document.scrollingElement || document.documentElement\n\n  // Collect all the scrolling boxes, as defined in the spec: https://drafts.csswg.org/cssom-view/#scrolling-box\n  const frames: Element[] = []\n  let cursor = target\n  while (isElement(cursor) && checkBoundary(cursor)) {\n    // Move cursor to parent\n    cursor = cursor.parentNode as Element\n\n    // Stop when we reach the viewport\n    if (cursor === scrollingElement) {\n      frames.push(cursor)\n      break\n    }\n\n    // Skip document.body if it's not the scrollingElement and documentElement isn't independently scrollable\n    if (\n      cursor === document.body &&\n      isScrollable(cursor) &&\n      !isScrollable(document.documentElement as HTMLElement)\n    ) {\n      continue\n    }\n\n    // Now we check if the element is scrollable, this code only runs if the loop haven't already hit the viewport or a custom boundary\n    if (isScrollable(cursor, skipOverflowHiddenElements)) {\n      frames.push(cursor)\n    }\n  }\n\n  // Support pinch-zooming properly, making sure elements scroll into the visual viewport\n  // Browsers that don't support visualViewport will report the layout viewport dimensions on document.documentElement.clientWidth/Height\n  // and viewport dimensions on window.innerWidth/Height\n  // https://www.quirksmode.org/mobile/viewports2.html\n  // https://bokand.github.io/viewport/index.html\n  const viewportWidth = windowWithViewport.visualViewport\n    ? windowWithViewport.visualViewport.width\n    : innerWidth\n  const viewportHeight = windowWithViewport.visualViewport\n    ? windowWithViewport.visualViewport.height\n    : innerHeight\n\n  // Newer browsers supports scroll[X|Y], page[X|Y]Offset is\n  const viewportX = window.scrollX || pageXOffset\n  const viewportY = window.scrollY || pageYOffset\n\n  const {\n    height: targetHeight,\n    width: targetWidth,\n    top: targetTop,\n    right: targetRight,\n    bottom: targetBottom,\n    left: targetLeft,\n  } = target.getBoundingClientRect()\n\n  // These values mutate as we loop through and generate scroll coordinates\n  let targetBlock: number =\n    block === 'start' || block === 'nearest'\n      ? targetTop\n      : block === 'end'\n      ? targetBottom\n      : targetTop + targetHeight / 2 // block === 'center\n  let targetInline: number =\n    inline === 'center'\n      ? targetLeft + targetWidth / 2\n      : inline === 'end'\n      ? targetRight\n      : targetLeft // inline === 'start || inline === 'nearest\n\n  // Collect new scroll positions\n  const computations: CustomScrollAction[] = []\n  // In chrome there's no longer a difference between caching the `frames.length` to a var or not, so we don't in this case (size > speed anyways)\n  for (let index = 0; index < frames.length; index++) {\n    const frame = frames[index]\n\n    // @TODO add a shouldScroll hook here that allows userland code to take control\n\n    const {\n      height,\n      width,\n      top,\n      right,\n      bottom,\n      left,\n    } = frame.getBoundingClientRect()\n\n    // If the element is already visible we can end it here\n    // @TODO targetBlock and targetInline should be taken into account to be compliant with https://github.com/w3c/csswg-drafts/pull/1805/files#diff-3c17f0e43c20f8ecf89419d49e7ef5e0R1333\n    if (\n      scrollMode === 'if-needed' &&\n      targetTop >= 0 &&\n      targetLeft >= 0 &&\n      targetBottom <= viewportHeight &&\n      targetRight <= viewportWidth &&\n      targetTop >= top &&\n      targetBottom <= bottom &&\n      targetLeft >= left &&\n      targetRight <= right\n    ) {\n      // Break the loop and return the computations for things that are not fully visible\n      return computations\n    }\n\n    const frameStyle = getComputedStyle(frame)\n    const borderLeft = parseInt(frameStyle.borderLeftWidth as string, 10)\n    const borderTop = parseInt(frameStyle.borderTopWidth as string, 10)\n    const borderRight = parseInt(frameStyle.borderRightWidth as string, 10)\n    const borderBottom = parseInt(frameStyle.borderBottomWidth as string, 10)\n\n    let blockScroll: number = 0\n    let inlineScroll: number = 0\n\n    // The property existance checks for offfset[Width|Height] is because only HTMLElement objects have them, but any Element might pass by here\n    // @TODO find out if the \"as HTMLElement\" overrides can be dropped\n    const scrollbarWidth =\n      'offsetWidth' in frame\n        ? (frame as HTMLElement).offsetWidth -\n          (frame as HTMLElement).clientWidth -\n          borderLeft -\n          borderRight\n        : 0\n    const scrollbarHeight =\n      'offsetHeight' in frame\n        ? (frame as HTMLElement).offsetHeight -\n          (frame as HTMLElement).clientHeight -\n          borderTop -\n          borderBottom\n        : 0\n\n    if (scrollingElement === frame) {\n      // Handle viewport logic (document.documentElement or document.body)\n\n      if (block === 'start') {\n        blockScroll = targetBlock\n      } else if (block === 'end') {\n        blockScroll = targetBlock - viewportHeight\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(\n          viewportY,\n          viewportY + viewportHeight,\n          viewportHeight,\n          borderTop,\n          borderBottom,\n          viewportY + targetBlock,\n          viewportY + targetBlock + targetHeight,\n          targetHeight\n        )\n      } else {\n        // block === 'center' is the default\n        blockScroll = targetBlock - viewportHeight / 2\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - viewportWidth / 2\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - viewportWidth\n      } else {\n        // inline === 'nearest' is the default\n        inlineScroll = alignNearest(\n          viewportX,\n          viewportX + viewportWidth,\n          viewportWidth,\n          borderLeft,\n          borderRight,\n          viewportX + targetInline,\n          viewportX + targetInline + targetWidth,\n          targetWidth\n        )\n      }\n\n      // Apply scroll position offsets and ensure they are within bounds\n      // @TODO add more test cases to cover this 100%\n      blockScroll = Math.max(0, blockScroll + viewportY)\n      inlineScroll = Math.max(0, inlineScroll + viewportX)\n    } else {\n      // Handle each scrolling frame that might exist between the target and the viewport\n\n      if (block === 'start') {\n        blockScroll = targetBlock - top - borderTop\n      } else if (block === 'end') {\n        blockScroll = targetBlock - bottom + borderBottom + scrollbarHeight\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(\n          top,\n          bottom,\n          height,\n          borderTop,\n          borderBottom + scrollbarHeight,\n          targetBlock,\n          targetBlock + targetHeight,\n          targetHeight\n        )\n      } else {\n        // block === 'center' is the default\n        blockScroll = targetBlock - (top + height / 2) + scrollbarHeight / 2\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline - left - borderLeft\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - (left + width / 2) + scrollbarWidth / 2\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - right + borderRight + scrollbarWidth\n      } else {\n        // inline === 'nearest' is the default\n        inlineScroll = alignNearest(\n          left,\n          right,\n          width,\n          borderLeft,\n          borderRight + scrollbarWidth,\n          targetInline,\n          targetInline + targetWidth,\n          targetWidth\n        )\n      }\n\n      const { scrollLeft, scrollTop } = frame\n      // Ensure scroll coordinates are not out of bounds while applying scroll offsets\n      blockScroll = Math.max(\n        0,\n        Math.min(\n          scrollTop + blockScroll,\n          frame.scrollHeight - height + scrollbarHeight\n        )\n      )\n      inlineScroll = Math.max(\n        0,\n        Math.min(\n          scrollLeft + inlineScroll,\n          frame.scrollWidth - width + scrollbarWidth\n        )\n      )\n\n      // Cache the offset so that parent frames can scroll this into view correctly\n      targetBlock += scrollTop - blockScroll\n      targetInline += scrollLeft - inlineScroll\n    }\n\n    computations.push({ el: frame, top: blockScroll, left: inlineScroll })\n  }\n\n  return computations\n}\n","import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport { cloneElement, Component, useCallback, useReducer, useState, useEffect, useRef } from 'react';\nimport { isForwardRef } from 'react-is';\nimport computeScrollIntoView from 'compute-scroll-into-view';\n\nvar idCounter = 0;\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\n\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop;\n}\n\nfunction noop() {}\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\n\n\nfunction scrollIntoView(node, menuNode) {\n  if (node === null) {\n    return;\n  }\n\n  var actions = computeScrollIntoView(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed'\n  });\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n    el.scrollTop = top;\n    el.scrollLeft = left;\n  });\n}\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\n\n\nfunction isOrContainsNode(parent, child) {\n  return parent === child || parent.contains && parent.contains(child);\n}\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\n\n\nfunction debounce(fn, time) {\n  var timeoutId;\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n  }\n\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    cancel();\n    timeoutId = setTimeout(function () {\n      timeoutId = null;\n      fn.apply(void 0, args);\n    }, time);\n  }\n\n  wrapper.cancel = cancel;\n  return wrapper;\n}\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\n\n\nfunction callAllEventHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return fns.some(function (fn) {\n      if (fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return event.preventDownshiftDefault || event.hasOwnProperty('nativeEvent') && event.nativeEvent.preventDownshiftDefault;\n    });\n  };\n}\n\nfunction handleRefs() {\n  for (var _len4 = arguments.length, refs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    refs[_key4] = arguments[_key4];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      if (typeof ref === 'function') {\n        ref(node);\n      } else if (ref) {\n        ref.current = node;\n      }\n    });\n  };\n}\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {String} the unique ID\n */\n\n\nfunction generateId() {\n  return String(idCounter++);\n}\n/**\n * Resets idCounter to 0. Used for SSR.\n */\n\n\nfunction resetIdCounter() {\n  idCounter = 0;\n}\n/**\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\n\n\nfunction getA11yStatusMessage(_ref2) {\n  var isOpen = _ref2.isOpen,\n      selectedItem = _ref2.selectedItem,\n      resultCount = _ref2.resultCount,\n      previousResultCount = _ref2.previousResultCount,\n      itemToString = _ref2.itemToString;\n\n  if (!isOpen) {\n    return selectedItem ? itemToString(selectedItem) : '';\n  }\n\n  if (!resultCount) {\n    return 'No results are available.';\n  }\n\n  if (resultCount !== previousResultCount) {\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\n\n\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ?\n  /* istanbul ignore next (preact) */\n  arg[0] : arg;\n\n  if (!arg && defaultValue) {\n    return defaultValue;\n  } else {\n    return arg;\n  }\n}\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\n\n\nfunction isDOMElement(element) {\n  // then we assume this is react\n  return typeof element.type === 'string';\n}\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\n\n\nfunction getElementProps(element) {\n  return element.props;\n}\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\n\n\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(\"The property \\\"\" + propName + \"\\\" is required in \\\"\" + fnName + \"\\\"\");\n}\n\nvar stateKeys = ['highlightedIndex', 'inputValue', 'isOpen', 'selectedItem', 'type'];\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\n\nfunction pickState(state) {\n  if (state === void 0) {\n    state = {};\n  }\n\n  var result = {};\n  stateKeys.forEach(function (k) {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k];\n    }\n  });\n  return result;\n}\n/**\n * This will perform a shallow merge of the given state object\n * with the state coming from props\n * (for the controlled component scenario)\n * This is used in state updater functions so they're referencing\n * the right state regardless of where it comes from.\n *\n * @param {Object} state The state of the component/hook.\n * @param {Object} props The props that may contain controlled values.\n * @returns {Object} The merged controlled state.\n */\n\n\nfunction getState(state, props) {\n  return Object.keys(state).reduce(function (prevState, key) {\n    prevState[key] = isControlledProp(props, key) ? props[key] : state[key];\n    return prevState;\n  }, {});\n}\n/**\n * This determines whether a prop is a \"controlled prop\" meaning it is\n * state which is controlled by the outside of this component rather\n * than within this component.\n *\n * @param {Object} props The props that may contain controlled values.\n * @param {String} key the key to check\n * @return {Boolean} whether it is a controlled controlled prop\n */\n\n\nfunction isControlledProp(props, key) {\n  return props[key] !== undefined;\n}\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\n\n\nfunction normalizeArrowKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  /* istanbul ignore next (ie) */\n\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return \"Arrow\" + key;\n  }\n\n  return key;\n}\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\n\n\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n/**\n * Returns the new index in the list, in a circular way. If next value is out of bonds from the total,\n * it will wrap to either 0 or itemCount - 1.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @param {Function} getItemNodeFromIndex Used to check if item is disabled.\n * @param {boolean} circular Specify if navigation is circular. Default is true.\n * @returns {number} The new index after the move.\n */\n\n\nfunction getNextWrappingIndex(moveAmount, baseIndex, itemCount, getItemNodeFromIndex, circular) {\n  if (circular === void 0) {\n    circular = true;\n  }\n\n  var itemsLastIndex = itemCount - 1;\n\n  if (typeof baseIndex !== 'number' || baseIndex < 0 || baseIndex >= itemCount) {\n    baseIndex = moveAmount > 0 ? -1 : itemsLastIndex + 1;\n  }\n\n  var newIndex = baseIndex + moveAmount;\n\n  if (newIndex < 0) {\n    newIndex = circular ? itemsLastIndex : 0;\n  } else if (newIndex > itemsLastIndex) {\n    newIndex = circular ? 0 : itemsLastIndex;\n  }\n\n  var nonDisabledNewIndex = getNextNonDisabledIndex(moveAmount, newIndex, itemCount, getItemNodeFromIndex, circular);\n  return nonDisabledNewIndex === -1 ? baseIndex : nonDisabledNewIndex;\n}\n/**\n * Returns the next index in the list of an item that is not disabled.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @param {Function} getItemNodeFromIndex Used to check if item is disabled.\n * @param {boolean} circular Specify if navigation is circular. Default is true.\n * @returns {number} The new index. Returns baseIndex if item is not disabled. Returns next non-disabled item otherwise. If no non-disabled found it will return -1.\n */\n\n\nfunction getNextNonDisabledIndex(moveAmount, baseIndex, itemCount, getItemNodeFromIndex, circular) {\n  var currentElementNode = getItemNodeFromIndex(baseIndex);\n\n  if (!currentElementNode || !currentElementNode.hasAttribute('disabled')) {\n    return baseIndex;\n  }\n\n  if (moveAmount > 0) {\n    for (var index = baseIndex + 1; index < itemCount; index++) {\n      if (!getItemNodeFromIndex(index).hasAttribute('disabled')) {\n        return index;\n      }\n    }\n  } else {\n    for (var _index = baseIndex - 1; _index >= 0; _index--) {\n      if (!getItemNodeFromIndex(_index).hasAttribute('disabled')) {\n        return _index;\n      }\n    }\n  }\n\n  if (circular) {\n    return moveAmount > 0 ? getNextNonDisabledIndex(1, 0, itemCount, getItemNodeFromIndex, false) : getNextNonDisabledIndex(-1, itemCount - 1, itemCount, getItemNodeFromIndex, false);\n  }\n\n  return -1;\n}\n/**\n * Checks if event target is within the downshift elements.\n *\n * @param {EventTarget} target Target to check.\n * @param {HTMLElement} rootNode The element with combobox role.\n * @param {HTMLElement} menuNode The elements list with listbox role.\n * @param {Document} document The document.\n * @param {boolean} checkActiveElement Whether to also check activeElement.\n *\n * @returns {boolean} Whether or not the target is within downshift elements.\n */\n\n\nfunction targetWithinDownshift(target, rootNode, menuNode, document, checkActiveElement) {\n  if (checkActiveElement === void 0) {\n    checkActiveElement = true;\n  }\n\n  return [rootNode, menuNode].some(function (contextNode) {\n    return contextNode && (isOrContainsNode(contextNode, target) || checkActiveElement && isOrContainsNode(contextNode, document.activeElement));\n  });\n}\n\nvar cleanupStatus = debounce(function () {\n  getStatusDiv().textContent = '';\n}, 500);\n/**\n * @param {String} status the status message\n * @param {Object} documentProp document passed by the user.\n */\n\nfunction setStatus(status, documentProp) {\n  var div = getStatusDiv(documentProp);\n\n  if (!status) {\n    return;\n  }\n\n  div.textContent = status;\n  cleanupStatus();\n}\n/**\n * Get the status node or create it if it does not already exist.\n * @param {Object} documentProp document passed by the user.\n * @return {HTMLElement} the status node.\n */\n\n\nfunction getStatusDiv(documentProp) {\n  if (documentProp === void 0) {\n    documentProp = document;\n  }\n\n  var statusDiv = documentProp.getElementById('a11y-status-message');\n\n  if (statusDiv) {\n    return statusDiv;\n  }\n\n  statusDiv = documentProp.createElement('div');\n  statusDiv.setAttribute('id', 'a11y-status-message');\n  statusDiv.setAttribute('role', 'status');\n  statusDiv.setAttribute('aria-live', 'polite');\n  statusDiv.setAttribute('aria-relevant', 'additions text');\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px'\n  });\n  documentProp.body.appendChild(statusDiv);\n  return statusDiv;\n}\n\nvar unknown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_unknown__' : 0;\nvar mouseUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_mouseup__' : 1;\nvar itemMouseEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_item_mouseenter__' : 2;\nvar keyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_up__' : 3;\nvar keyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_down__' : 4;\nvar keyDownEscape = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_escape__' : 5;\nvar keyDownEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 6;\nvar keyDownHome = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_home__' : 7;\nvar keyDownEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_end__' : 8;\nvar clickItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_item__' : 9;\nvar blurInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_input__' : 10;\nvar changeInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_change_input__' : 11;\nvar keyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_space_button__' : 12;\nvar clickButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_button__' : 13;\nvar blurButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_button__' : 14;\nvar controlledPropUpdatedSelectedItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_controlled_prop_updated_selected_item__' : 15;\nvar touchEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_touchend__' : 16;\n\nvar stateChangeTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  unknown: unknown,\n  mouseUp: mouseUp,\n  itemMouseEnter: itemMouseEnter,\n  keyDownArrowUp: keyDownArrowUp,\n  keyDownArrowDown: keyDownArrowDown,\n  keyDownEscape: keyDownEscape,\n  keyDownEnter: keyDownEnter,\n  keyDownHome: keyDownHome,\n  keyDownEnd: keyDownEnd,\n  clickItem: clickItem,\n  blurInput: blurInput,\n  changeInput: changeInput,\n  keyDownSpaceButton: keyDownSpaceButton,\n  clickButton: clickButton,\n  blurButton: blurButton,\n  controlledPropUpdatedSelectedItem: controlledPropUpdatedSelectedItem,\n  touchEnd: touchEnd\n});\n\nvar Downshift =\n/*#__PURE__*/\nfunction () {\n  var Downshift =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Downshift, _Component);\n\n    function Downshift(_props) {\n      var _this = _Component.call(this, _props) || this;\n\n      _this.id = _this.props.id || \"downshift-\" + generateId();\n      _this.menuId = _this.props.menuId || _this.id + \"-menu\";\n      _this.labelId = _this.props.labelId || _this.id + \"-label\";\n      _this.inputId = _this.props.inputId || _this.id + \"-input\";\n\n      _this.getItemId = _this.props.getItemId || function (index) {\n        return _this.id + \"-item-\" + index;\n      };\n\n      _this.input = null;\n      _this.items = [];\n      _this.itemCount = null;\n      _this.previousResultCount = 0;\n      _this.timeoutIds = [];\n\n      _this.internalSetTimeout = function (fn, time) {\n        var id = setTimeout(function () {\n          _this.timeoutIds = _this.timeoutIds.filter(function (i) {\n            return i !== id;\n          });\n          fn();\n        }, time);\n\n        _this.timeoutIds.push(id);\n      };\n\n      _this.setItemCount = function (count) {\n        _this.itemCount = count;\n      };\n\n      _this.unsetItemCount = function () {\n        _this.itemCount = null;\n      };\n\n      _this.setHighlightedIndex = function (highlightedIndex, otherStateToSet) {\n        if (highlightedIndex === void 0) {\n          highlightedIndex = _this.props.defaultHighlightedIndex;\n        }\n\n        if (otherStateToSet === void 0) {\n          otherStateToSet = {};\n        }\n\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(_extends({\n          highlightedIndex: highlightedIndex\n        }, otherStateToSet));\n      };\n\n      _this.clearSelection = function (cb) {\n        _this.internalSetState({\n          selectedItem: null,\n          inputValue: '',\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          isOpen: _this.props.defaultIsOpen\n        }, cb);\n      };\n\n      _this.selectItem = function (item, otherStateToSet, cb) {\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(_extends({\n          isOpen: _this.props.defaultIsOpen,\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          selectedItem: item,\n          inputValue: _this.props.itemToString(item)\n        }, otherStateToSet), cb);\n      };\n\n      _this.selectItemAtIndex = function (itemIndex, otherStateToSet, cb) {\n        var item = _this.items[itemIndex];\n\n        if (item == null) {\n          return;\n        }\n\n        _this.selectItem(item, otherStateToSet, cb);\n      };\n\n      _this.selectHighlightedItem = function (otherStateToSet, cb) {\n        return _this.selectItemAtIndex(_this.getState().highlightedIndex, otherStateToSet, cb);\n      };\n\n      _this.internalSetState = function (stateToSet, cb) {\n        var isItemSelected, onChangeArg;\n        var onStateChangeArg = {};\n        var isStateToSetFunction = typeof stateToSet === 'function'; // we want to call `onInputValueChange` before the `setState` call\n        // so someone controlling the `inputValue` state gets notified of\n        // the input change as soon as possible. This avoids issues with\n        // preserving the cursor position.\n        // See https://github.com/downshift-js/downshift/issues/217 for more info.\n\n        if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n          _this.props.onInputValueChange(stateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), {}, stateToSet));\n        }\n\n        return _this.setState(function (state) {\n          state = _this.getState(state);\n          var newStateToSet = isStateToSetFunction ? stateToSet(state) : stateToSet; // Your own function that could modify the state that will be set.\n\n          newStateToSet = _this.props.stateReducer(state, newStateToSet); // checks if an item is selected, regardless of if it's different from\n          // what was selected before\n          // used to determine if onSelect and onChange callbacks should be called\n\n          isItemSelected = newStateToSet.hasOwnProperty('selectedItem'); // this keeps track of the object we want to call with setState\n\n          var nextState = {}; // this is just used to tell whether the state changed\n\n          var nextFullState = {}; // we need to call on change if the outside world is controlling any of our state\n          // and we're trying to update that state. OR if the selection has changed and we're\n          // trying to update the selection\n\n          if (isItemSelected && newStateToSet.selectedItem !== state.selectedItem) {\n            onChangeArg = newStateToSet.selectedItem;\n          }\n\n          newStateToSet.type = newStateToSet.type || unknown;\n          Object.keys(newStateToSet).forEach(function (key) {\n            // onStateChangeArg should only have the state that is\n            // actually changing\n            if (state[key] !== newStateToSet[key]) {\n              onStateChangeArg[key] = newStateToSet[key];\n            } // the type is useful for the onStateChangeArg\n            // but we don't actually want to set it in internal state.\n            // this is an undocumented feature for now... Not all internalSetState\n            // calls support it and I'm not certain we want them to yet.\n            // But it enables users controlling the isOpen state to know when\n            // the isOpen state changes due to mouseup events which is quite handy.\n\n\n            if (key === 'type') {\n              return;\n            }\n\n            nextFullState[key] = newStateToSet[key]; // if it's coming from props, then we don't care to set it internally\n\n            if (!isControlledProp(_this.props, key)) {\n              nextState[key] = newStateToSet[key];\n            }\n          }); // if stateToSet is a function, then we weren't able to call onInputValueChange\n          // earlier, so we'll call it now that we know what the inputValue state will be.\n\n          if (isStateToSetFunction && newStateToSet.hasOwnProperty('inputValue')) {\n            _this.props.onInputValueChange(newStateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), {}, newStateToSet));\n          }\n\n          return nextState;\n        }, function () {\n          // call the provided callback if it's a function\n          cbToCb(cb)(); // only call the onStateChange and onChange callbacks if\n          // we have relevant information to pass them.\n\n          var hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1;\n\n          if (hasMoreStateThanType) {\n            _this.props.onStateChange(onStateChangeArg, _this.getStateAndHelpers());\n          }\n\n          if (isItemSelected) {\n            _this.props.onSelect(stateToSet.selectedItem, _this.getStateAndHelpers());\n          }\n\n          if (onChangeArg !== undefined) {\n            _this.props.onChange(onChangeArg, _this.getStateAndHelpers());\n          } // this is currently undocumented and therefore subject to change\n          // We'll try to not break it, but just be warned.\n\n\n          _this.props.onUserAction(onStateChangeArg, _this.getStateAndHelpers());\n        });\n      };\n\n      _this.rootRef = function (node) {\n        return _this._rootNode = node;\n      };\n\n      _this.getRootProps = function (_temp, _temp2) {\n        var _extends2;\n\n        var _ref = _temp === void 0 ? {} : _temp,\n            _ref$refKey = _ref.refKey,\n            refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n            ref = _ref.ref,\n            rest = _objectWithoutPropertiesLoose(_ref, [\"refKey\", \"ref\"]);\n\n        var _ref2 = _temp2 === void 0 ? {} : _temp2,\n            _ref2$suppressRefErro = _ref2.suppressRefError,\n            suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n\n        // this is used in the render to know whether the user has called getRootProps.\n        // It uses that to know whether to apply the props automatically\n        _this.getRootProps.called = true;\n        _this.getRootProps.refKey = refKey;\n        _this.getRootProps.suppressRefError = suppressRefError;\n\n        var _this$getState = _this.getState(),\n            isOpen = _this$getState.isOpen;\n\n        return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, _this.rootRef), _extends2.role = 'combobox', _extends2['aria-expanded'] = isOpen, _extends2['aria-haspopup'] = 'listbox', _extends2['aria-owns'] = isOpen ? _this.menuId : null, _extends2['aria-labelledby'] = _this.labelId, _extends2), rest);\n      };\n\n      _this.keyDownHandlers = {\n        ArrowDown: function ArrowDown(event) {\n          var _this2 = this;\n\n          event.preventDefault();\n\n          if (this.getState().isOpen) {\n            var amount = event.shiftKey ? 5 : 1;\n            this.moveHighlightedIndex(amount, {\n              type: keyDownArrowDown\n            });\n          } else {\n            this.internalSetState({\n              isOpen: true,\n              type: keyDownArrowDown\n            }, function () {\n              var itemCount = _this2.getItemCount();\n\n              if (itemCount > 0) {\n                var _this2$getState = _this2.getState(),\n                    highlightedIndex = _this2$getState.highlightedIndex;\n\n                var nextHighlightedIndex = getNextWrappingIndex(1, highlightedIndex, itemCount, function (index) {\n                  return _this2.getItemNodeFromIndex(index);\n                });\n\n                _this2.setHighlightedIndex(nextHighlightedIndex, {\n                  type: keyDownArrowDown\n                });\n              }\n            });\n          }\n        },\n        ArrowUp: function ArrowUp(event) {\n          var _this3 = this;\n\n          event.preventDefault();\n\n          if (this.getState().isOpen) {\n            var amount = event.shiftKey ? -5 : -1;\n            this.moveHighlightedIndex(amount, {\n              type: keyDownArrowUp\n            });\n          } else {\n            this.internalSetState({\n              isOpen: true,\n              type: keyDownArrowUp\n            }, function () {\n              var itemCount = _this3.getItemCount();\n\n              if (itemCount > 0) {\n                var _this3$getState = _this3.getState(),\n                    highlightedIndex = _this3$getState.highlightedIndex;\n\n                var nextHighlightedIndex = getNextWrappingIndex(-1, highlightedIndex, itemCount, function (index) {\n                  return _this3.getItemNodeFromIndex(index);\n                });\n\n                _this3.setHighlightedIndex(nextHighlightedIndex, {\n                  type: keyDownArrowUp\n                });\n              }\n            });\n          }\n        },\n        Enter: function Enter(event) {\n          var _this$getState2 = this.getState(),\n              isOpen = _this$getState2.isOpen,\n              highlightedIndex = _this$getState2.highlightedIndex;\n\n          if (isOpen && highlightedIndex != null) {\n            event.preventDefault();\n            var item = this.items[highlightedIndex];\n            var itemNode = this.getItemNodeFromIndex(highlightedIndex);\n\n            if (item == null || itemNode && itemNode.hasAttribute('disabled')) {\n              return;\n            }\n\n            this.selectHighlightedItem({\n              type: keyDownEnter\n            });\n          }\n        },\n        Escape: function Escape(event) {\n          event.preventDefault();\n          this.reset({\n            type: keyDownEscape,\n            selectedItem: null,\n            inputValue: ''\n          });\n        }\n      };\n      _this.buttonKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n        ' ': function _(event) {\n          event.preventDefault();\n          this.toggleMenu({\n            type: keyDownSpaceButton\n          });\n        }\n      });\n      _this.inputKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n        Home: function Home(event) {\n          var _this4 = this;\n\n          event.preventDefault();\n          var itemCount = this.getItemCount();\n\n          var _this$getState3 = this.getState(),\n              isOpen = _this$getState3.isOpen;\n\n          if (itemCount <= 0 || !isOpen) {\n            return;\n          } // get next non-disabled starting downwards from 0 if that's disabled.\n\n\n          var newHighlightedIndex = getNextNonDisabledIndex(1, 0, itemCount, function (index) {\n            return _this4.getItemNodeFromIndex(index);\n          }, false);\n          this.setHighlightedIndex(newHighlightedIndex, {\n            type: keyDownHome\n          });\n        },\n        End: function End(event) {\n          var _this5 = this;\n\n          event.preventDefault();\n          var itemCount = this.getItemCount();\n\n          var _this$getState4 = this.getState(),\n              isOpen = _this$getState4.isOpen;\n\n          if (itemCount <= 0 || !isOpen) {\n            return;\n          } // get next non-disabled starting upwards from last index if that's disabled.\n\n\n          var newHighlightedIndex = getNextNonDisabledIndex(-1, itemCount - 1, itemCount, function (index) {\n            return _this5.getItemNodeFromIndex(index);\n          }, false);\n          this.setHighlightedIndex(newHighlightedIndex, {\n            type: keyDownEnd\n          });\n        }\n      });\n\n      _this.getToggleButtonProps = function (_temp3) {\n        var _ref3 = _temp3 === void 0 ? {} : _temp3,\n            onClick = _ref3.onClick,\n            onPress = _ref3.onPress,\n            onKeyDown = _ref3.onKeyDown,\n            onKeyUp = _ref3.onKeyUp,\n            onBlur = _ref3.onBlur,\n            rest = _objectWithoutPropertiesLoose(_ref3, [\"onClick\", \"onPress\", \"onKeyDown\", \"onKeyUp\", \"onBlur\"]);\n\n        var _this$getState5 = _this.getState(),\n            isOpen = _this$getState5.isOpen;\n\n        var enabledEventHandlers = {\n          onClick: callAllEventHandlers(onClick, _this.buttonHandleClick),\n          onKeyDown: callAllEventHandlers(onKeyDown, _this.buttonHandleKeyDown),\n          onKeyUp: callAllEventHandlers(onKeyUp, _this.buttonHandleKeyUp),\n          onBlur: callAllEventHandlers(onBlur, _this.buttonHandleBlur)\n        };\n        var eventHandlers = rest.disabled ? {} : enabledEventHandlers;\n        return _extends({\n          type: 'button',\n          role: 'button',\n          'aria-label': isOpen ? 'close menu' : 'open menu',\n          'aria-haspopup': true,\n          'data-toggle': true\n        }, eventHandlers, {}, rest);\n      };\n\n      _this.buttonHandleKeyUp = function (event) {\n        // Prevent click event from emitting in Firefox\n        event.preventDefault();\n      };\n\n      _this.buttonHandleKeyDown = function (event) {\n        var key = normalizeArrowKey(event);\n\n        if (_this.buttonKeyDownHandlers[key]) {\n          _this.buttonKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n        }\n      };\n\n      _this.buttonHandleClick = function (event) {\n        event.preventDefault(); // handle odd case for Safari and Firefox which\n        // don't give the button the focus properly.\n\n        /* istanbul ignore if (can't reasonably test this) */\n\n        if ( _this.props.environment.document.activeElement === _this.props.environment.document.body) {\n          event.target.focus();\n        } // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n        // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n        // when building for production and should therefore have no impact on production code.\n\n\n        if (process.env.NODE_ENV === 'test') {\n          _this.toggleMenu({\n            type: clickButton\n          });\n        } else {\n          // Ensure that toggle of menu occurs after the potential blur event in iOS\n          _this.internalSetTimeout(function () {\n            return _this.toggleMenu({\n              type: clickButton\n            });\n          });\n        }\n      };\n\n      _this.buttonHandleBlur = function (event) {\n        var blurTarget = event.target; // Save blur target for comparison with activeElement later\n        // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n\n        _this.internalSetTimeout(function () {\n          if (!_this.isMouseDown && (_this.props.environment.document.activeElement == null || _this.props.environment.document.activeElement.id !== _this.inputId) && _this.props.environment.document.activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n          ) {\n              _this.reset({\n                type: blurButton\n              });\n            }\n        });\n      };\n\n      _this.getLabelProps = function (props) {\n        return _extends({\n          htmlFor: _this.inputId,\n          id: _this.labelId\n        }, props);\n      };\n\n      _this.getInputProps = function (_temp4) {\n        var _ref4 = _temp4 === void 0 ? {} : _temp4,\n            onKeyDown = _ref4.onKeyDown,\n            onBlur = _ref4.onBlur,\n            onChange = _ref4.onChange,\n            onInput = _ref4.onInput,\n            onChangeText = _ref4.onChangeText,\n            rest = _objectWithoutPropertiesLoose(_ref4, [\"onKeyDown\", \"onBlur\", \"onChange\", \"onInput\", \"onChangeText\"]);\n\n        var onChangeKey;\n        var eventHandlers = {};\n        /* istanbul ignore next (preact) */\n\n        onChangeKey = 'onChange';\n\n        var _this$getState6 = _this.getState(),\n            inputValue = _this$getState6.inputValue,\n            isOpen = _this$getState6.isOpen,\n            highlightedIndex = _this$getState6.highlightedIndex;\n\n        if (!rest.disabled) {\n          var _eventHandlers;\n\n          eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, _this.inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, _this.inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, _this.inputHandleBlur), _eventHandlers);\n        }\n        /* istanbul ignore if (react-native) */\n\n\n        return _extends({\n          'aria-autocomplete': 'list',\n          'aria-activedescendant': isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0 ? _this.getItemId(highlightedIndex) : null,\n          'aria-controls': isOpen ? _this.menuId : null,\n          'aria-labelledby': _this.labelId,\n          // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n          // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n          autoComplete: 'off',\n          value: inputValue,\n          id: _this.inputId\n        }, eventHandlers, {}, rest);\n      };\n\n      _this.inputHandleKeyDown = function (event) {\n        var key = normalizeArrowKey(event);\n\n        if (key && _this.inputKeyDownHandlers[key]) {\n          _this.inputKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n        }\n      };\n\n      _this.inputHandleChange = function (event) {\n        _this.internalSetState({\n          type: changeInput,\n          isOpen: true,\n          inputValue: event.target.value,\n          highlightedIndex: _this.props.defaultHighlightedIndex\n        });\n      };\n\n      _this.inputHandleBlur = function () {\n        // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n        _this.internalSetTimeout(function () {\n          var downshiftButtonIsActive = _this.props.environment.document && !!_this.props.environment.document.activeElement && !!_this.props.environment.document.activeElement.dataset && _this.props.environment.document.activeElement.dataset.toggle && _this._rootNode && _this._rootNode.contains(_this.props.environment.document.activeElement);\n\n          if (!_this.isMouseDown && !downshiftButtonIsActive) {\n            _this.reset({\n              type: blurInput\n            });\n          }\n        });\n      };\n\n      _this.menuRef = function (node) {\n        _this._menuNode = node;\n      };\n\n      _this.getMenuProps = function (_temp5, _temp6) {\n        var _extends3;\n\n        var _ref5 = _temp5 === void 0 ? {} : _temp5,\n            _ref5$refKey = _ref5.refKey,\n            refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n            ref = _ref5.ref,\n            props = _objectWithoutPropertiesLoose(_ref5, [\"refKey\", \"ref\"]);\n\n        var _ref6 = _temp6 === void 0 ? {} : _temp6,\n            _ref6$suppressRefErro = _ref6.suppressRefError,\n            suppressRefError = _ref6$suppressRefErro === void 0 ? false : _ref6$suppressRefErro;\n\n        _this.getMenuProps.called = true;\n        _this.getMenuProps.refKey = refKey;\n        _this.getMenuProps.suppressRefError = suppressRefError;\n        return _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, _this.menuRef), _extends3.role = 'listbox', _extends3['aria-labelledby'] = props && props['aria-label'] ? null : _this.labelId, _extends3.id = _this.menuId, _extends3), props);\n      };\n\n      _this.getItemProps = function (_temp7) {\n        var _enabledEventHandlers;\n\n        var _ref7 = _temp7 === void 0 ? {} : _temp7,\n            onMouseMove = _ref7.onMouseMove,\n            onMouseDown = _ref7.onMouseDown,\n            onClick = _ref7.onClick,\n            onPress = _ref7.onPress,\n            index = _ref7.index,\n            _ref7$item = _ref7.item,\n            item = _ref7$item === void 0 ? process.env.NODE_ENV === 'production' ?\n        /* istanbul ignore next */\n        undefined : requiredProp('getItemProps', 'item') : _ref7$item,\n            rest = _objectWithoutPropertiesLoose(_ref7, [\"onMouseMove\", \"onMouseDown\", \"onClick\", \"onPress\", \"index\", \"item\"]);\n\n        if (index === undefined) {\n          _this.items.push(item);\n\n          index = _this.items.indexOf(item);\n        } else {\n          _this.items[index] = item;\n        }\n\n        var onSelectKey = 'onClick';\n        var customClickHandler = onClick;\n        var enabledEventHandlers = (_enabledEventHandlers = {\n          // onMouseMove is used over onMouseEnter here. onMouseMove\n          // is only triggered on actual mouse movement while onMouseEnter\n          // can fire on DOM changes, interrupting keyboard navigation\n          onMouseMove: callAllEventHandlers(onMouseMove, function () {\n            if (index === _this.getState().highlightedIndex) {\n              return;\n            }\n\n            _this.setHighlightedIndex(index, {\n              type: itemMouseEnter\n            }); // We never want to manually scroll when changing state based\n            // on `onMouseMove` because we will be moving the element out\n            // from under the user which is currently scrolling/moving the\n            // cursor\n\n\n            _this.avoidScrolling = true;\n\n            _this.internalSetTimeout(function () {\n              return _this.avoidScrolling = false;\n            }, 250);\n          }),\n          onMouseDown: callAllEventHandlers(onMouseDown, function (event) {\n            // This prevents the activeElement from being changed\n            // to the item so it can remain with the current activeElement\n            // which is a more common use case.\n            event.preventDefault();\n          })\n        }, _enabledEventHandlers[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n          _this.selectItemAtIndex(index, {\n            type: clickItem\n          });\n        }), _enabledEventHandlers); // Passing down the onMouseDown handler to prevent redirect\n        // of the activeElement if clicking on disabled items\n\n        var eventHandlers = rest.disabled ? {\n          onMouseDown: enabledEventHandlers.onMouseDown\n        } : enabledEventHandlers;\n        return _extends({\n          id: _this.getItemId(index),\n          role: 'option',\n          'aria-selected': _this.getState().highlightedIndex === index\n        }, eventHandlers, {}, rest);\n      };\n\n      _this.clearItems = function () {\n        _this.items = [];\n      };\n\n      _this.reset = function (otherStateToSet, cb) {\n        if (otherStateToSet === void 0) {\n          otherStateToSet = {};\n        }\n\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(function (_ref8) {\n          var selectedItem = _ref8.selectedItem;\n          return _extends({\n            isOpen: _this.props.defaultIsOpen,\n            highlightedIndex: _this.props.defaultHighlightedIndex,\n            inputValue: _this.props.itemToString(selectedItem)\n          }, otherStateToSet);\n        }, cb);\n      };\n\n      _this.toggleMenu = function (otherStateToSet, cb) {\n        if (otherStateToSet === void 0) {\n          otherStateToSet = {};\n        }\n\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(function (_ref9) {\n          var isOpen = _ref9.isOpen;\n          return _extends({\n            isOpen: !isOpen\n          }, isOpen && {\n            highlightedIndex: _this.props.defaultHighlightedIndex\n          }, {}, otherStateToSet);\n        }, function () {\n          var _this$getState7 = _this.getState(),\n              isOpen = _this$getState7.isOpen,\n              highlightedIndex = _this$getState7.highlightedIndex;\n\n          if (isOpen) {\n            if (_this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n              _this.setHighlightedIndex(highlightedIndex, otherStateToSet);\n            }\n          }\n\n          cbToCb(cb)();\n        });\n      };\n\n      _this.openMenu = function (cb) {\n        _this.internalSetState({\n          isOpen: true\n        }, cb);\n      };\n\n      _this.closeMenu = function (cb) {\n        _this.internalSetState({\n          isOpen: false\n        }, cb);\n      };\n\n      _this.updateStatus = debounce(function () {\n        var state = _this.getState();\n\n        var item = _this.items[state.highlightedIndex];\n\n        var resultCount = _this.getItemCount();\n\n        var status = _this.props.getA11yStatusMessage(_extends({\n          itemToString: _this.props.itemToString,\n          previousResultCount: _this.previousResultCount,\n          resultCount: resultCount,\n          highlightedItem: item\n        }, state));\n\n        _this.previousResultCount = resultCount;\n        setStatus(status, _this.props.environment.document);\n      }, 200);\n\n      // fancy destructuring + defaults + aliases\n      // this basically says each value of state should either be set to\n      // the initial value or the default value if the initial value is not provided\n      var _this$props = _this.props,\n          defaultHighlightedIndex = _this$props.defaultHighlightedIndex,\n          _this$props$initialHi = _this$props.initialHighlightedIndex,\n          _highlightedIndex = _this$props$initialHi === void 0 ? defaultHighlightedIndex : _this$props$initialHi,\n          defaultIsOpen = _this$props.defaultIsOpen,\n          _this$props$initialIs = _this$props.initialIsOpen,\n          _isOpen = _this$props$initialIs === void 0 ? defaultIsOpen : _this$props$initialIs,\n          _this$props$initialIn = _this$props.initialInputValue,\n          _inputValue = _this$props$initialIn === void 0 ? '' : _this$props$initialIn,\n          _this$props$initialSe = _this$props.initialSelectedItem,\n          _selectedItem = _this$props$initialSe === void 0 ? null : _this$props$initialSe;\n\n      var _state = _this.getState({\n        highlightedIndex: _highlightedIndex,\n        isOpen: _isOpen,\n        inputValue: _inputValue,\n        selectedItem: _selectedItem\n      });\n\n      if (_state.selectedItem != null && _this.props.initialInputValue === undefined) {\n        _state.inputValue = _this.props.itemToString(_state.selectedItem);\n      }\n\n      _this.state = _state;\n      return _this;\n    }\n\n    var _proto = Downshift.prototype;\n\n    /**\n     * Clear all running timeouts\n     */\n    _proto.internalClearTimeouts = function internalClearTimeouts() {\n      this.timeoutIds.forEach(function (id) {\n        clearTimeout(id);\n      });\n      this.timeoutIds = [];\n    }\n    /**\n     * Gets the state based on internal state or props\n     * If a state value is passed via props, then that\n     * is the value given, otherwise it's retrieved from\n     * stateToMerge\n     *\n     * @param {Object} stateToMerge defaults to this.state\n     * @return {Object} the state\n     */\n    ;\n\n    _proto.getState = function getState$1(stateToMerge) {\n      if (stateToMerge === void 0) {\n        stateToMerge = this.state;\n      }\n\n      return getState(stateToMerge, this.props);\n    };\n\n    _proto.getItemCount = function getItemCount() {\n      // things read better this way. They're in priority order:\n      // 1. `this.itemCount`\n      // 2. `this.props.itemCount`\n      // 3. `this.items.length`\n      var itemCount = this.items.length;\n\n      if (this.itemCount != null) {\n        itemCount = this.itemCount;\n      } else if (this.props.itemCount !== undefined) {\n        itemCount = this.props.itemCount;\n      }\n\n      return itemCount;\n    };\n\n    _proto.getItemNodeFromIndex = function getItemNodeFromIndex(index) {\n      return this.props.environment.document.getElementById(this.getItemId(index));\n    };\n\n    _proto.scrollHighlightedItemIntoView = function scrollHighlightedItemIntoView() {\n      /* istanbul ignore else (react-native) */\n      {\n        var node = this.getItemNodeFromIndex(this.getState().highlightedIndex);\n        this.props.scrollIntoView(node, this._menuNode);\n      }\n    };\n\n    _proto.moveHighlightedIndex = function moveHighlightedIndex(amount, otherStateToSet) {\n      var _this6 = this;\n\n      var itemCount = this.getItemCount();\n\n      var _this$getState8 = this.getState(),\n          highlightedIndex = _this$getState8.highlightedIndex;\n\n      if (itemCount > 0) {\n        var nextHighlightedIndex = getNextWrappingIndex(amount, highlightedIndex, itemCount, function (index) {\n          return _this6.getItemNodeFromIndex(index);\n        });\n        this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet);\n      }\n    };\n\n    _proto.getStateAndHelpers = function getStateAndHelpers() {\n      var _this$getState9 = this.getState(),\n          highlightedIndex = _this$getState9.highlightedIndex,\n          inputValue = _this$getState9.inputValue,\n          selectedItem = _this$getState9.selectedItem,\n          isOpen = _this$getState9.isOpen;\n\n      var itemToString = this.props.itemToString;\n      var id = this.id;\n      var getRootProps = this.getRootProps,\n          getToggleButtonProps = this.getToggleButtonProps,\n          getLabelProps = this.getLabelProps,\n          getMenuProps = this.getMenuProps,\n          getInputProps = this.getInputProps,\n          getItemProps = this.getItemProps,\n          openMenu = this.openMenu,\n          closeMenu = this.closeMenu,\n          toggleMenu = this.toggleMenu,\n          selectItem = this.selectItem,\n          selectItemAtIndex = this.selectItemAtIndex,\n          selectHighlightedItem = this.selectHighlightedItem,\n          setHighlightedIndex = this.setHighlightedIndex,\n          clearSelection = this.clearSelection,\n          clearItems = this.clearItems,\n          reset = this.reset,\n          setItemCount = this.setItemCount,\n          unsetItemCount = this.unsetItemCount,\n          setState = this.internalSetState;\n      return {\n        // prop getters\n        getRootProps: getRootProps,\n        getToggleButtonProps: getToggleButtonProps,\n        getLabelProps: getLabelProps,\n        getMenuProps: getMenuProps,\n        getInputProps: getInputProps,\n        getItemProps: getItemProps,\n        // actions\n        reset: reset,\n        openMenu: openMenu,\n        closeMenu: closeMenu,\n        toggleMenu: toggleMenu,\n        selectItem: selectItem,\n        selectItemAtIndex: selectItemAtIndex,\n        selectHighlightedItem: selectHighlightedItem,\n        setHighlightedIndex: setHighlightedIndex,\n        clearSelection: clearSelection,\n        clearItems: clearItems,\n        setItemCount: setItemCount,\n        unsetItemCount: unsetItemCount,\n        setState: setState,\n        // props\n        itemToString: itemToString,\n        // derived\n        id: id,\n        // state\n        highlightedIndex: highlightedIndex,\n        inputValue: inputValue,\n        isOpen: isOpen,\n        selectedItem: selectedItem\n      };\n    } //////////////////////////// ROOT\n    ;\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this7 = this;\n\n      /* istanbul ignore if (react-native) */\n      if (process.env.NODE_ENV !== 'production' && !false && this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n      }\n      /* istanbul ignore if (react-native) */\n\n\n      {\n        // this.isMouseDown helps us track whether the mouse is currently held down.\n        // This is useful when the user clicks on an item in the list, but holds the mouse\n        // down long enough for the list to disappear (because the blur event fires on the input)\n        // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n        // trigger hiding the menu.\n        var onMouseDown = function () {\n          _this7.isMouseDown = true;\n        };\n\n        var onMouseUp = function (event) {\n          _this7.isMouseDown = false; // if the target element or the activeElement is within a downshift node\n          // then we don't want to reset downshift\n\n          var contextWithinDownshift = targetWithinDownshift(event.target, _this7._rootNode, _this7._menuNode, _this7.props.environment.document);\n\n          if (!contextWithinDownshift && _this7.getState().isOpen) {\n            _this7.reset({\n              type: mouseUp\n            }, function () {\n              return _this7.props.onOuterClick(_this7.getStateAndHelpers());\n            });\n          }\n        }; // Touching an element in iOS gives focus and hover states, but touching out of\n        // the element will remove hover, and persist the focus state, resulting in the\n        // blur event not being triggered.\n        // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n        // If the user taps outside of Downshift, the component should be reset,\n        // but not if the user is swiping\n\n\n        var onTouchStart = function () {\n          _this7.isTouchMove = false;\n        };\n\n        var onTouchMove = function () {\n          _this7.isTouchMove = true;\n        };\n\n        var onTouchEnd = function (event) {\n          var contextWithinDownshift = targetWithinDownshift(event.target, _this7._rootNode, _this7._menuNode, _this7.props.environment.document, false);\n\n          if (!_this7.isTouchMove && !contextWithinDownshift && _this7.getState().isOpen) {\n            _this7.reset({\n              type: touchEnd\n            }, function () {\n              return _this7.props.onOuterClick(_this7.getStateAndHelpers());\n            });\n          }\n        };\n\n        var environment = this.props.environment;\n        environment.addEventListener('mousedown', onMouseDown);\n        environment.addEventListener('mouseup', onMouseUp);\n        environment.addEventListener('touchstart', onTouchStart);\n        environment.addEventListener('touchmove', onTouchMove);\n        environment.addEventListener('touchend', onTouchEnd);\n\n        this.cleanup = function () {\n          _this7.internalClearTimeouts();\n\n          _this7.updateStatus.cancel();\n\n          environment.removeEventListener('mousedown', onMouseDown);\n          environment.removeEventListener('mouseup', onMouseUp);\n          environment.removeEventListener('touchstart', onTouchStart);\n          environment.removeEventListener('touchmove', onTouchMove);\n          environment.removeEventListener('touchend', onTouchEnd);\n        };\n      }\n    };\n\n    _proto.shouldScroll = function shouldScroll(prevState, prevProps) {\n      var _ref10 = this.props.highlightedIndex === undefined ? this.getState() : this.props,\n          currentHighlightedIndex = _ref10.highlightedIndex;\n\n      var _ref11 = prevProps.highlightedIndex === undefined ? prevState : prevProps,\n          prevHighlightedIndex = _ref11.highlightedIndex;\n\n      var scrollWhenOpen = currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen;\n      return scrollWhenOpen || currentHighlightedIndex !== prevHighlightedIndex;\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateControlledUnchanged(prevProps, this.props);\n        /* istanbul ignore if (react-native) */\n\n        if ( this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n          validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n        }\n      }\n\n      if (isControlledProp(this.props, 'selectedItem') && this.props.selectedItemChanged(prevProps.selectedItem, this.props.selectedItem)) {\n        this.internalSetState({\n          type: controlledPropUpdatedSelectedItem,\n          inputValue: this.props.itemToString(this.props.selectedItem)\n        });\n      }\n\n      if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n        this.scrollHighlightedItemIntoView();\n      }\n      /* istanbul ignore else (react-native) */\n\n\n      this.updateStatus();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.cleanup(); // avoids memory leak\n    };\n\n    _proto.render = function render() {\n      var children = unwrapArray(this.props.children, noop); // because the items are rerendered every time we call the children\n      // we clear this out each render and it will be populated again as\n      // getItemProps is called.\n\n      this.clearItems(); // we reset this so we know whether the user calls getRootProps during\n      // this render. If they do then we don't need to do anything,\n      // if they don't then we need to clone the element they return and\n      // apply the props for them.\n\n      this.getRootProps.called = false;\n      this.getRootProps.refKey = undefined;\n      this.getRootProps.suppressRefError = undefined; // we do something similar for getMenuProps\n\n      this.getMenuProps.called = false;\n      this.getMenuProps.refKey = undefined;\n      this.getMenuProps.suppressRefError = undefined; // we do something similar for getLabelProps\n\n      this.getLabelProps.called = false; // and something similar for getInputProps\n\n      this.getInputProps.called = false;\n      var element = unwrapArray(children(this.getStateAndHelpers()));\n\n      if (!element) {\n        return null;\n      }\n\n      if (this.getRootProps.called || this.props.suppressRefError) {\n        if (process.env.NODE_ENV !== 'production' && !this.getRootProps.suppressRefError && !this.props.suppressRefError) {\n          validateGetRootPropsCalledCorrectly(element, this.getRootProps);\n        }\n\n        return element;\n      } else if (isDOMElement(element)) {\n        // they didn't apply the root props, but we can clone\n        // this and apply the props ourselves\n        return cloneElement(element, this.getRootProps(getElementProps(element)));\n      }\n      /* istanbul ignore else */\n\n\n      if (process.env.NODE_ENV !== 'production') {\n        // they didn't apply the root props, but they need to\n        // otherwise we can't query around the autocomplete\n        throw new Error('downshift: If you return a non-DOM element, you must apply the getRootProps function');\n      }\n      /* istanbul ignore next */\n\n\n      return undefined;\n    };\n\n    return Downshift;\n  }(Component);\n\n  Downshift.defaultProps = {\n    defaultHighlightedIndex: null,\n    defaultIsOpen: false,\n    getA11yStatusMessage: getA11yStatusMessage,\n    itemToString: function itemToString(i) {\n      if (i == null) {\n        return '';\n      }\n\n      if (process.env.NODE_ENV !== 'production' && isPlainObject(i) && !i.hasOwnProperty('toString')) {\n        // eslint-disable-next-line no-console\n        console.warn('downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.', 'The object that was passed:', i);\n      }\n\n      return String(i);\n    },\n    onStateChange: noop,\n    onInputValueChange: noop,\n    onUserAction: noop,\n    onChange: noop,\n    onSelect: noop,\n    onOuterClick: noop,\n    selectedItemChanged: function selectedItemChanged(prevItem, item) {\n      return prevItem !== item;\n    },\n    environment: typeof window === 'undefined'\n    /* istanbul ignore next (ssr) */\n    ? {} : window,\n    stateReducer: function stateReducer(state, stateToSet) {\n      return stateToSet;\n    },\n    suppressRefError: false,\n    scrollIntoView: scrollIntoView\n  };\n  Downshift.stateChangeTypes = stateChangeTypes;\n  return Downshift;\n}();\n\nprocess.env.NODE_ENV !== \"production\" ? Downshift.propTypes = {\n  children: PropTypes.func,\n  defaultHighlightedIndex: PropTypes.number,\n  defaultIsOpen: PropTypes.bool,\n  initialHighlightedIndex: PropTypes.number,\n  initialSelectedItem: PropTypes.any,\n  initialInputValue: PropTypes.string,\n  initialIsOpen: PropTypes.bool,\n  getA11yStatusMessage: PropTypes.func,\n  itemToString: PropTypes.func,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  onUserAction: PropTypes.func,\n  onOuterClick: PropTypes.func,\n  selectedItemChanged: PropTypes.func,\n  stateReducer: PropTypes.func,\n  itemCount: PropTypes.number,\n  id: PropTypes.string,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  }),\n  suppressRefError: PropTypes.bool,\n  scrollIntoView: PropTypes.func,\n  // things we keep in state for uncontrolled components\n  // but can accept as props for controlled components\n\n  /* eslint-disable react/no-unused-prop-types */\n  selectedItem: PropTypes.any,\n  isOpen: PropTypes.bool,\n  inputValue: PropTypes.string,\n  highlightedIndex: PropTypes.number,\n  labelId: PropTypes.string,\n  inputId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func\n  /* eslint-enable react/no-unused-prop-types */\n\n} : void 0;\n\nfunction validateGetMenuPropsCalledCorrectly(node, _ref12) {\n  var refKey = _ref12.refKey;\n\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: The ref prop \\\"\" + refKey + \"\\\" from getMenuProps was not applied correctly on your menu element.\");\n  }\n}\n\nfunction validateGetRootPropsCalledCorrectly(element, _ref13) {\n  var refKey = _ref13.refKey;\n  var refKeySpecified = refKey !== 'ref';\n  var isComposite = !isDOMElement(element);\n\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error('downshift: You returned a non-DOM element. You must specify a refKey in getRootProps');\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \\\"\" + refKey + \"\\\"\");\n  }\n\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You must apply the ref prop \\\"\" + refKey + \"\\\" from getRootProps onto your root element.\");\n  }\n}\n\nfunction validateControlledUnchanged(prevProps, nextProps) {\n  var warningDescription = \"This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props\";\n  ['selectedItem', 'isOpen', 'inputValue', 'highlightedIndex'].forEach(function (propKey) {\n    if (prevProps[propKey] !== undefined && nextProps[propKey] === undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the controlled prop \\\"\" + propKey + \"\\\" to be uncontrolled. \" + warningDescription);\n    } else if (prevProps[propKey] === undefined && nextProps[propKey] !== undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the uncontrolled prop \\\"\" + propKey + \"\\\" to be controlled. \" + warningDescription);\n    }\n  });\n}\n\nvar defaultStateValues = {\n  highlightedIndex: -1,\n  isOpen: false,\n  selectedItem: null\n};\n\nfunction getElementIds(generateDefaultId, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      id = _ref.id,\n      labelId = _ref.labelId,\n      menuId = _ref.menuId,\n      getItemId = _ref.getItemId,\n      toggleButtonId = _ref.toggleButtonId;\n\n  var uniqueId = id === undefined ? \"downshift-\" + generateDefaultId() : id;\n  return {\n    labelId: labelId || uniqueId + \"-label\",\n    menuId: menuId || uniqueId + \"-menu\",\n    getItemId: getItemId || function (index) {\n      return uniqueId + \"-item-\" + index;\n    },\n    toggleButtonId: toggleButtonId || uniqueId + \"-toggle-button\"\n  };\n}\n\nfunction getItemIndex(index, item, items) {\n  if (index !== undefined) {\n    return index;\n  }\n\n  if (items.length === 0) {\n    return -1;\n  }\n\n  return items.indexOf(item);\n}\n\nfunction itemToString(item) {\n  return item ? String(item) : '';\n}\n\nfunction getPropTypesValidator(caller, propTypes) {\n  // istanbul ignore next\n  return function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    Object.entries(propTypes).forEach(function (_ref2) {\n      var key = _ref2[0];\n      PropTypes.checkPropTypes(propTypes, options, key, caller.name);\n    });\n  };\n}\n\nfunction isAcceptedCharacterKey(key) {\n  return /^\\S{1}$/.test(key);\n}\n\nfunction capitalizeString(string) {\n  return \"\" + string.slice(0, 1).toUpperCase() + string.slice(1);\n}\n\nfunction invokeOnChangeHandler(propKey, props, state, changes) {\n  var handler = \"on\" + capitalizeString(propKey) + \"Change\";\n\n  if (props[handler] && changes[propKey] !== undefined && changes[propKey] !== state[propKey]) {\n    props[handler](changes);\n  }\n}\n\nfunction callOnChangeProps(props, state, changes) {\n  Object.keys(state).forEach(function (stateKey) {\n    invokeOnChangeHandler(stateKey, props, state, changes);\n  });\n\n  if (props.onStateChange && changes !== undefined) {\n    props.onStateChange(changes);\n  }\n}\n\nfunction useEnhancedReducer(reducer, initialState, props) {\n  var enhancedReducer = useCallback(function (state, action) {\n    state = getState(state, action.props);\n    var stateReduceLocal = action.props.stateReducer;\n    var changes = reducer(state, action);\n    var newState = stateReduceLocal(state, _extends({}, action, {\n      changes: changes\n    }));\n    callOnChangeProps(action.props, state, newState);\n    return newState;\n  }, [reducer]);\n\n  var _useReducer = useReducer(enhancedReducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  return [getState(state, props), dispatch];\n}\n\nvar lastId = 0; // istanbul ignore next\n\nvar genId = function () {\n  return ++lastId;\n};\n/**\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\n * Taken from @reach/auto-id\n * @see https://github.com/reach/reach-ui/blob/6e9dbcf716d5c9a3420e062e5bac1ac4671d01cb/packages/auto-id/src/index.js\n */\n// istanbul ignore next\n\n\nfunction useId() {\n  var _useState = useState(null),\n      id = _useState[0],\n      setId = _useState[1];\n\n  useEffect(function () {\n    return setId(genId());\n  }, []);\n  return id;\n}\n/**\n * Checks if nextElement receives focus after the blur event.\n *\n * @param {FocusEvent} event The blur event.\n * @param {Element} nextElement The element to check that receive focus next.\n * @returns {boolean} If the focus lands on nextElement.\n */\n\n\nfunction focusLandsOnElement(event, nextElement) {\n  return !!nextElement && (event.relatedTarget === nextElement || // https://github.com/downshift-js/downshift/issues/832 - workaround for Firefox.\n  event.nativeEvent && (nextElement === event.nativeEvent.explicitOriginalTarget || nextElement.contains(event.nativeEvent.explicitOriginalTarget)));\n}\n/**\n * Default state reducer that returns the changes.\n *\n * @param {Object} s state.\n * @param {Object} a action with changes.\n * @returns {Object} changes.\n */\n\n\nfunction stateReducer(s, a) {\n  return a.changes;\n}\n/**\n * Returns a message to be added to aria-live region when dropdown is open.\n *\n * @param {*} selectionParameters Parameters required to build the message.\n * @returns {string} The a11y message.\n */\n\n\nfunction getA11yStatusMessage$1(selectionParameters) {\n  var isOpen = selectionParameters.isOpen,\n      items = selectionParameters.items;\n\n  if (!items) {\n    return '';\n  }\n\n  var resultCount = items.length;\n\n  if (isOpen) {\n    if (resultCount === 0) {\n      return 'No results are available';\n    }\n\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n/**\n * Returns a message to be added to aria-live region when item is selected.\n *\n * @param {Object} selectionParameters Parameters required to build the message.\n * @returns {string} The a11y message.\n */\n\n\nfunction getA11ySelectionMessage(selectionParameters) {\n  var selectedItem = selectionParameters.selectedItem,\n      itemToStringLocal = selectionParameters.itemToString;\n  return itemToStringLocal(selectedItem) + \" has been selected.\";\n}\n\nvar defaultProps = {\n  itemToString: itemToString,\n  stateReducer: stateReducer,\n  getA11yStatusMessage: getA11yStatusMessage$1,\n  getA11ySelectionMessage: getA11ySelectionMessage,\n  scrollIntoView: scrollIntoView,\n  circularNavigation: false,\n  environment: typeof window === 'undefined'\n  /* istanbul ignore next (ssr) */\n  ? {} : window\n};\n\nfunction getDefaultValue(props, propKey, defaultStateValuesLocal) {\n  var defaultPropKey = \"default\" + capitalizeString(propKey);\n\n  if (defaultPropKey in props) {\n    return props[defaultPropKey];\n  }\n\n  return _extends({}, defaultStateValues, {}, defaultStateValuesLocal)[propKey];\n}\n\nfunction getInitialValue(props, propKey, defaultStateValuesLocal) {\n  if (propKey in props) {\n    return props[propKey];\n  }\n\n  var initialPropKey = \"initial\" + capitalizeString(propKey);\n\n  if (initialPropKey in props) {\n    return props[initialPropKey];\n  }\n\n  return getDefaultValue(props, propKey, defaultStateValuesLocal);\n}\n\nfunction getHighlightedIndexOnOpen(props, state, offset, getItemNodeFromIndex) {\n  var items = props.items,\n      initialHighlightedIndex = props.initialHighlightedIndex,\n      defaultHighlightedIndex = props.defaultHighlightedIndex;\n  var selectedItem = state.selectedItem,\n      highlightedIndex = state.highlightedIndex; // initialHighlightedIndex will give value to highlightedIndex on initial state only.\n\n  if (initialHighlightedIndex !== undefined && highlightedIndex === initialHighlightedIndex) {\n    return initialHighlightedIndex;\n  }\n\n  if (defaultHighlightedIndex !== undefined) {\n    return defaultHighlightedIndex;\n  }\n\n  if (selectedItem) {\n    if (offset === 0) {\n      return items.indexOf(selectedItem);\n    }\n\n    return getNextWrappingIndex(offset, items.indexOf(selectedItem), items.length, getItemNodeFromIndex, false);\n  }\n\n  if (offset === 0) {\n    return -1;\n  }\n\n  return offset < 0 ? items.length - 1 : 0;\n}\n\nvar defaultStateValues$1 = {\n  keysSoFar: ''\n};\n\nfunction getDefaultValue$1(props, propKey) {\n  return getDefaultValue(props, propKey, defaultStateValues$1);\n}\n\nfunction getInitialValue$1(props, propKey) {\n  return getInitialValue(props, propKey, defaultStateValues$1);\n}\n\nfunction getInitialState(props) {\n  var selectedItem = getInitialValue$1(props, 'selectedItem');\n  var isOpen = getInitialValue$1(props, 'isOpen');\n  var highlightedIndex = getInitialValue$1(props, 'highlightedIndex');\n  return {\n    highlightedIndex: highlightedIndex < 0 && selectedItem ? props.items.indexOf(selectedItem) : highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    keysSoFar: ''\n  };\n}\n\nfunction getItemIndexByCharacterKey(keysSoFar, highlightedIndex, items, itemToStringParam, getItemNodeFromIndex) {\n  var lowerCasedItemStrings = items.map(function (item) {\n    return itemToStringParam(item).toLowerCase();\n  });\n  var lowerCasedKeysSoFar = keysSoFar.toLowerCase();\n\n  var isValid = function (itemString, index) {\n    var element = getItemNodeFromIndex(index);\n    return itemString.startsWith(lowerCasedKeysSoFar) && !(element && element.hasAttribute('disabled'));\n  };\n\n  for (var index = highlightedIndex + 1; index < lowerCasedItemStrings.length; index++) {\n    var itemString = lowerCasedItemStrings[index];\n\n    if (isValid(itemString, index)) {\n      return index;\n    }\n  }\n\n  for (var _index = 0; _index < highlightedIndex; _index++) {\n    var _itemString = lowerCasedItemStrings[_index];\n\n    if (isValid(_itemString, _index)) {\n      return _index;\n    }\n  }\n\n  return highlightedIndex;\n}\n\nvar propTypes = {\n  items: PropTypes.array.isRequired,\n  itemToString: PropTypes.func,\n  getA11yStatusMessage: PropTypes.func,\n  getA11ySelectionMessage: PropTypes.func,\n  circularNavigation: PropTypes.bool,\n  highlightedIndex: PropTypes.number,\n  defaultHighlightedIndex: PropTypes.number,\n  initialHighlightedIndex: PropTypes.number,\n  isOpen: PropTypes.bool,\n  defaultIsOpen: PropTypes.bool,\n  initialIsOpen: PropTypes.bool,\n  selectedItem: PropTypes.any,\n  initialSelectedItem: PropTypes.any,\n  defaultSelectedItem: PropTypes.any,\n  id: PropTypes.string,\n  labelId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func,\n  toggleButtonId: PropTypes.string,\n  stateReducer: PropTypes.func,\n  onSelectedItemChange: PropTypes.func,\n  onHighlightedIndexChange: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onIsOpenChange: PropTypes.func,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  })\n};\n\nvar MenuKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_arrow_down__' : 0;\nvar MenuKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_arrow_up__' : 1;\nvar MenuKeyDownEscape = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_escape__' : 2;\nvar MenuKeyDownHome = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_home__' : 3;\nvar MenuKeyDownEnd = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_end__' : 4;\nvar MenuKeyDownEnter = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_enter__' : 5;\nvar MenuKeyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_space_button__' : 6;\nvar MenuKeyDownCharacter = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_character__' : 7;\nvar MenuBlur = process.env.NODE_ENV !== \"production\" ? '__menu_blur__' : 8;\nvar MenuMouseLeave = process.env.NODE_ENV !== \"production\" ? '__menu_mouse_leave__' : 9;\nvar ItemMouseMove = process.env.NODE_ENV !== \"production\" ? '__item_mouse_move__' : 10;\nvar ItemClick = process.env.NODE_ENV !== \"production\" ? '__item_click__' : 11;\nvar ToggleButtonKeyDownCharacter = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_character__' : 12;\nvar ToggleButtonKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_arrow_down__' : 13;\nvar ToggleButtonKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_arrow_up__' : 14;\nvar ToggleButtonClick = process.env.NODE_ENV !== \"production\" ? '__togglebutton_click__' : 15;\nvar FunctionToggleMenu = process.env.NODE_ENV !== \"production\" ? '__function_toggle_menu__' : 16;\nvar FunctionOpenMenu = process.env.NODE_ENV !== \"production\" ? '__function_open_menu__' : 17;\nvar FunctionCloseMenu = process.env.NODE_ENV !== \"production\" ? '__function_close_menu__' : 18;\nvar FunctionSetHighlightedIndex = process.env.NODE_ENV !== \"production\" ? '__function_set_highlighted_index__' : 19;\nvar FunctionSelectItem = process.env.NODE_ENV !== \"production\" ? '__function_select_item__' : 20;\nvar FunctionClearKeysSoFar = process.env.NODE_ENV !== \"production\" ? '__function_clear_keys_so_far__' : 21;\nvar FunctionReset = process.env.NODE_ENV !== \"production\" ? '__function_reset__' : 22;\n\nvar stateChangeTypes$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MenuKeyDownArrowDown: MenuKeyDownArrowDown,\n  MenuKeyDownArrowUp: MenuKeyDownArrowUp,\n  MenuKeyDownEscape: MenuKeyDownEscape,\n  MenuKeyDownHome: MenuKeyDownHome,\n  MenuKeyDownEnd: MenuKeyDownEnd,\n  MenuKeyDownEnter: MenuKeyDownEnter,\n  MenuKeyDownSpaceButton: MenuKeyDownSpaceButton,\n  MenuKeyDownCharacter: MenuKeyDownCharacter,\n  MenuBlur: MenuBlur,\n  MenuMouseLeave: MenuMouseLeave,\n  ItemMouseMove: ItemMouseMove,\n  ItemClick: ItemClick,\n  ToggleButtonKeyDownCharacter: ToggleButtonKeyDownCharacter,\n  ToggleButtonKeyDownArrowDown: ToggleButtonKeyDownArrowDown,\n  ToggleButtonKeyDownArrowUp: ToggleButtonKeyDownArrowUp,\n  ToggleButtonClick: ToggleButtonClick,\n  FunctionToggleMenu: FunctionToggleMenu,\n  FunctionOpenMenu: FunctionOpenMenu,\n  FunctionCloseMenu: FunctionCloseMenu,\n  FunctionSetHighlightedIndex: FunctionSetHighlightedIndex,\n  FunctionSelectItem: FunctionSelectItem,\n  FunctionClearKeysSoFar: FunctionClearKeysSoFar,\n  FunctionReset: FunctionReset\n});\n\n/* eslint-disable complexity */\n\nfunction downshiftSelectReducer(state, action) {\n  var type = action.type,\n      props = action.props,\n      shiftKey = action.shiftKey;\n  var changes;\n\n  switch (type) {\n    case ItemMouseMove:\n      changes = {\n        highlightedIndex: action.index\n      };\n      break;\n\n    case ItemClick:\n      changes = {\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex'),\n        selectedItem: props.items[action.index]\n      };\n      break;\n\n    case MenuBlur:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1\n      };\n      break;\n\n    case MenuKeyDownArrowDown:\n      changes = {\n        highlightedIndex: getNextWrappingIndex(shiftKey ? 5 : 1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n      };\n      break;\n\n    case MenuKeyDownArrowUp:\n      changes = {\n        highlightedIndex: getNextWrappingIndex(shiftKey ? -5 : -1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n      };\n      break;\n\n    case MenuKeyDownHome:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(1, 0, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case MenuKeyDownEnd:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(-1, props.items.length - 1, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case MenuKeyDownEscape:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1\n      };\n      break;\n\n    case MenuKeyDownEnter:\n    case MenuKeyDownSpaceButton:\n      changes = _extends({\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex')\n      }, state.highlightedIndex >= 0 && {\n        selectedItem: props.items[state.highlightedIndex]\n      });\n      break;\n\n    case MenuKeyDownCharacter:\n      {\n        var lowercasedKey = action.key;\n        var keysSoFar = \"\" + state.keysSoFar + lowercasedKey;\n        var highlightedIndex = getItemIndexByCharacterKey(keysSoFar, state.highlightedIndex, props.items, props.itemToString, action.getItemNodeFromIndex);\n        changes = _extends({\n          keysSoFar: keysSoFar\n        }, highlightedIndex >= 0 && {\n          highlightedIndex: highlightedIndex\n        });\n      }\n      break;\n\n    case MenuMouseLeave:\n      changes = {\n        highlightedIndex: -1\n      };\n      break;\n\n    case ToggleButtonKeyDownCharacter:\n      {\n        var _lowercasedKey = action.key;\n\n        var _keysSoFar = \"\" + state.keysSoFar + _lowercasedKey;\n\n        var itemIndex = getItemIndexByCharacterKey(_keysSoFar, state.selectedItem ? props.items.indexOf(state.selectedItem) : -1, props.items, props.itemToString, action.getItemNodeFromIndex);\n        changes = _extends({\n          keysSoFar: _keysSoFar\n        }, itemIndex >= 0 && {\n          selectedItem: props.items[itemIndex]\n        });\n      }\n      break;\n\n    case ToggleButtonKeyDownArrowDown:\n      {\n        changes = {\n          isOpen: true,\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, 1, action.getItemNodeFromIndex)\n        };\n        break;\n      }\n\n    case ToggleButtonKeyDownArrowUp:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, -1, action.getItemNodeFromIndex)\n      };\n      break;\n\n    case ToggleButtonClick:\n    case FunctionToggleMenu:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen ? -1 : getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionOpenMenu:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionCloseMenu:\n      changes = {\n        isOpen: false\n      };\n      break;\n\n    case FunctionSetHighlightedIndex:\n      changes = {\n        highlightedIndex: action.highlightedIndex\n      };\n      break;\n\n    case FunctionSelectItem:\n      changes = {\n        selectedItem: action.selectedItem\n      };\n      break;\n\n    case FunctionClearKeysSoFar:\n      changes = {\n        keysSoFar: ''\n      };\n      break;\n\n    case FunctionReset:\n      changes = {\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex'),\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        selectedItem: getDefaultValue$1(props, 'selectedItem')\n      };\n      break;\n\n    default:\n      throw new Error('Reducer called without proper action type.');\n  }\n\n  return _extends({}, state, {}, changes);\n}\n/* eslint-enable complexity */\n\nvar validatePropTypes = process.env.NODE_ENV === 'production' ?\n/* istanbul ignore next */\nnull : getPropTypesValidator(useSelect, propTypes);\nuseSelect.stateChangeTypes = stateChangeTypes$1;\n\nfunction useSelect(userProps) {\n  if (userProps === void 0) {\n    userProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    validatePropTypes(userProps);\n  } // Props defaults and destructuring.\n\n\n  var props = _extends({}, defaultProps, {}, userProps);\n\n  var items = props.items,\n      itemToString = props.itemToString,\n      getA11yStatusMessage = props.getA11yStatusMessage,\n      getA11ySelectionMessage = props.getA11ySelectionMessage,\n      initialIsOpen = props.initialIsOpen,\n      defaultIsOpen = props.defaultIsOpen,\n      scrollIntoView = props.scrollIntoView,\n      environment = props.environment; // Initial state depending on controlled props.\n\n  var initialState = getInitialState(props); // Reducer init.\n\n  var _useEnhancedReducer = useEnhancedReducer(downshiftSelectReducer, initialState, props),\n      _useEnhancedReducer$ = _useEnhancedReducer[0],\n      isOpen = _useEnhancedReducer$.isOpen,\n      highlightedIndex = _useEnhancedReducer$.highlightedIndex,\n      selectedItem = _useEnhancedReducer$.selectedItem,\n      keysSoFar = _useEnhancedReducer$.keysSoFar,\n      dispatchWithoutProps = _useEnhancedReducer[1];\n\n  var dispatch = function (action) {\n    return dispatchWithoutProps(_extends({\n      props: props\n    }, action));\n  }; // IDs generation.\n\n\n  var _getElementIds = getElementIds(useId, props),\n      labelId = _getElementIds.labelId,\n      getItemId = _getElementIds.getItemId,\n      menuId = _getElementIds.menuId,\n      toggleButtonId = _getElementIds.toggleButtonId;\n  /* Refs */\n\n\n  var toggleButtonRef = useRef(null);\n  var menuRef = useRef(null);\n  var itemRefs = useRef();\n  itemRefs.current = [];\n  var isInitialMount = useRef(true);\n  var shouldScroll = useRef(true);\n  var clearTimeout = useRef(null);\n  /* Effects */\n\n  /* Sets a11y status message on changes in isOpen. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11yStatusMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n  /* Sets a11y status message on changes in selectedItem. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11ySelectionMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedItem]);\n  /* Sets cleanup for the keysSoFar after 500ms. */\n\n  useEffect(function () {\n    // init the clean function here as we need access to dispatch.\n    if (isInitialMount.current) {\n      clearTimeout.current = debounce(function (outerDispatch) {\n        outerDispatch({\n          type: FunctionClearKeysSoFar\n        });\n      }, 500);\n    }\n\n    if (!keysSoFar) {\n      return;\n    }\n\n    clearTimeout.current(dispatch); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [keysSoFar]);\n  /* Controls the focus on the menu or the toggle button. */\n\n  useEffect(function () {\n    // Don't focus menu on first render.\n    if (isInitialMount.current) {\n      // Unless it was initialised as open.\n      if (initialIsOpen || defaultIsOpen || isOpen) {\n        menuRef.current.focus();\n      }\n\n      return;\n    } // Focus menu on open.\n    // istanbul ignore next\n\n\n    if (isOpen) {\n      menuRef.current.focus(); // Focus toggleButton on close.\n    } else if (environment.document.activeElement === menuRef.current) {\n      toggleButtonRef.current.focus();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isOpen]);\n  /* Scroll on highlighted item if change comes from keyboard. */\n\n  useEffect(function () {\n    if (highlightedIndex < 0 || !isOpen || !itemRefs.current.length) {\n      return;\n    }\n\n    if (shouldScroll.current === false) {\n      shouldScroll.current = true;\n    } else {\n      scrollIntoView(itemRefs.current[highlightedIndex], menuRef.current);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [highlightedIndex]);\n  /* Make initial ref false. */\n\n  useEffect(function () {\n    isInitialMount.current = false;\n  }, []);\n\n  var getItemNodeFromIndex = function (index) {\n    return itemRefs.current[index];\n  };\n  /* Event handler functions */\n\n\n  var menuKeyDownHandlers = {\n    ArrowDown: function ArrowDown(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownArrowDown,\n        shiftKey: event.shiftKey,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    ArrowUp: function ArrowUp(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownArrowUp,\n        shiftKey: event.shiftKey,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    Home: function Home(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownHome,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    End: function End(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownEnd,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    Escape: function Escape() {\n      dispatch({\n        type: MenuKeyDownEscape\n      });\n    },\n    Enter: function Enter(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownEnter\n      });\n    },\n    ' ': function _(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownSpaceButton\n      });\n    },\n    Tab: function Tab(event) {\n      // The exception that calls MenuBlur.\n      // istanbul ignore next\n      if (event.shiftKey) {\n        dispatch({\n          type: MenuBlur\n        });\n      }\n    }\n  };\n  var toggleButtonKeyDownHandlers = {\n    ArrowDown: function ArrowDown(event) {\n      event.preventDefault();\n      dispatch({\n        type: ToggleButtonKeyDownArrowDown,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    ArrowUp: function ArrowUp(event) {\n      event.preventDefault();\n      dispatch({\n        type: ToggleButtonKeyDownArrowUp,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    }\n  }; // Event handlers.\n\n  var menuHandleKeyDown = function (event) {\n    var key = normalizeArrowKey(event);\n\n    if (key && menuKeyDownHandlers[key]) {\n      menuKeyDownHandlers[key](event);\n    } else if (isAcceptedCharacterKey(key)) {\n      dispatch({\n        type: MenuKeyDownCharacter,\n        key: key,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    }\n  }; // Focus going back to the toggleButton is something we control (Escape, Enter, Click).\n  // We are toggleing special actions for these cases in reducer, not MenuBlur.\n  // Since Shift-Tab also lands focus on toggleButton, we will handle it as exception and call MenuBlur.\n\n\n  var menuHandleBlur = function (event) {\n    if (!focusLandsOnElement(event, toggleButtonRef.current)) {\n      dispatch({\n        type: MenuBlur\n      });\n    }\n  };\n\n  var menuHandleMouseLeave = function () {\n    dispatch({\n      type: MenuMouseLeave\n    });\n  };\n\n  var toggleButtonHandleClick = function () {\n    dispatch({\n      type: ToggleButtonClick\n    });\n  };\n\n  var toggleButtonHandleKeyDown = function (event) {\n    var key = normalizeArrowKey(event);\n\n    if (key && toggleButtonKeyDownHandlers[key]) {\n      toggleButtonKeyDownHandlers[key](event);\n    } else if (isAcceptedCharacterKey(key)) {\n      dispatch({\n        type: ToggleButtonKeyDownCharacter,\n        key: key,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    }\n  };\n\n  var itemHandleMouseMove = function (index) {\n    if (index === highlightedIndex) {\n      return;\n    }\n\n    shouldScroll.current = false;\n    dispatch({\n      type: ItemMouseMove,\n      index: index\n    });\n  };\n\n  var itemHandleClick = function (index) {\n    dispatch({\n      type: ItemClick,\n      index: index\n    });\n  }; // returns\n\n\n  return {\n    // prop getters.\n    getToggleButtonProps: function getToggleButtonProps(_temp2) {\n      var _extends3;\n\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n          onClick = _ref2.onClick,\n          onKeyDown = _ref2.onKeyDown,\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? 'ref' : _ref2$refKey,\n          ref = _ref2.ref,\n          rest = _objectWithoutPropertiesLoose(_ref2, [\"onClick\", \"onKeyDown\", \"refKey\", \"ref\"]);\n\n      var toggleProps = _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function (toggleButtonNode) {\n        toggleButtonRef.current = toggleButtonNode;\n      }), _extends3.id = toggleButtonId, _extends3['aria-haspopup'] = 'listbox', _extends3['aria-expanded'] = isOpen, _extends3['aria-labelledby'] = labelId + \" \" + toggleButtonId, _extends3), rest);\n\n      if (!rest.disabled) {\n        toggleProps.onClick = callAllEventHandlers(onClick, toggleButtonHandleClick);\n        toggleProps.onKeyDown = callAllEventHandlers(onKeyDown, toggleButtonHandleKeyDown);\n      }\n\n      return toggleProps;\n    },\n    getLabelProps: function getLabelProps(labelProps) {\n      return _extends({\n        id: labelId,\n        htmlFor: toggleButtonId\n      }, labelProps);\n    },\n    getMenuProps: function getMenuProps(_temp) {\n      var _extends2;\n\n      var _ref = _temp === void 0 ? {} : _temp,\n          onKeyDown = _ref.onKeyDown,\n          onBlur = _ref.onBlur,\n          onMouseLeave = _ref.onMouseLeave,\n          _ref$refKey = _ref.refKey,\n          refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n          ref = _ref.ref,\n          rest = _objectWithoutPropertiesLoose(_ref, [\"onKeyDown\", \"onBlur\", \"onMouseLeave\", \"refKey\", \"ref\"]);\n\n      return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function (menuNode) {\n        menuRef.current = menuNode;\n      }), _extends2.id = menuId, _extends2.role = 'listbox', _extends2['aria-labelledby'] = labelId, _extends2.tabIndex = -1, _extends2), highlightedIndex > -1 && {\n        'aria-activedescendant': getItemId(highlightedIndex)\n      }, {\n        onKeyDown: callAllEventHandlers(onKeyDown, menuHandleKeyDown),\n        onBlur: callAllEventHandlers(onBlur, menuHandleBlur),\n        onMouseLeave: callAllEventHandlers(onMouseLeave, menuHandleMouseLeave)\n      }, rest);\n    },\n    getItemProps: function getItemProps(_temp3) {\n      var _extends4;\n\n      var _ref3 = _temp3 === void 0 ? {} : _temp3,\n          item = _ref3.item,\n          index = _ref3.index,\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          ref = _ref3.ref,\n          onMouseMove = _ref3.onMouseMove,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutPropertiesLoose(_ref3, [\"item\", \"index\", \"refKey\", \"ref\", \"onMouseMove\", \"onClick\"]);\n\n      var itemIndex = getItemIndex(index, item, items);\n\n      if (itemIndex < 0) {\n        throw new Error('Pass either item or item index in getItemProps!');\n      }\n\n      var itemProps = _extends((_extends4 = {}, _extends4[refKey] = handleRefs(ref, function (itemNode) {\n        if (itemNode) {\n          itemRefs.current.push(itemNode);\n        }\n      }), _extends4.role = 'option', _extends4['aria-selected'] = \"\" + (itemIndex === highlightedIndex), _extends4.id = getItemId(itemIndex), _extends4), rest);\n\n      if (!rest.disabled) {\n        itemProps.onMouseMove = callAllEventHandlers(onMouseMove, function () {\n          return itemHandleMouseMove(itemIndex);\n        });\n        itemProps.onClick = callAllEventHandlers(onClick, function () {\n          return itemHandleClick(itemIndex);\n        });\n      }\n\n      return itemProps;\n    },\n    // actions.\n    toggleMenu: function toggleMenu() {\n      dispatch({\n        type: FunctionToggleMenu\n      });\n    },\n    openMenu: function openMenu() {\n      dispatch({\n        type: FunctionOpenMenu\n      });\n    },\n    closeMenu: function closeMenu() {\n      dispatch({\n        type: FunctionCloseMenu\n      });\n    },\n    setHighlightedIndex: function setHighlightedIndex(newHighlightedIndex) {\n      dispatch({\n        type: FunctionSetHighlightedIndex,\n        highlightedIndex: newHighlightedIndex\n      });\n    },\n    selectItem: function selectItem(newSelectedItem) {\n      dispatch({\n        type: FunctionSelectItem,\n        selectedItem: newSelectedItem\n      });\n    },\n    reset: function reset() {\n      dispatch({\n        type: FunctionReset\n      });\n    },\n    // state.\n    highlightedIndex: highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem\n  };\n}\n\nvar defaultStateValues$2 = {\n  inputValue: ''\n};\n\nfunction getElementIds$1(generateDefaultId, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      id = _ref.id,\n      inputId = _ref.inputId,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"id\", \"inputId\"]);\n\n  var uniqueId = id === undefined ? \"downshift-\" + generateDefaultId() : id;\n  return _extends({\n    inputId: inputId || uniqueId + \"-input\"\n  }, getElementIds(generateDefaultId, _extends({\n    id: id\n  }, rest)));\n}\n\nfunction getDefaultValue$2(props, propKey) {\n  return getDefaultValue(props, propKey, defaultStateValues$2);\n}\n\nfunction getInitialValue$2(props, propKey) {\n  return getInitialValue(props, propKey, defaultStateValues$2);\n}\n\nfunction getInitialState$1(props) {\n  var selectedItem = getInitialValue$2(props, 'selectedItem');\n  var isOpen = getInitialValue$2(props, 'isOpen');\n  var highlightedIndex = getInitialValue$2(props, 'highlightedIndex');\n  var inputValue = getInitialValue$2(props, 'inputValue');\n\n  if (inputValue === '' && selectedItem && props.defaultInputValue === undefined && props.initialInputValue === undefined && props.inputValue === undefined) {\n    inputValue = props.itemToString(selectedItem);\n  }\n\n  return {\n    highlightedIndex: highlightedIndex < 0 && selectedItem ? props.items.indexOf(selectedItem) : highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    inputValue: inputValue\n  };\n}\n\nvar propTypes$1 = {\n  items: PropTypes.array.isRequired,\n  itemToString: PropTypes.func,\n  getA11yStatusMessage: PropTypes.func,\n  getA11ySelectionMessage: PropTypes.func,\n  circularNavigation: PropTypes.bool,\n  highlightedIndex: PropTypes.number,\n  defaultHighlightedIndex: PropTypes.number,\n  initialHighlightedIndex: PropTypes.number,\n  isOpen: PropTypes.bool,\n  defaultIsOpen: PropTypes.bool,\n  initialIsOpen: PropTypes.bool,\n  selectedItem: PropTypes.any,\n  initialSelectedItem: PropTypes.any,\n  defaultSelectedItem: PropTypes.any,\n  inputValue: PropTypes.string,\n  defaultInputValue: PropTypes.string,\n  initialInputValue: PropTypes.string,\n  id: PropTypes.string,\n  labelId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func,\n  inputId: PropTypes.string,\n  toggleButtonId: PropTypes.string,\n  stateReducer: PropTypes.func,\n  onSelectedItemChange: PropTypes.func,\n  onHighlightedIndexChange: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onIsOpenChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  })\n};\n\nvar defaultProps$1 = _extends({}, defaultProps, {\n  circularNavigation: true\n});\n\nvar InputKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__input_keydown_arrow_down__' : 0;\nvar InputKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__input_keydown_arrow_up__' : 1;\nvar InputKeyDownEscape = process.env.NODE_ENV !== \"production\" ? '__input_keydown_escape__' : 2;\nvar InputKeyDownHome = process.env.NODE_ENV !== \"production\" ? '__input_keydown_home__' : 3;\nvar InputKeyDownEnd = process.env.NODE_ENV !== \"production\" ? '__input_keydown_end__' : 4;\nvar InputKeyDownEnter = process.env.NODE_ENV !== \"production\" ? '__input_keydown_enter__' : 5;\nvar InputChange = process.env.NODE_ENV !== \"production\" ? '__input_change__' : 6;\nvar InputBlur = process.env.NODE_ENV !== \"production\" ? '__input_blur__' : 7;\nvar MenuMouseLeave$1 = process.env.NODE_ENV !== \"production\" ? '__menu_mouse_leave__' : 8;\nvar ItemMouseMove$1 = process.env.NODE_ENV !== \"production\" ? '__item_mouse_move__' : 9;\nvar ItemClick$1 = process.env.NODE_ENV !== \"production\" ? '__item_click__' : 10;\nvar ToggleButtonClick$1 = process.env.NODE_ENV !== \"production\" ? '__togglebutton_click__' : 11;\nvar FunctionToggleMenu$1 = process.env.NODE_ENV !== \"production\" ? '__function_toggle_menu__' : 12;\nvar FunctionOpenMenu$1 = process.env.NODE_ENV !== \"production\" ? '__function_open_menu__' : 13;\nvar FunctionCloseMenu$1 = process.env.NODE_ENV !== \"production\" ? '__function_close_menu__' : 14;\nvar FunctionSetHighlightedIndex$1 = process.env.NODE_ENV !== \"production\" ? '__function_set_highlighted_index__' : 15;\nvar FunctionSelectItem$1 = process.env.NODE_ENV !== \"production\" ? '__function_select_item__' : 16;\nvar FunctionSetInputValue = process.env.NODE_ENV !== \"production\" ? '__function_set_input_value__' : 17;\nvar FunctionReset$1 = process.env.NODE_ENV !== \"production\" ? '__function_reset__' : 18;\n\nvar stateChangeTypes$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  InputKeyDownArrowDown: InputKeyDownArrowDown,\n  InputKeyDownArrowUp: InputKeyDownArrowUp,\n  InputKeyDownEscape: InputKeyDownEscape,\n  InputKeyDownHome: InputKeyDownHome,\n  InputKeyDownEnd: InputKeyDownEnd,\n  InputKeyDownEnter: InputKeyDownEnter,\n  InputChange: InputChange,\n  InputBlur: InputBlur,\n  MenuMouseLeave: MenuMouseLeave$1,\n  ItemMouseMove: ItemMouseMove$1,\n  ItemClick: ItemClick$1,\n  ToggleButtonClick: ToggleButtonClick$1,\n  FunctionToggleMenu: FunctionToggleMenu$1,\n  FunctionOpenMenu: FunctionOpenMenu$1,\n  FunctionCloseMenu: FunctionCloseMenu$1,\n  FunctionSetHighlightedIndex: FunctionSetHighlightedIndex$1,\n  FunctionSelectItem: FunctionSelectItem$1,\n  FunctionSetInputValue: FunctionSetInputValue,\n  FunctionReset: FunctionReset$1\n});\n\n/* eslint-disable complexity */\n\nfunction downshiftUseComboboxReducer(state, action) {\n  var type = action.type,\n      props = action.props,\n      shiftKey = action.shiftKey;\n  var changes;\n\n  switch (type) {\n    case ItemMouseMove$1:\n      changes = {\n        highlightedIndex: action.index\n      };\n      break;\n\n    case ItemClick$1:\n      changes = {\n        isOpen: getDefaultValue$2(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$2(props, 'highlightedIndex'),\n        selectedItem: props.items[action.index],\n        inputValue: props.itemToString(props.items[action.index])\n      };\n      break;\n\n    case InputKeyDownArrowDown:\n      if (state.isOpen) {\n        changes = {\n          highlightedIndex: getNextWrappingIndex(shiftKey ? 5 : 1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n        };\n      } else {\n        changes = {\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, 1, action.getItemNodeFromIndex),\n          isOpen: true\n        };\n      }\n\n      break;\n\n    case InputKeyDownArrowUp:\n      if (state.isOpen) {\n        changes = {\n          highlightedIndex: getNextWrappingIndex(shiftKey ? -5 : -1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n        };\n      } else {\n        changes = {\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, -1, action.getItemNodeFromIndex),\n          isOpen: true\n        };\n      }\n\n      break;\n\n    case InputKeyDownEnter:\n      changes = _extends({}, state.highlightedIndex >= 0 && {\n        selectedItem: props.items[state.highlightedIndex],\n        isOpen: getDefaultValue$2(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$2(props, 'highlightedIndex'),\n        inputValue: props.itemToString(props.items[state.highlightedIndex])\n      });\n      break;\n\n    case InputKeyDownEscape:\n      changes = {\n        isOpen: false,\n        selectedItem: null,\n        highlightedIndex: -1,\n        inputValue: ''\n      };\n      break;\n\n    case InputKeyDownHome:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(1, 0, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case InputKeyDownEnd:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(-1, props.items.length - 1, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case InputBlur:\n      changes = _extends({\n        isOpen: false\n      }, state.highlightedIndex >= 0 && {\n        selectedItem: props.items[state.highlightedIndex],\n        inputValue: props.itemToString(props.items[state.highlightedIndex]),\n        highlightedIndex: -1\n      });\n      break;\n\n    case InputChange:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getDefaultValue$2(props, 'highlightedIndex'),\n        inputValue: action.inputValue\n      };\n      break;\n\n    case MenuMouseLeave$1:\n      changes = {\n        highlightedIndex: -1\n      };\n      break;\n\n    case ToggleButtonClick$1:\n    case FunctionToggleMenu$1:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen ? -1 : getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionOpenMenu$1:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionCloseMenu$1:\n      changes = {\n        isOpen: false\n      };\n      break;\n\n    case FunctionSetHighlightedIndex$1:\n      changes = {\n        highlightedIndex: action.highlightedIndex\n      };\n      break;\n\n    case FunctionSelectItem$1:\n      changes = {\n        selectedItem: action.selectedItem\n      };\n      break;\n\n    case FunctionSetInputValue:\n      changes = {\n        inputValue: action.inputValue\n      };\n      break;\n\n    case FunctionReset$1:\n      changes = {\n        highlightedIndex: getDefaultValue$2(props, 'highlightedIndex'),\n        isOpen: getDefaultValue$2(props, 'isOpen'),\n        selectedItem: getDefaultValue$2(props, 'selectedItem'),\n        inputValue: getDefaultValue$2(props, 'inputValue')\n      };\n      break;\n\n    default:\n      throw new Error('Reducer called without proper action type.');\n  }\n\n  return _extends({}, state, {}, changes);\n}\n/* eslint-enable complexity */\n\nvar validatePropTypes$1 = process.env.NODE_ENV === 'production' ?\n/* istanbul ignore next */\nnull : getPropTypesValidator(useCombobox, propTypes$1);\nuseCombobox.stateChangeTypes = stateChangeTypes$2;\n\nfunction useCombobox(userProps) {\n  if (userProps === void 0) {\n    userProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    validatePropTypes$1(userProps);\n  } // Props defaults and destructuring.\n\n\n  var props = _extends({}, defaultProps$1, {}, userProps);\n\n  var initialIsOpen = props.initialIsOpen,\n      defaultIsOpen = props.defaultIsOpen,\n      items = props.items,\n      scrollIntoView = props.scrollIntoView,\n      getA11ySelectionMessage = props.getA11ySelectionMessage,\n      getA11yStatusMessage = props.getA11yStatusMessage,\n      itemToString = props.itemToString,\n      environment = props.environment; // Initial state depending on controlled props.\n\n  var initialState = getInitialState$1(props); // Reducer init.\n\n  var _useEnhancedReducer = useEnhancedReducer(downshiftUseComboboxReducer, initialState, props),\n      _useEnhancedReducer$ = _useEnhancedReducer[0],\n      isOpen = _useEnhancedReducer$.isOpen,\n      highlightedIndex = _useEnhancedReducer$.highlightedIndex,\n      selectedItem = _useEnhancedReducer$.selectedItem,\n      inputValue = _useEnhancedReducer$.inputValue,\n      dispatchWithoutProps = _useEnhancedReducer[1];\n\n  var dispatch = function (action) {\n    return dispatchWithoutProps(_extends({\n      props: props\n    }, action));\n  }; // IDs generation.\n\n\n  var _getElementIds = getElementIds$1(useId, props),\n      labelId = _getElementIds.labelId,\n      getItemId = _getElementIds.getItemId,\n      menuId = _getElementIds.menuId,\n      toggleButtonId = _getElementIds.toggleButtonId,\n      inputId = _getElementIds.inputId;\n  /* Refs */\n\n\n  var menuRef = useRef(null);\n  var itemRefs = useRef();\n  var inputRef = useRef(null);\n  var toggleButtonRef = useRef(null);\n  var comboboxRef = useRef(null);\n  itemRefs.current = [];\n  var shouldScroll = useRef(true);\n  var isInitialMount = useRef(true);\n  var mouseAndTouchTrackers = useRef({\n    isMouseDown: false,\n    isTouchMove: false\n  });\n  /* Effects */\n\n  /* Sets a11y status message on changes in isOpen. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11yStatusMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString,\n      inputValue: inputValue\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n  /* Sets a11y status message on changes in selectedItem. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11ySelectionMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString,\n      inputValue: inputValue\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedItem]);\n  /* Scroll on highlighted item if change comes from keyboard. */\n\n  useEffect(function () {\n    if (highlightedIndex < 0 || !isOpen || !itemRefs.current.length) {\n      return;\n    }\n\n    if (shouldScroll.current === false) {\n      shouldScroll.current = true;\n    } else {\n      scrollIntoView(itemRefs.current[highlightedIndex], menuRef.current);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [highlightedIndex]);\n  /* Controls the focus on the menu or the toggle button. */\n\n  useEffect(function () {\n    // Don't focus menu on first render.\n    if (isInitialMount.current) {\n      // Unless it was initialised as open.\n      if (initialIsOpen || defaultIsOpen || isOpen) {\n        inputRef.current.focus();\n      }\n\n      return;\n    } // Focus menu on open.\n    // istanbul ignore next\n\n\n    if (isOpen) {\n      inputRef.current.focus();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isOpen]);\n  /* Make initial ref false. */\n\n  useEffect(function () {\n    isInitialMount.current = false;\n  }, []);\n  /* Add mouse/touch events to document. */\n\n  useEffect(function () {\n    // The same strategy for checking if a click occurred inside or outside downsift\n    // as in downshift.js.\n    var onMouseDown = function () {\n      mouseAndTouchTrackers.current.isMouseDown = true;\n    };\n\n    var onMouseUp = function (event) {\n      mouseAndTouchTrackers.current.isMouseDown = false;\n\n      if (isOpen && !targetWithinDownshift(event.target, comboboxRef.current, menuRef.current, environment.document)) {\n        dispatch({\n          type: InputBlur\n        });\n      }\n    };\n\n    var onTouchStart = function () {\n      mouseAndTouchTrackers.current.isTouchMove = false;\n    };\n\n    var onTouchMove = function () {\n      mouseAndTouchTrackers.current.isTouchMove = true;\n    };\n\n    var onTouchEnd = function (event) {\n      if (isOpen && !mouseAndTouchTrackers.current.isTouchMove && !targetWithinDownshift(event.target, comboboxRef.current, menuRef.current, environment.document, false)) {\n        dispatch({\n          type: InputBlur\n        });\n      }\n    };\n\n    environment.addEventListener('mousedown', onMouseDown);\n    environment.addEventListener('mouseup', onMouseUp);\n    environment.addEventListener('touchstart', onTouchStart);\n    environment.addEventListener('touchmove', onTouchMove);\n    environment.addEventListener('touchend', onTouchEnd);\n    return function () {\n      environment.removeEventListener('mousedown', onMouseDown);\n      environment.removeEventListener('mouseup', onMouseUp);\n      environment.removeEventListener('touchstart', onTouchStart);\n      environment.removeEventListener('touchmove', onTouchMove);\n      environment.removeEventListener('touchend', onTouchEnd);\n    };\n  });\n\n  var getItemNodeFromIndex = function (index) {\n    return itemRefs.current[index];\n  };\n  /* Event handler functions */\n\n\n  var inputKeyDownHandlers = {\n    ArrowDown: function ArrowDown(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownArrowDown,\n        shiftKey: event.shiftKey,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    ArrowUp: function ArrowUp(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownArrowUp,\n        shiftKey: event.shiftKey,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    Home: function Home(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownHome,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    End: function End(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownEnd,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    Escape: function Escape() {\n      dispatch({\n        type: InputKeyDownEscape\n      });\n    },\n    Enter: function Enter(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownEnter,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    }\n  }; // Event handlers.\n\n  var inputHandleKeyDown = function (event) {\n    var key = normalizeArrowKey(event);\n\n    if (key && inputKeyDownHandlers[key]) {\n      inputKeyDownHandlers[key](event);\n    }\n  };\n\n  var inputHandleChange = function (event) {\n    dispatch({\n      type: InputChange,\n      inputValue: event.target.value\n    });\n  };\n\n  var inputHandleBlur = function (event) {\n    var shouldBlur = !(mouseAndTouchTrackers.current.isMouseDown || focusLandsOnElement(event, toggleButtonRef.current));\n    /* istanbul ignore else */\n\n    if (shouldBlur) {\n      dispatch({\n        type: InputBlur\n      });\n    }\n  };\n\n  var menuHandleMouseLeave = function () {\n    dispatch({\n      type: MenuMouseLeave$1\n    });\n  };\n\n  var itemHandleMouseMove = function (index) {\n    if (index === highlightedIndex) {\n      return;\n    }\n\n    shouldScroll.current = false;\n    dispatch({\n      type: ItemMouseMove$1,\n      index: index\n    });\n  };\n\n  var itemHandleClick = function (index) {\n    dispatch({\n      type: ItemClick$1,\n      index: index\n    });\n  };\n\n  var toggleButtonHandleClick = function () {\n    dispatch({\n      type: ToggleButtonClick$1\n    });\n  }; // returns\n\n\n  return {\n    // prop getters.\n    getItemProps: function getItemProps(_temp2) {\n      var _extends3, _ref3;\n\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n          item = _ref2.item,\n          index = _ref2.index,\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? 'ref' : _ref2$refKey,\n          ref = _ref2.ref,\n          onMouseMove = _ref2.onMouseMove,\n          onClick = _ref2.onClick,\n          onPress = _ref2.onPress,\n          rest = _objectWithoutPropertiesLoose(_ref2, [\"item\", \"index\", \"refKey\", \"ref\", \"onMouseMove\", \"onClick\", \"onPress\"]);\n\n      var itemIndex = getItemIndex(index, item, items);\n\n      if (itemIndex < 0) {\n        throw new Error('Pass either item or item index in getItemProps!');\n      }\n\n      var onSelectKey = 'onClick';\n      var customClickHandler = onClick;\n      return _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function (itemNode) {\n        if (itemNode) {\n          itemRefs.current.push(itemNode);\n        }\n      }), _extends3.role = 'option', _extends3['aria-selected'] = \"\" + (itemIndex === highlightedIndex), _extends3.id = getItemId(itemIndex), _extends3), !rest.disabled && (_ref3 = {\n        onMouseMove: callAllEventHandlers(onMouseMove, function () {\n          itemHandleMouseMove(itemIndex);\n        })\n      }, _ref3[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n        itemHandleClick(itemIndex);\n      }), _ref3), {}, rest);\n    },\n    getLabelProps: function getLabelProps(labelProps) {\n      return _extends({\n        id: labelId,\n        htmlFor: inputId\n      }, labelProps);\n    },\n    getMenuProps: function getMenuProps(_temp) {\n      var _extends2;\n\n      var _ref = _temp === void 0 ? {} : _temp,\n          onMouseLeave = _ref.onMouseLeave,\n          _ref$refKey = _ref.refKey,\n          refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n          ref = _ref.ref,\n          rest = _objectWithoutPropertiesLoose(_ref, [\"onMouseLeave\", \"refKey\", \"ref\"]);\n\n      return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function (menuNode) {\n        menuRef.current = menuNode;\n      }), _extends2.id = menuId, _extends2.role = 'listbox', _extends2['aria-labelledby'] = labelId, _extends2.onMouseLeave = callAllEventHandlers(onMouseLeave, menuHandleMouseLeave), _extends2), rest);\n    },\n    getInputProps: function getInputProps(_temp4) {\n      var _extends5;\n\n      var _ref5 = _temp4 === void 0 ? {} : _temp4,\n          onKeyDown = _ref5.onKeyDown,\n          onChange = _ref5.onChange,\n          onInput = _ref5.onInput,\n          onBlur = _ref5.onBlur,\n          onChangeText = _ref5.onChangeText,\n          _ref5$refKey = _ref5.refKey,\n          refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n          ref = _ref5.ref,\n          rest = _objectWithoutPropertiesLoose(_ref5, [\"onKeyDown\", \"onChange\", \"onInput\", \"onBlur\", \"onChangeText\", \"refKey\", \"ref\"]);\n\n      /* istanbul ignore next (preact) */\n      var onChangeKey = 'onChange';\n      var eventHandlers = {};\n\n      if (!rest.disabled) {\n        var _eventHandlers;\n\n        eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, inputHandleBlur), _eventHandlers);\n      }\n      /* istanbul ignore if (react-native) */\n\n\n      return _extends((_extends5 = {}, _extends5[refKey] = handleRefs(ref, function (inputNode) {\n        inputRef.current = inputNode;\n      }), _extends5.id = inputId, _extends5['aria-autocomplete'] = 'list', _extends5['aria-controls'] = menuId, _extends5), highlightedIndex > -1 && {\n        'aria-activedescendant': getItemId(highlightedIndex)\n      }, {\n        'aria-labelledby': labelId,\n        // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n        // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n        autoComplete: 'off',\n        value: inputValue\n      }, eventHandlers, {}, rest);\n    },\n    getComboboxProps: function getComboboxProps(_temp5) {\n      var _extends6;\n\n      var _ref6 = _temp5 === void 0 ? {} : _temp5,\n          _ref6$refKey = _ref6.refKey,\n          refKey = _ref6$refKey === void 0 ? 'ref' : _ref6$refKey,\n          ref = _ref6.ref,\n          rest = _objectWithoutPropertiesLoose(_ref6, [\"refKey\", \"ref\"]);\n\n      return _extends((_extends6 = {}, _extends6[refKey] = handleRefs(ref, function (comboboxNode) {\n        comboboxRef.current = comboboxNode;\n      }), _extends6.role = 'combobox', _extends6['aria-haspopup'] = 'listbox', _extends6['aria-owns'] = menuId, _extends6['aria-expanded'] = isOpen, _extends6), rest);\n    },\n    getToggleButtonProps: function getToggleButtonProps(_temp3) {\n      var _extends4;\n\n      var _ref4 = _temp3 === void 0 ? {} : _temp3,\n          onClick = _ref4.onClick,\n          onPress = _ref4.onPress,\n          _ref4$refKey = _ref4.refKey,\n          refKey = _ref4$refKey === void 0 ? 'ref' : _ref4$refKey,\n          ref = _ref4.ref,\n          rest = _objectWithoutPropertiesLoose(_ref4, [\"onClick\", \"onPress\", \"refKey\", \"ref\"]);\n\n      return _extends((_extends4 = {}, _extends4[refKey] = handleRefs(ref, function (toggleButtonNode) {\n        toggleButtonRef.current = toggleButtonNode;\n      }), _extends4.id = toggleButtonId, _extends4.tabIndex = -1, _extends4), !rest.disabled && _extends({}, {\n        onClick: callAllEventHandlers(onClick, toggleButtonHandleClick)\n      }), {}, rest);\n    },\n    // actions.\n    toggleMenu: function toggleMenu() {\n      dispatch({\n        type: FunctionToggleMenu$1\n      });\n    },\n    openMenu: function openMenu() {\n      dispatch({\n        type: FunctionOpenMenu$1\n      });\n    },\n    closeMenu: function closeMenu() {\n      dispatch({\n        type: FunctionCloseMenu$1\n      });\n    },\n    setHighlightedIndex: function setHighlightedIndex(newHighlightedIndex) {\n      dispatch({\n        type: FunctionSetHighlightedIndex$1,\n        highlightedIndex: newHighlightedIndex\n      });\n    },\n    setInputValue: function setInputValue(newInputValue) {\n      dispatch({\n        type: FunctionSetInputValue,\n        inputValue: newInputValue\n      });\n    },\n    selectItem: function selectItem(newSelectedItem) {\n      dispatch({\n        type: FunctionSelectItem$1,\n        selectedItem: newSelectedItem\n      });\n    },\n    reset: function reset() {\n      dispatch({\n        type: FunctionReset$1\n      });\n    },\n    // state.\n    highlightedIndex: highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    inputValue: inputValue\n  };\n}\n\nexport default Downshift;\nexport { resetIdCounter, useCombobox, useSelect };\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;"],"sourceRoot":""}